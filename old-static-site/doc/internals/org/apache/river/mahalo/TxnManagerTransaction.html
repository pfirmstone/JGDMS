<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_60) on Mon Mar 28 17:11:44 AEST 2016 -->
<title>TxnManagerTransaction (River-Internet vtrunk API Documentation (internals))</title>
<meta name="date" content="2016-03-28">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TxnManagerTransaction (River-Internet vtrunk API Documentation (internals))";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TxnManagerTransaction.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/river/mahalo/TxnManagerInternalException.html" title="class in org.apache.river.mahalo"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/river/mahalo/TxnMgrAdminProxy.html" title="class in org.apache.river.mahalo"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/river/mahalo/TxnManagerTransaction.html" target="_top">Frames</a></li>
<li><a href="TxnManagerTransaction.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.river.mahalo</div>
<h2 title="Class TxnManagerTransaction" class="title">Class TxnManagerTransaction</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.river.mahalo.TxnManagerTransaction</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../net/jini/core/transaction/server/TransactionConstants.html" title="interface in net.jini.core.transaction.server">TransactionConstants</a>, <a href="../../../../org/apache/river/constants/TimeConstants.html" title="interface in org.apache.river.constants">TimeConstants</a>, <a href="../../../../org/apache/river/landlord/LeasedResource.html" title="interface in org.apache.river.landlord">LeasedResource</a></dd>
</dl>
<hr>
<br>
<pre>class <span class="typeNameLabel">TxnManagerTransaction</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../net/jini/core/transaction/server/TransactionConstants.html" title="interface in net.jini.core.transaction.server">TransactionConstants</a>, <a href="../../../../org/apache/river/constants/TimeConstants.html" title="interface in org.apache.river.constants">TimeConstants</a>, <a href="../../../../org/apache/river/landlord/LeasedResource.html" title="interface in org.apache.river.landlord">LeasedResource</a></pre>
<div class="block">TxnManagerTransaction is a class which
 captures the internal representation of a transaction
 in the TxnManagerImpl server.  This class is associated
 with a transaction id.
 The information encapsulated includes the list of participants
 which have joined the transaction, the state of the
 transaction, the crash.

 The user of a ParticipantHolder must make the association
 between an instance of a ParticipantHolder and some sort
 of key or index.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Sun Microsystems, Inc.</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#expires">expires</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../org/apache/river/mahalo/Job.html" title="class in org.apache.river.mahalo">Job</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#job">job</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#jobLock">jobLock</a></span></code>
<div class="block">Interlock for Jobs is needed since many
 threads on behalf of many clients can
 simultaneously access or modify the Job
 associated with this transaction when
 when attempting to prepare, roll forward
 or roll back participants.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#leaseLock">leaseLock</a></span></code>
<div class="block">Interlock for the expiration time since
 lease renewal which set it may compete
 against lease checks which read it.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../org/apache/river/mahalo/log/LogManager.html" title="interface in org.apache.river.mahalo.log">LogManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#logmgr">logmgr</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Logger.html?is-external=true" title="class or interface in java.util.logging">Logger</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#operationsLogger">operationsLogger</a></span></code>
<div class="block">Logger for operation related messages</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/apache/river/mahalo/ParticipantHandle.html" title="class in org.apache.river.mahalo">ParticipantHandle</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#parts">parts</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../org/apache/river/mahalo/TxnSettler.html" title="interface in org.apache.river.mahalo">TxnSettler</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#settler">settler</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#stateLock">stateLock</a></span></code>
<div class="block">Interlock for transaction state needed
 since many threads on behalf of many
 clients can simultaneously access or
 attempt to modify this transaction's
 state as a side effect of calling
 commit or abort.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static boolean[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#states">states</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../net/jini/core/transaction/server/ServerTransaction.html" title="class in net.jini.core.transaction.server">ServerTransaction</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#str">str</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent.ExecutorService.html?is-external=true" title="class or interface in java.util">java.util.concurrent.ExecutorService</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#threadpool">threadpool</a></span></code>
<div class="block">"Parallelizing" the interaction between the manager
 and participants means using threads to interact with
 participants on behalf of the manager.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Logger.html?is-external=true" title="class or interface in java.util.logging">Logger</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#transactionsLogger">transactionsLogger</a></span></code>
<div class="block">Logger for transaction related messages</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#trstate">trstate</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#uuid">uuid</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../org/apache/river/thread/WakeupManager.html" title="class in org.apache.river.thread">WakeupManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#wm">wm</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.net.jini.core.transaction.server.TransactionConstants">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;net.jini.core.transaction.server.<a href="../../../../net/jini/core/transaction/server/TransactionConstants.html" title="interface in net.jini.core.transaction.server">TransactionConstants</a></h3>
<code><a href="../../../../net/jini/core/transaction/server/TransactionConstants.html#ABORTED">ABORTED</a>, <a href="../../../../net/jini/core/transaction/server/TransactionConstants.html#ACTIVE">ACTIVE</a>, <a href="../../../../net/jini/core/transaction/server/TransactionConstants.html#COMMITTED">COMMITTED</a>, <a href="../../../../net/jini/core/transaction/server/TransactionConstants.html#NOTCHANGED">NOTCHANGED</a>, <a href="../../../../net/jini/core/transaction/server/TransactionConstants.html#PREPARED">PREPARED</a>, <a href="../../../../net/jini/core/transaction/server/TransactionConstants.html#VOTING">VOTING</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.river.constants.TimeConstants">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.river.constants.<a href="../../../../org/apache/river/constants/TimeConstants.html" title="interface in org.apache.river.constants">TimeConstants</a></h3>
<code><a href="../../../../org/apache/river/constants/TimeConstants.html#DAYS">DAYS</a>, <a href="../../../../org/apache/river/constants/TimeConstants.html#HOURS">HOURS</a>, <a href="../../../../org/apache/river/constants/TimeConstants.html#MINUTES">MINUTES</a>, <a href="../../../../org/apache/river/constants/TimeConstants.html#SECONDS">SECONDS</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#TxnManagerTransaction-net.jini.core.transaction.server.TransactionManager-org.apache.river.mahalo.log.LogManager-long-java.util.concurrent.ExecutorService-org.apache.river.thread.WakeupManager-org.apache.river.mahalo.TxnSettler-net.jini.id.Uuid-">TxnManagerTransaction</a></span>(<a href="../../../../net/jini/core/transaction/server/TransactionManager.html" title="interface in net.jini.core.transaction.server">TransactionManager</a>&nbsp;mgr,
                     <a href="../../../../org/apache/river/mahalo/log/LogManager.html" title="interface in org.apache.river.mahalo.log">LogManager</a>&nbsp;logmgr,
                     long&nbsp;id,
                     <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent.ExecutorService.html?is-external=true" title="class or interface in java.util">java.util.concurrent.ExecutorService</a>&nbsp;threadpool,
                     <a href="../../../../org/apache/river/thread/WakeupManager.html" title="class in org.apache.river.thread">WakeupManager</a>&nbsp;wm,
                     <a href="../../../../org/apache/river/mahalo/TxnSettler.html" title="interface in org.apache.river.mahalo">TxnSettler</a>&nbsp;settler,
                     <a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a>&nbsp;uuid)</code>
<div class="block">Constructs a <code>TxnManagerTransaction</code></div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#abort-long-">abort</a></span>(long&nbsp;waitFor)</code>
<div class="block">Aborts the transaction.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#add-org.apache.river.mahalo.ParticipantHandle-">add</a></span>(<a href="../../../../org/apache/river/mahalo/ParticipantHandle.html" title="class in org.apache.river.mahalo">ParticipantHandle</a>&nbsp;handle)</code>
<div class="block">Convenience method which adds a given <code>ParticipantHandle</code> 
 to the set of <code>ParticpantHandle</code>s associated with this
 transaction.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#atomicCheckExpirationIfActive--">atomicCheckExpirationIfActive</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#atomicCheckStateActive--">atomicCheckStateActive</a></span>()</code>
<div class="block">Atomic check that state is ACTIVE.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#commit-long-">commit</a></span>(long&nbsp;waitFor)</code>
<div class="block">Commits the transaction.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#doAbort-long-">doAbort</a></span>(long&nbsp;timeout)</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#ensureCurrent--">ensureCurrent</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#getCookie--">getCookie</a></span>()</code>
<div class="block">Returns the universally unique identifier associated with this
 lease.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#getExpiration--">getExpiration</a></span>()</code>
<div class="block">Returns the expiration time of the lease.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#getParticipantInfo--">getParticipantInfo</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#getState--">getState</a></span>()</code>
<div class="block">This method returns the state of the transaction.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/jini/core/transaction/Transaction.html" title="interface in net.jini.core.transaction">Transaction</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#getTransaction--">getTransaction</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#join-net.jini.core.transaction.server.TransactionParticipant-long-">join</a></span>(<a href="../../../../net/jini/core/transaction/server/TransactionParticipant.html" title="interface in net.jini.core.transaction.server">TransactionParticipant</a>&nbsp;preparedPart,
    long&nbsp;crashCount)</code>
<div class="block">Implementation of the join method.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#modifyParticipant-org.apache.river.mahalo.ParticipantHandle-int-">modifyParticipant</a></span>(<a href="../../../../org/apache/river/mahalo/ParticipantHandle.html" title="class in org.apache.river.mahalo">ParticipantHandle</a>&nbsp;handle,
                 int&nbsp;state)</code>
<div class="block">Convenience method which allows the caller to modify the
 prepState associated with a given <code>ParticipantHandle</code></div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#modifyTxnState-int-">modifyTxnState</a></span>(int&nbsp;state)</code>
<div class="block">Changes the manager-side state of the transaction.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/apache/river/mahalo/ParticipantHandle.html" title="class in org.apache.river.mahalo">ParticipantHandle</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#parthandles--">parthandles</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#restoreTransientState-net.jini.security.ProxyPreparer-">restoreTransientState</a></span>(<a href="../../../../net/jini/security/ProxyPreparer.html" title="interface in net.jini.security">ProxyPreparer</a>&nbsp;preparer)</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/mahalo/TxnManagerTransaction.html#setExpiration-long-">setExpiration</a></span>(long&nbsp;newExpiration)</code>
<div class="block">Changes the expiration time of the lease.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="states">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>states</h4>
<pre>private static final&nbsp;boolean[][] states</pre>
</li>
</ul>
<a name="parts">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parts</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/apache/river/mahalo/ParticipantHandle.html" title="class in org.apache.river.mahalo">ParticipantHandle</a>&gt; parts</pre>
</li>
</ul>
<a name="str">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>str</h4>
<pre>private final&nbsp;<a href="../../../../net/jini/core/transaction/server/ServerTransaction.html" title="class in net.jini.core.transaction.server">ServerTransaction</a> str</pre>
</li>
</ul>
<a name="trstate">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>trstate</h4>
<pre>private&nbsp;int trstate</pre>
</li>
</ul>
<a name="expires">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expires</h4>
<pre>private&nbsp;long expires</pre>
</li>
</ul>
<a name="logmgr">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logmgr</h4>
<pre>private final&nbsp;<a href="../../../../org/apache/river/mahalo/log/LogManager.html" title="interface in org.apache.river.mahalo.log">LogManager</a> logmgr</pre>
</li>
</ul>
<a name="threadpool">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>threadpool</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent.ExecutorService.html?is-external=true" title="class or interface in java.util">java.util.concurrent.ExecutorService</a> threadpool</pre>
<div class="block">"Parallelizing" the interaction between the manager
 and participants means using threads to interact with
 participants on behalf of the manager. In the thread
 pool model, a TaskManager provides a finite set of
 threads used to accomplish a variety of tasks.
 A Job encapsulates a body of work which needs to be
 performed during the two-phase commit: preparing,
 committing and aborting.  Each work item is broken
 into smaller pieces of work- interactions with a
 single participant- each assigned to a task.

 When a transaction is committing, a PrepareJob is
 created and its tasks are scheduled.  After completion,
 the PrepareJob's outcome is computed. Depending on
 the outcome, either an AbortJob or CommitJob is
 scheduled.  When a transaction is aborted, an AbortJob
 is scheduled.

 A caller may specify a timeout value for commit/abort.
 The timeout represents the length of time a caller is
 willing to wait for participants to be instructed to
 roll-forward/back.  Should this timeout expire, a
 TimeoutExpiredException is thrown.  This causes the
 caller's thread to return back to the caller.  Someone
 needs to finish contacting all the participants.  This
 is accomplished by the SettlerTask.  SettlerTasks must
 use a different thread pool from what is used by the
 various Job types, otherwise deadlock will occur.</div>
</li>
</ul>
<a name="wm">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wm</h4>
<pre>private final&nbsp;<a href="../../../../org/apache/river/thread/WakeupManager.html" title="class in org.apache.river.thread">WakeupManager</a> wm</pre>
</li>
</ul>
<a name="settler">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>settler</h4>
<pre>private final&nbsp;<a href="../../../../org/apache/river/mahalo/TxnSettler.html" title="interface in org.apache.river.mahalo">TxnSettler</a> settler</pre>
</li>
</ul>
<a name="job">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>job</h4>
<pre>private&nbsp;<a href="../../../../org/apache/river/mahalo/Job.html" title="class in org.apache.river.mahalo">Job</a> job</pre>
</li>
</ul>
<a name="uuid">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>uuid</h4>
<pre>private final&nbsp;<a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a> uuid</pre>
</li>
</ul>
<a name="leaseLock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>leaseLock</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a> leaseLock</pre>
<div class="block">Interlock for the expiration time since
 lease renewal which set it may compete
 against lease checks which read it.</div>
</li>
</ul>
<a name="jobLock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>jobLock</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a> jobLock</pre>
<div class="block">Interlock for Jobs is needed since many
 threads on behalf of many clients can
 simultaneously access or modify the Job
 associated with this transaction when
 when attempting to prepare, roll forward
 or roll back participants.</div>
</li>
</ul>
<a name="stateLock">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stateLock</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a> stateLock</pre>
<div class="block">Interlock for transaction state needed
 since many threads on behalf of many
 clients can simultaneously access or
 attempt to modify this transaction's
 state as a side effect of calling
 commit or abort.</div>
</li>
</ul>
<a name="operationsLogger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>operationsLogger</h4>
<pre>private static final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Logger.html?is-external=true" title="class or interface in java.util.logging">Logger</a> operationsLogger</pre>
<div class="block">Logger for operation related messages</div>
</li>
</ul>
<a name="transactionsLogger">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>transactionsLogger</h4>
<pre>private static final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Logger.html?is-external=true" title="class or interface in java.util.logging">Logger</a> transactionsLogger</pre>
<div class="block">Logger for transaction related messages</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TxnManagerTransaction-net.jini.core.transaction.server.TransactionManager-org.apache.river.mahalo.log.LogManager-long-java.util.concurrent.ExecutorService-org.apache.river.thread.WakeupManager-org.apache.river.mahalo.TxnSettler-net.jini.id.Uuid-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TxnManagerTransaction</h4>
<pre>TxnManagerTransaction(<a href="../../../../net/jini/core/transaction/server/TransactionManager.html" title="interface in net.jini.core.transaction.server">TransactionManager</a>&nbsp;mgr,
                      <a href="../../../../org/apache/river/mahalo/log/LogManager.html" title="interface in org.apache.river.mahalo.log">LogManager</a>&nbsp;logmgr,
                      long&nbsp;id,
                      <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent.ExecutorService.html?is-external=true" title="class or interface in java.util">java.util.concurrent.ExecutorService</a>&nbsp;threadpool,
                      <a href="../../../../org/apache/river/thread/WakeupManager.html" title="class in org.apache.river.thread">WakeupManager</a>&nbsp;wm,
                      <a href="../../../../org/apache/river/mahalo/TxnSettler.html" title="interface in org.apache.river.mahalo">TxnSettler</a>&nbsp;settler,
                      <a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a>&nbsp;uuid)</pre>
<div class="block">Constructs a <code>TxnManagerTransaction</code></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mgr</code> - <code>TransactionManager</code> which owns
                        this internal representation.</dd>
<dd><code>logmgr</code> - <code>LogManager</code> responsible for
                        recording COMMITTED and ABORTED transactions
                        to stable storage.</dd>
<dd><code>id</code> - The transaction id</dd>
<dd><code>threadpool</code> - The <code>TaskManager</code> which provides
                         the pool of threads used to interact with
                         participants.</dd>
<dd><code>settler</code> - TxnSettler responsible for this transaction if
                        unsettled.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="add-org.apache.river.mahalo.ParticipantHandle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>void&nbsp;add(<a href="../../../../org/apache/river/mahalo/ParticipantHandle.html" title="class in org.apache.river.mahalo">ParticipantHandle</a>&nbsp;handle)
  throws <a href="../../../../org/apache/river/mahalo/InternalManagerException.html" title="class in org.apache.river.mahalo">InternalManagerException</a></pre>
<div class="block">Convenience method which adds a given <code>ParticipantHandle</code> 
 to the set of <code>ParticpantHandle</code>s associated with this
 transaction.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handle</code> - The added handle</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../org/apache/river/mahalo/InternalManagerException.html" title="class in org.apache.river.mahalo">InternalManagerException</a></code></dd>
</dl>
</li>
</ul>
<a name="modifyParticipant-org.apache.river.mahalo.ParticipantHandle-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>modifyParticipant</h4>
<pre>void&nbsp;modifyParticipant(<a href="../../../../org/apache/river/mahalo/ParticipantHandle.html" title="class in org.apache.river.mahalo">ParticipantHandle</a>&nbsp;handle,
                       int&nbsp;state)</pre>
<div class="block">Convenience method which allows the caller to modify the
 prepState associated with a given <code>ParticipantHandle</code></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handle</code> - The <code>ParticipantHandle</code> being modified</dd>
<dd><code>state</code> - The new prepstate</dd>
</dl>
</li>
</ul>
<a name="modifyTxnState-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>modifyTxnState</h4>
<pre>boolean&nbsp;modifyTxnState(int&nbsp;state)</pre>
<div class="block">Changes the manager-side state of the transaction.  This
 method makes only valid state changes and informs the
 caller if the change was successful. Calls to this method
 synchronize around the manager-side state variable appropriately.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>state</code> - the new desired state</dd>
</dl>
</li>
</ul>
<a name="join-net.jini.core.transaction.server.TransactionParticipant-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>join</h4>
<pre>public&nbsp;void&nbsp;join(<a href="../../../../net/jini/core/transaction/server/TransactionParticipant.html" title="interface in net.jini.core.transaction.server">TransactionParticipant</a>&nbsp;preparedPart,
                 long&nbsp;crashCount)
          throws <a href="../../../../net/jini/core/transaction/CannotJoinException.html" title="class in net.jini.core.transaction">CannotJoinException</a>,
                 <a href="../../../../net/jini/core/transaction/server/CrashCountException.html" title="class in net.jini.core.transaction.server">CrashCountException</a>,
                 <a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/RemoteException.html?is-external=true" title="class or interface in java.rmi">RemoteException</a></pre>
<div class="block">Implementation of the join method.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>preparedPart</code> - The joining <code>TransactionParticpant</code></dd>
<dd><code>crashCount</code> - The crashcount associated with the joining
                         <code>TransactionParticipant</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../net/jini/core/transaction/CannotJoinException.html" title="class in net.jini.core.transaction">CannotJoinException</a></code></dd>
<dd><code><a href="../../../../net/jini/core/transaction/server/CrashCountException.html" title="class in net.jini.core.transaction.server">CrashCountException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/RemoteException.html?is-external=true" title="class or interface in java.rmi">RemoteException</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../net/jini/core/transaction/server/TransactionParticipant.html" title="interface in net.jini.core.transaction.server"><code>TransactionParticipant</code></a></dd>
</dl>
</li>
</ul>
<a name="getState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getState</h4>
<pre>public&nbsp;int&nbsp;getState()</pre>
<div class="block">This method returns the state of the transaction.
 Since the purpose of the set of ParticipantHolders is
 to associate a Transaction with a group of
 participants joined the transaction, we would like
 to get the state of the transaction associated with
 the aforementioned set.</div>
</li>
</ul>
<a name="atomicCheckExpirationIfActive--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>atomicCheckExpirationIfActive</h4>
<pre>public&nbsp;int&nbsp;atomicCheckExpirationIfActive()
                                  throws <a href="../../../../net/jini/core/transaction/TransactionException.html" title="class in net.jini.core.transaction">TransactionException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../net/jini/core/transaction/TransactionException.html" title="class in net.jini.core.transaction">TransactionException</a></code></dd>
</dl>
</li>
</ul>
<a name="atomicCheckStateActive--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>atomicCheckStateActive</h4>
<pre>public&nbsp;int&nbsp;atomicCheckStateActive()
                           throws <a href="../../../../net/jini/core/transaction/TransactionException.html" title="class in net.jini.core.transaction">TransactionException</a></pre>
<div class="block">Atomic check that state is ACTIVE.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>ACTIVE if lease hasn't expired.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../net/jini/core/transaction/TransactionException.html" title="class in net.jini.core.transaction">TransactionException</a></code> - otherwise.</dd>
</dl>
</li>
</ul>
<a name="commit-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commit</h4>
<pre>void&nbsp;commit(long&nbsp;waitFor)
     throws <a href="../../../../net/jini/core/transaction/CannotCommitException.html" title="class in net.jini.core.transaction">CannotCommitException</a>,
            <a href="../../../../net/jini/core/transaction/TimeoutExpiredException.html" title="class in net.jini.core.transaction">TimeoutExpiredException</a>,
            <a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/RemoteException.html?is-external=true" title="class or interface in java.rmi">RemoteException</a></pre>
<div class="block">Commits the transaction.
 This initiates the two-phase commit protocol.  First,
 each <code>net.jini.core.transaction.server.TransactionParticipant</code>
 in the set of participants joined in the
 <code>net.jini.core.transaction.server.Transaction</code>
 is instructed to vote and the votes are tallied. This is the
 first phase (prepare phase).

 Depending on the outcome of the votes, the transaction
 is considered committed or aborted.  Once commit/abort
 status is known, the participants are notified with
 a message to either roll-forward (commit case) or 
 roll-back (abort case).  This is the roll-phase.
 
 Since there may be a one-to-many relationship between
 a transaction and its participants,
 <code>org.apache.river.thread.TaskManager</code>s are used
 as a generic mechanism to provide the threads needed
 to interact with the participants.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../net/jini/core/transaction/CannotCommitException.html" title="class in net.jini.core.transaction">CannotCommitException</a></code></dd>
<dd><code><a href="../../../../net/jini/core/transaction/TimeoutExpiredException.html" title="class in net.jini.core.transaction">TimeoutExpiredException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/RemoteException.html?is-external=true" title="class or interface in java.rmi">RemoteException</a></code></dd>
</dl>
</li>
</ul>
<a name="abort-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abort</h4>
<pre>void&nbsp;abort(long&nbsp;waitFor)
    throws <a href="../../../../net/jini/core/transaction/CannotAbortException.html" title="class in net.jini.core.transaction">CannotAbortException</a>,
           <a href="../../../../net/jini/core/transaction/TimeoutExpiredException.html" title="class in net.jini.core.transaction">TimeoutExpiredException</a></pre>
<div class="block">Aborts the transaction.
 This method attempts to set the state of the transaction
 to the ABORTED state.  If successful, it then creates
 an AbortJob which schedules tasks executed on a
 thread pool.  These tasks interact with the participants
 joined in this transaction to inform them to roll back.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>waitFor</code> - Timeout value which controls how long,
                      the caller is willing to wait for the
                      participants joined in the transaction 
                      to be instructed to roll-back.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../net/jini/core/transaction/CannotAbortException.html" title="class in net.jini.core.transaction">CannotAbortException</a></code></dd>
<dd><code><a href="../../../../net/jini/core/transaction/TimeoutExpiredException.html" title="class in net.jini.core.transaction">TimeoutExpiredException</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/river/mahalo/AbortJob.html" title="class in org.apache.river.mahalo"><code>AbortJob</code></a>, 
<a href="../../../../org/apache/river/mahalo/ParticipantTask.html" title="class in org.apache.river.mahalo"><code>ParticipantTask</code></a>, 
<a href="../../../../org/apache/river/thread/TaskManager.html" title="class in org.apache.river.thread"><code>TaskManager</code></a>, 
<a href="../../../../net/jini/core/transaction/server/TransactionParticipant.html" title="interface in net.jini.core.transaction.server"><code>TransactionParticipant</code></a></dd>
</dl>
</li>
</ul>
<a name="getTransaction--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTransaction</h4>
<pre>public&nbsp;<a href="../../../../net/jini/core/transaction/Transaction.html" title="interface in net.jini.core.transaction">Transaction</a>&nbsp;getTransaction()</pre>
</li>
</ul>
<a name="getExpiration--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExpiration</h4>
<pre>public&nbsp;long&nbsp;getExpiration()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/apache/river/landlord/LeasedResource.html#getExpiration--">LeasedResource</a></code></span></div>
<div class="block">Returns the expiration time of the lease.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/river/landlord/LeasedResource.html#getExpiration--">getExpiration</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/river/landlord/LeasedResource.html" title="interface in org.apache.river.landlord">LeasedResource</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The expiration time in milliseconds since the beginning 
         of the epoch</dd>
</dl>
</li>
</ul>
<a name="setExpiration-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setExpiration</h4>
<pre>public&nbsp;void&nbsp;setExpiration(long&nbsp;newExpiration)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/apache/river/landlord/LeasedResource.html#setExpiration-long-">LeasedResource</a></code></span></div>
<div class="block">Changes the expiration time of the lease.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/river/landlord/LeasedResource.html#setExpiration-long-">setExpiration</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/river/landlord/LeasedResource.html" title="interface in org.apache.river.landlord">LeasedResource</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newExpiration</code> - The new expiration time in milliseconds
                      since the beginning of the epoch</dd>
</dl>
</li>
</ul>
<a name="getCookie--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCookie</h4>
<pre>public&nbsp;<a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a>&nbsp;getCookie()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/apache/river/landlord/LeasedResource.html#getCookie--">LeasedResource</a></code></span></div>
<div class="block">Returns the universally unique identifier associated with this
 lease. Any proxies for this lease that implement <a href="../../../../net/jini/id/ReferentUuid.html" title="interface in net.jini.id"><code>ReferentUuid</code></a> 
 should return this object from their
 <a href="../../../../net/jini/id/ReferentUuid.html#getReferentUuid--"><code>getReferentUuid</code></a>
 method and should base their implementation of <code>equals</code> on
 this object.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/river/landlord/LeasedResource.html#getCookie--">getCookie</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/river/landlord/LeasedResource.html" title="interface in org.apache.river.landlord">LeasedResource</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Uuid associated with lease.</dd>
</dl>
</li>
</ul>
<a name="doAbort-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doAbort</h4>
<pre>private&nbsp;void&nbsp;doAbort(long&nbsp;timeout)</pre>
</li>
</ul>
<a name="ensureCurrent--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ensureCurrent</h4>
<pre>boolean&nbsp;ensureCurrent()</pre>
</li>
</ul>
<a name="parthandles--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parthandles</h4>
<pre>private&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/apache/river/mahalo/ParticipantHandle.html" title="class in org.apache.river.mahalo">ParticipantHandle</a>&gt;&nbsp;parthandles()</pre>
</li>
</ul>
<a name="getParticipantInfo--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getParticipantInfo</h4>
<pre>private&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getParticipantInfo()</pre>
</li>
</ul>
<a name="restoreTransientState-net.jini.security.ProxyPreparer-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>restoreTransientState</h4>
<pre>void&nbsp;restoreTransientState(<a href="../../../../net/jini/security/ProxyPreparer.html" title="interface in net.jini.security">ProxyPreparer</a>&nbsp;preparer)
                    throws <a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/RemoteException.html?is-external=true" title="class or interface in java.rmi">RemoteException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/RemoteException.html?is-external=true" title="class or interface in java.rmi">RemoteException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TxnManagerTransaction.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/river/mahalo/TxnManagerInternalException.html" title="class in org.apache.river.mahalo"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/river/mahalo/TxnMgrAdminProxy.html" title="class in org.apache.river.mahalo"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/river/mahalo/TxnManagerTransaction.html" target="_top">Frames</a></li>
<li><a href="TxnManagerTransaction.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright 2007-2013, multiple authors.<br>Licensed under the <a href=http://www.apache.org/licenses/LICENSE-2.0 target=child >Apache License, Version 2.0</a>, see the <a href=../../../../doc-files/NOTICE target=child >NOTICE</a> file for attributions.</small></p>
</body>
</html>
