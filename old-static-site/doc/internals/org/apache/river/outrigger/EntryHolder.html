<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_60) on Mon Mar 28 17:11:48 AEST 2016 -->
<title>EntryHolder (River-Internet vtrunk API Documentation (internals))</title>
<meta name="date" content="2016-03-28">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="EntryHolder (River-Internet vtrunk API Documentation (internals))";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/EntryHolder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/river/outrigger/EntryHandleTmplDesc.html" title="class in org.apache.river.outrigger"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/river/outrigger/EntryHolder.ContinuingQuery.html" title="class in org.apache.river.outrigger"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/river/outrigger/EntryHolder.html" target="_top">Frames</a></li>
<li><a href="EntryHolder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.river.outrigger</div>
<h2 title="Class EntryHolder" class="title">Class EntryHolder</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.river.outrigger.EntryHolder</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../net/jini/core/transaction/server/TransactionConstants.html" title="interface in net.jini.core.transaction.server">TransactionConstants</a></dd>
</dl>
<hr>
<br>
<pre>class <span class="typeNameLabel">EntryHolder</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../net/jini/core/transaction/server/TransactionConstants.html" title="interface in net.jini.core.transaction.server">TransactionConstants</a></pre>
<div class="block"><code>EntryHolder</code>s hold all the entries of a exact given
 class. <code>OutriggerServerImpl</code> has one
 <code>EntryHolder</code> for each entry class it knows about. A
 simple implementation is used that simply stores the entries in a
 list.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Sun Microsystems, Inc.</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/EntryHolder.ContinuingQuery.html" title="class in org.apache.river.outrigger">EntryHolder.ContinuingQuery</a></span></code>
<div class="block">Object that can be used to perform a query that can
 return multiple matches and be restarted in another thread.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/EntryHolder.SimpleRepEnum.html" title="class in org.apache.river.outrigger">EntryHolder.SimpleRepEnum</a></span></code>
<div class="block">The class that implements <code>RepEnum</code> for this class.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/EntryHolder.html#content">content</a></span></code>
<div class="block">The list that holds the handles</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent.ConcurrentMap.html?is-external=true" title="class or interface in java.util">java.util.concurrent.ConcurrentMap</a>&lt;<a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a>,<a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/EntryHolder.html#idMap">idMap</a></span></code>
<div class="block">The map of cookies to handles, shared with the
 <code>EntryHolderSet</code> and every other
 <code>EntryHolder</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Logger.html?is-external=true" title="class or interface in java.util.logging">Logger</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/EntryHolder.html#iteratorLogger">iteratorLogger</a></span></code>
<div class="block">Logger for logging information about iterators</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Logger.html?is-external=true" title="class or interface in java.util.logging">Logger</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/EntryHolder.html#matchingLogger">matchingLogger</a></span></code>
<div class="block">Logger for logging information about entry matching</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../org/apache/river/outrigger/OutriggerServerImpl.html" title="class in org.apache.river.outrigger">OutriggerServerImpl</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/EntryHolder.html#space">space</a></span></code>
<div class="block">The server we are working for</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.net.jini.core.transaction.server.TransactionConstants">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;net.jini.core.transaction.server.<a href="../../../../net/jini/core/transaction/server/TransactionConstants.html" title="interface in net.jini.core.transaction.server">TransactionConstants</a></h3>
<code><a href="../../../../net/jini/core/transaction/server/TransactionConstants.html#ABORTED">ABORTED</a>, <a href="../../../../net/jini/core/transaction/server/TransactionConstants.html#ACTIVE">ACTIVE</a>, <a href="../../../../net/jini/core/transaction/server/TransactionConstants.html#COMMITTED">COMMITTED</a>, <a href="../../../../net/jini/core/transaction/server/TransactionConstants.html#NOTCHANGED">NOTCHANGED</a>, <a href="../../../../net/jini/core/transaction/server/TransactionConstants.html#PREPARED">PREPARED</a>, <a href="../../../../net/jini/core/transaction/server/TransactionConstants.html#VOTING">VOTING</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/EntryHolder.html#EntryHolder-org.apache.river.outrigger.OutriggerServerImpl-java.util.concurrent.ConcurrentMap-">EntryHolder</a></span>(<a href="../../../../org/apache/river/outrigger/OutriggerServerImpl.html" title="class in org.apache.river.outrigger">OutriggerServerImpl</a>&nbsp;space,
           <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent.ConcurrentMap.html?is-external=true" title="class or interface in java.util">java.util.concurrent.ConcurrentMap</a>&lt;<a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a>,<a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&gt;&nbsp;idMap)</code>
<div class="block">Create a new <code>EntryHolder</code> with the shared
 <code>idMap</code>, and which will hold classes of the given
 <code>className</code>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/EntryHolder.html#add-org.apache.river.outrigger.EntryHandle-org.apache.river.outrigger.TransactableMgr-">add</a></span>(<a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&nbsp;handle,
   <a href="../../../../org/apache/river/outrigger/TransactableMgr.html" title="interface in org.apache.river.outrigger">TransactableMgr</a>&nbsp;txn)</code>
<div class="block">Add new new entry to the holder.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/EntryHolder.html#attemptCapture-org.apache.river.outrigger.EntryHandle-org.apache.river.outrigger.TransactableMgr-boolean-java.util.Set-java.util.Set-java.util.Set-long-">attemptCapture</a></span>(<a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&nbsp;handle,
              <a href="../../../../org/apache/river/outrigger/TransactableMgr.html" title="interface in org.apache.river.outrigger">TransactableMgr</a>&nbsp;txn,
              boolean&nbsp;takeIt,
              <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;conflictSet,
              <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;lockedEntrySet,
              <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;provisionallyRemovedEntrySet,
              long&nbsp;now)</code>
<div class="block">Atomically check to see if the passed entry can be read/taken by
 the specified operation using the specified transaction and if
 it can read/take it and return <code>true</code>, otherwise
 return <code>false</code>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/EntryHolder.html#confirmAvailability-org.apache.river.outrigger.EntryRep-org.apache.river.outrigger.EntryHandle-org.apache.river.outrigger.TransactableMgr-boolean-long-java.util.Set-java.util.Set-java.util.Set-">confirmAvailability</a></span>(<a href="../../../../org/apache/river/outrigger/EntryRep.html" title="class in org.apache.river.outrigger">EntryRep</a>&nbsp;rep,
                   <a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&nbsp;handle,
                   <a href="../../../../org/apache/river/outrigger/TransactableMgr.html" title="interface in org.apache.river.outrigger">TransactableMgr</a>&nbsp;txn,
                   boolean&nbsp;takeIt,
                   long&nbsp;time,
                   <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;conflictSet,
                   <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a>&gt;&nbsp;lockedEntrySet,
                   <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&gt;&nbsp;provisionallyRemovedEntrySet)</code>
<div class="block">With the EntryRep <code>rep</code> passed in, verify that the
 entry hasn't been taken by someone else, hasn't expired, etc.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/EntryHolder.html#confirmAvailabilityWithTxn-org.apache.river.outrigger.EntryRep-org.apache.river.outrigger.EntryHandle-org.apache.river.outrigger.TransactableMgr-boolean-long-java.util.Set-java.util.Set-java.util.Set-">confirmAvailabilityWithTxn</a></span>(<a href="../../../../org/apache/river/outrigger/EntryRep.html" title="class in org.apache.river.outrigger">EntryRep</a>&nbsp;rep,
                          <a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&nbsp;handle,
                          <a href="../../../../org/apache/river/outrigger/TransactableMgr.html" title="interface in org.apache.river.outrigger">TransactableMgr</a>&nbsp;txnMgr,
                          boolean&nbsp;takeIt,
                          long&nbsp;time,
                          <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;conflictSet,
                          <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a>&gt;&nbsp;lockedEntrySet,
                          <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&gt;&nbsp;provisionallyRemovedEntrySet)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../org/apache/river/outrigger/RepEnum.html" title="interface in org.apache.river.outrigger">RepEnum</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/EntryHolder.html#contents-org.apache.river.outrigger.TransactableMgr-">contents</a></span>(<a href="../../../../org/apache/river/outrigger/TransactableMgr.html" title="interface in org.apache.river.outrigger">TransactableMgr</a>&nbsp;mgr)</code>
<div class="block">Return an enumerator over the contents of this space that are visible
 from the given mgr.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../../org/apache/river/outrigger/EntryHolder.ContinuingQuery.html" title="class in org.apache.river.outrigger">EntryHolder.ContinuingQuery</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/EntryHolder.html#continuingQuery-org.apache.river.outrigger.EntryRep:A-org.apache.river.outrigger.TransactableMgr-boolean-long-">continuingQuery</a></span>(<a href="../../../../org/apache/river/outrigger/EntryRep.html" title="class in org.apache.river.outrigger">EntryRep</a>[]&nbsp;tmpls,
               <a href="../../../../org/apache/river/outrigger/TransactableMgr.html" title="interface in org.apache.river.outrigger">TransactableMgr</a>&nbsp;txn,
               boolean&nbsp;takeThem,
               long&nbsp;now)</code>
<div class="block">Return an object that can be used to perform a query that can
 return multiple matches and be restarted in another thread.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/EntryHolder.html#dump-java.lang.String-">dump</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Debug method:  Dump out the state of this holder, printing out
 the name of the dump first.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private <a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/EntryHolder.html#getContentsHead--">getContentsHead</a></span>()</code>
<div class="block">Get the head of the contents list</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/EntryHolder.html#grab-org.apache.river.outrigger.EntryHandle-org.apache.river.outrigger.TransactableMgr-int-boolean-boolean-">grab</a></span>(<a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&nbsp;handle,
    <a href="../../../../org/apache/river/outrigger/TransactableMgr.html" title="interface in org.apache.river.outrigger">TransactableMgr</a>&nbsp;txn,
    int&nbsp;op,
    boolean&nbsp;takeIt,
    boolean&nbsp;recovery)</code>
<div class="block">Given an entry that we want to return as the result of a query
 and we have confirmed we can return it, make the results of the
 query visible to the rest of the service.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/EntryHolder.html#hasMatch-org.apache.river.outrigger.EntryRep-org.apache.river.outrigger.TransactableMgr-boolean-java.util.Set-java.util.Set-java.util.Set-">hasMatch</a></span>(<a href="../../../../org/apache/river/outrigger/EntryRep.html" title="class in org.apache.river.outrigger">EntryRep</a>&nbsp;tmpl,
        <a href="../../../../org/apache/river/outrigger/TransactableMgr.html" title="interface in org.apache.river.outrigger">TransactableMgr</a>&nbsp;txn,
        boolean&nbsp;takeIt,
        <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;conflictSet,
        <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;lockedEntrySet,
        <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;provisionallyRemovedEntrySet)</code>
<div class="block">Return an <code>EntryHandle</code> object that matches the given
 template, or <code>null</code> if none does.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/EntryHolder.html#isExpired-long-org.apache.river.outrigger.EntryHandle-">isExpired</a></span>(long&nbsp;now,
         <a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&nbsp;handle)</code>
<div class="block">Return <code>true</code> if the entry held by the given
 <code>handle</code> has expired by the time in <code>now</code>.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/EntryHolder.html#newEntryHandle-org.apache.river.outrigger.EntryRep-org.apache.river.outrigger.TransactableMgr-">newEntryHandle</a></span>(<a href="../../../../org/apache/river/outrigger/EntryRep.html" title="class in org.apache.river.outrigger">EntryRep</a>&nbsp;rep,
              <a href="../../../../org/apache/river/outrigger/TransactableMgr.html" title="interface in org.apache.river.outrigger">TransactableMgr</a>&nbsp;mgr)</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/EntryHolder.html#reap--">reap</a></span>()</code>
<div class="block">Reap the expired elements.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/EntryHolder.html#recoverTake-org.apache.river.outrigger.EntryHandle-org.apache.river.outrigger.Txn-">recoverTake</a></span>(<a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&nbsp;handle,
           <a href="../../../../org/apache/river/outrigger/Txn.html" title="class in org.apache.river.outrigger">Txn</a>&nbsp;txn)</code>
<div class="block">Recover a logged take.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/EntryHolder.html#remove-org.apache.river.outrigger.EntryHandle-boolean-">remove</a></span>(<a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&nbsp;h,
      boolean&nbsp;recovery)</code>
<div class="block">Remove the given handle from this holder and the <code>idMap</code>.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>(package private) <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/EntryHolder.html#supertypes--">supertypes</a></span>()</code>
<div class="block">Return an array of the class names of the super classes of the
 entries in this holder, or <code>null</code> if the holder is
 empty.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="content">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>content</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Queue.html?is-external=true" title="class or interface in java.util">Queue</a>&lt;<a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&gt; content</pre>
<div class="block">The list that holds the handles</div>
</li>
</ul>
<a name="idMap">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>idMap</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent.ConcurrentMap.html?is-external=true" title="class or interface in java.util">java.util.concurrent.ConcurrentMap</a>&lt;<a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a>,<a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&gt; idMap</pre>
<div class="block">The map of cookies to handles, shared with the
 <code>EntryHolderSet</code> and every other
 <code>EntryHolder</code>.</div>
</li>
</ul>
<a name="space">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>space</h4>
<pre>private final&nbsp;<a href="../../../../org/apache/river/outrigger/OutriggerServerImpl.html" title="class in org.apache.river.outrigger">OutriggerServerImpl</a> space</pre>
<div class="block">The server we are working for</div>
</li>
</ul>
<a name="matchingLogger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>matchingLogger</h4>
<pre>private static final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Logger.html?is-external=true" title="class or interface in java.util.logging">Logger</a> matchingLogger</pre>
<div class="block">Logger for logging information about entry matching</div>
</li>
</ul>
<a name="iteratorLogger">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>iteratorLogger</h4>
<pre>private static final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Logger.html?is-external=true" title="class or interface in java.util.logging">Logger</a> iteratorLogger</pre>
<div class="block">Logger for logging information about iterators</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="EntryHolder-org.apache.river.outrigger.OutriggerServerImpl-java.util.concurrent.ConcurrentMap-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>EntryHolder</h4>
<pre>EntryHolder(<a href="../../../../org/apache/river/outrigger/OutriggerServerImpl.html" title="class in org.apache.river.outrigger">OutriggerServerImpl</a>&nbsp;space,
            <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent.ConcurrentMap.html?is-external=true" title="class or interface in java.util">java.util.concurrent.ConcurrentMap</a>&lt;<a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a>,<a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&gt;&nbsp;idMap)</pre>
<div class="block">Create a new <code>EntryHolder</code> with the shared
 <code>idMap</code>, and which will hold classes of the given
 <code>className</code>.  The <code>idMap</code> is shared with
 <code>EntryHolderSet</code> so that there is one table that can
 map ID to <code>EntryRep</code></div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="newEntryHandle-org.apache.river.outrigger.EntryRep-org.apache.river.outrigger.TransactableMgr-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newEntryHandle</h4>
<pre><a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&nbsp;newEntryHandle(<a href="../../../../org/apache/river/outrigger/EntryRep.html" title="class in org.apache.river.outrigger">EntryRep</a>&nbsp;rep,
                           <a href="../../../../org/apache/river/outrigger/TransactableMgr.html" title="interface in org.apache.river.outrigger">TransactableMgr</a>&nbsp;mgr)</pre>
</li>
</ul>
<a name="hasMatch-org.apache.river.outrigger.EntryRep-org.apache.river.outrigger.TransactableMgr-boolean-java.util.Set-java.util.Set-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasMatch</h4>
<pre><a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&nbsp;hasMatch(<a href="../../../../org/apache/river/outrigger/EntryRep.html" title="class in org.apache.river.outrigger">EntryRep</a>&nbsp;tmpl,
                     <a href="../../../../org/apache/river/outrigger/TransactableMgr.html" title="interface in org.apache.river.outrigger">TransactableMgr</a>&nbsp;txn,
                     boolean&nbsp;takeIt,
                     <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;conflictSet,
                     <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;lockedEntrySet,
                     <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;provisionallyRemovedEntrySet)
              throws <a href="../../../../net/jini/core/transaction/CannotJoinException.html" title="class in net.jini.core.transaction">CannotJoinException</a></pre>
<div class="block">Return an <code>EntryHandle</code> object that matches the given
 template, or <code>null</code> if none does. Optionally
 removes (perhaps provisionally) the found entry.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tmpl</code> - The template to match against</dd>
<dd><code>txn</code> - If non-null the transaction (represented as
                  a <code>TransactableMgr</code> to perform
                  the operation under. May be <code>null</code>
                  if the operation is not to be done under
                  a transaction.</dd>
<dd><code>takeIt</code> - <code>true</code> if <code>hasMatch</code> should
                        remove the matching entry.</dd>
<dd><code>conflictSet</code> - If non-null the <code>TransactableMgr</code>
                  objects of any transactions that prevent 
                  a non-null value from being retured will
                  be added to <code>conflictSet</code>. May
                  be <code>null</code> in which case
                  conflicting transaction will not be recorded.
                  This method assumes that any concurrent access
                  is being arbitrated by the set or by the caller.</dd>
<dd><code>lockedEntrySet</code> - If non-null the ID of any entries that
                  can't be retured because of conflicting
                  transaction will be added to
                  <code>lockedEntrySet</code>. May be
                  <code>null</code> in which case unavailable
                  entries will not be recorded.  This method 
                  assumes that any concurrent access is being
                  arbitrated by the set or by the caller.</dd>
<dd><code>provisionallyRemovedEntrySet</code> - If the entry can not be
              read/taken because it has been provisionally
              removed then its handle will be placed in the
              passed <code>WeakHashMap</code> as a key (with
              null as the value).  May be <code>null</code> in
              which case provisionally removed entries will not
              be recorded. This method assumes that any
              concurrent access is being arbitrated by the set
              or by the caller.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../net/jini/core/transaction/CannotJoinException.html" title="class in net.jini.core.transaction">CannotJoinException</a></code> - if a match is found and
         the operation is to be performed under a transaction,
         but the transaction is no longer active.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/river/outrigger/EntryHolder.html#attemptCapture-org.apache.river.outrigger.EntryHandle-org.apache.river.outrigger.TransactableMgr-boolean-java.util.Set-java.util.Set-java.util.Set-long-"><code>attemptCapture(org.apache.river.outrigger.EntryHandle, org.apache.river.outrigger.TransactableMgr, boolean, java.util.Set, java.util.Set, java.util.Set, long)</code></a></dd>
</dl>
</li>
</ul>
<a name="dump-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dump</h4>
<pre>void&nbsp;dump(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</pre>
<div class="block">Debug method:  Dump out the state of this holder, printing out
 the name of the dump first.</div>
</li>
</ul>
<a name="attemptCapture-org.apache.river.outrigger.EntryHandle-org.apache.river.outrigger.TransactableMgr-boolean-java.util.Set-java.util.Set-java.util.Set-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>attemptCapture</h4>
<pre>boolean&nbsp;attemptCapture(<a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&nbsp;handle,
                       <a href="../../../../org/apache/river/outrigger/TransactableMgr.html" title="interface in org.apache.river.outrigger">TransactableMgr</a>&nbsp;txn,
                       boolean&nbsp;takeIt,
                       <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;conflictSet,
                       <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;lockedEntrySet,
                       <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;provisionallyRemovedEntrySet,
                       long&nbsp;now)</pre>
<div class="block">Atomically check to see if the passed entry can be read/taken by
 the specified operation using the specified transaction and if
 it can read/take it and return <code>true</code>, otherwise
 return <code>false</code>. If the entry is removed. Note,
 if the entry is removed, removal is logged.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handle</code> - The <code>EntryHandle</code> of the entry
              the caller wants to read/take.</dd>
<dd><code>txn</code> - If non-null the transaction to perform
              this operation under. Note, if non-null and 
              <code>txn</code> is not active <code>false</code>
              will be returned.</dd>
<dd><code>takeIt</code> - <code>true</code> if the caller is trying
              take the passed entry, <code>false</code>
              otherwise.</dd>
<dd><code>conflictSet</code> - If non-null and the entry can not be
              read/taken because of transaction conflicts the
              conflicting transaction(s) will be added to this set.
              This method assumes that any concurrent access is
              being arbitrated by the set or by the caller.</dd>
<dd><code>lockedEntrySet</code> - If the entry can not be read/taken
              because of a transaction conflict, the ID of the
              entry will be added to this set. This method
              assumes that any concurrent access is being arbitrated
              by the set or by the caller.</dd>
<dd><code>provisionallyRemovedEntrySet</code> - If the entry can not be
              read/taken because it has been provisionally
              removed then its handle will be placed in the
              passed <code>WeakHashMap</code> as a key (with
              null as the value).  May be <code>null</code> in
              which case provisionally removed entries will not
              be recorded. This method assumes that any
              concurrent access is being arbitrated by the set
              or by the caller.</dd>
<dd><code>now</code> - an estimate of the current time in milliseconds
            since the beginning of the epoch.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the entry could be read/taken and
         <code>false</code> otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if entry is <code>null</code>.</dd>
</dl>
</li>
</ul>
<a name="confirmAvailabilityWithTxn-org.apache.river.outrigger.EntryRep-org.apache.river.outrigger.EntryHandle-org.apache.river.outrigger.TransactableMgr-boolean-long-java.util.Set-java.util.Set-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>confirmAvailabilityWithTxn</h4>
<pre>private&nbsp;boolean&nbsp;confirmAvailabilityWithTxn(<a href="../../../../org/apache/river/outrigger/EntryRep.html" title="class in org.apache.river.outrigger">EntryRep</a>&nbsp;rep,
                                           <a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&nbsp;handle,
                                           <a href="../../../../org/apache/river/outrigger/TransactableMgr.html" title="interface in org.apache.river.outrigger">TransactableMgr</a>&nbsp;txnMgr,
                                           boolean&nbsp;takeIt,
                                           long&nbsp;time,
                                           <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;conflictSet,
                                           <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a>&gt;&nbsp;lockedEntrySet,
                                           <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&gt;&nbsp;provisionallyRemovedEntrySet)
                                    throws <a href="../../../../net/jini/core/transaction/CannotJoinException.html" title="class in net.jini.core.transaction">CannotJoinException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../net/jini/core/transaction/CannotJoinException.html" title="class in net.jini.core.transaction">CannotJoinException</a></code></dd>
</dl>
</li>
</ul>
<a name="confirmAvailability-org.apache.river.outrigger.EntryRep-org.apache.river.outrigger.EntryHandle-org.apache.river.outrigger.TransactableMgr-boolean-long-java.util.Set-java.util.Set-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>confirmAvailability</h4>
<pre>private&nbsp;boolean&nbsp;confirmAvailability(<a href="../../../../org/apache/river/outrigger/EntryRep.html" title="class in org.apache.river.outrigger">EntryRep</a>&nbsp;rep,
                                    <a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&nbsp;handle,
                                    <a href="../../../../org/apache/river/outrigger/TransactableMgr.html" title="interface in org.apache.river.outrigger">TransactableMgr</a>&nbsp;txn,
                                    boolean&nbsp;takeIt,
                                    long&nbsp;time,
                                    <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;conflictSet,
                                    <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a>&gt;&nbsp;lockedEntrySet,
                                    <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&gt;&nbsp;provisionallyRemovedEntrySet)</pre>
<div class="block">With the EntryRep <code>rep</code> passed in, verify that the
 entry hasn't been taken by someone else, hasn't expired, etc.
 Also, verify that the entry is really (legally) visible to this
 transaction at this time. If this is a <code>take</code>, it it
 is removed or provisionally removed. If this operation is under
 a transaction, the entry is locked appropriately.</div>
</li>
</ul>
<a name="grab-org.apache.river.outrigger.EntryHandle-org.apache.river.outrigger.TransactableMgr-int-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>grab</h4>
<pre>private&nbsp;boolean&nbsp;grab(<a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&nbsp;handle,
                     <a href="../../../../org/apache/river/outrigger/TransactableMgr.html" title="interface in org.apache.river.outrigger">TransactableMgr</a>&nbsp;txn,
                     int&nbsp;op,
                     boolean&nbsp;takeIt,
                     boolean&nbsp;recovery)</pre>
<div class="block">Given an entry that we want to return as the result of a query
 and we have confirmed we can return it, make the results of the
 query visible to the rest of the service. We must either [a]
 remove it from the holder (if the operation is a take under the
 same transaction the entry was written under), [b] mark it as
 provisionally removed pending commiting the operation to disk
 (if the operation is a take without a transaction), [c]
 lock it under the transaction passed into this method (if the
 operation is a read or take under a transaction), or [d] do
 nothing (read not under a transaction) as appropriate. 
 <p>
 Also used during log recovery to recover takes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handle</code> - The handle attached to the particular EntryRep</dd>
<dd><code>txn</code> - The Txn object</dd>
<dd><code>op</code> - TAKE or READ (as a TransactableMgr constant)</dd>
<dd><code>takeIt</code> - Is this a TAKE (or is it [false] a READ)</dd>
<dd><code>recovery</code> - <code>true</code> if being called as
        part of store recovery.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the entry could be grabbed.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if <code>handle</code> is
         <code>null</code>.</dd>
</dl>
</li>
</ul>
<a name="recoverTake-org.apache.river.outrigger.EntryHandle-org.apache.river.outrigger.Txn-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recoverTake</h4>
<pre>void&nbsp;recoverTake(<a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&nbsp;handle,
                 <a href="../../../../org/apache/river/outrigger/Txn.html" title="class in org.apache.river.outrigger">Txn</a>&nbsp;txn)</pre>
<div class="block">Recover a logged take.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handle</code> - The <code>EntryHandle</code> of the entry who's
               take is being logged.</dd>
<dd><code>txn</code> - If non-null the transaction the take was performed
               under.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if <code>handle</code> is 
         <code>null</code>.</dd>
</dl>
</li>
</ul>
<a name="isExpired-long-org.apache.river.outrigger.EntryHandle-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isExpired</h4>
<pre>private&nbsp;boolean&nbsp;isExpired(long&nbsp;now,
                          <a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&nbsp;handle)</pre>
<div class="block">Return <code>true</code> if the entry held by the given
 <code>handle</code> has expired by the time in <code>now</code>.</div>
</li>
</ul>
<a name="getContentsHead--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContentsHead</h4>
<pre>private&nbsp;<a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&nbsp;getContentsHead()</pre>
<div class="block">Get the head of the contents list</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The head of the contents list, if it exists.
 null if the list is empty.</dd>
</dl>
</li>
</ul>
<a name="add-org.apache.river.outrigger.EntryHandle-org.apache.river.outrigger.TransactableMgr-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>void&nbsp;add(<a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&nbsp;handle,
         <a href="../../../../org/apache/river/outrigger/TransactableMgr.html" title="interface in org.apache.river.outrigger">TransactableMgr</a>&nbsp;txn)</pre>
<div class="block">Add new new entry to the holder. Assumes the lock
 on the handle is held if there is a possibility
 of concurrent access.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>handle</code> - The <code>EntryHandle</code> for the
               entry being added.</dd>
<dd><code>txn</code> - If the add is being done under a 
            transaction the <code>TransactableMgr</code> for
            that transaction.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if <code>handle</code> is 
         <code>null</code>.</dd>
</dl>
</li>
</ul>
<a name="supertypes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>supertypes</h4>
<pre><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;supertypes()</pre>
<div class="block">Return an array of the class names of the super classes of the
 entries in this holder, or <code>null</code> if the holder is
 empty.</div>
</li>
</ul>
<a name="contents-org.apache.river.outrigger.TransactableMgr-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>contents</h4>
<pre><a href="../../../../org/apache/river/outrigger/RepEnum.html" title="interface in org.apache.river.outrigger">RepEnum</a>&nbsp;contents(<a href="../../../../org/apache/river/outrigger/TransactableMgr.html" title="interface in org.apache.river.outrigger">TransactableMgr</a>&nbsp;mgr)</pre>
<div class="block">Return an enumerator over the contents of this space that are visible
 from the given mgr.</div>
</li>
</ul>
<a name="continuingQuery-org.apache.river.outrigger.EntryRep:A-org.apache.river.outrigger.TransactableMgr-boolean-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>continuingQuery</h4>
<pre><a href="../../../../org/apache/river/outrigger/EntryHolder.ContinuingQuery.html" title="class in org.apache.river.outrigger">EntryHolder.ContinuingQuery</a>&nbsp;continuingQuery(<a href="../../../../org/apache/river/outrigger/EntryRep.html" title="class in org.apache.river.outrigger">EntryRep</a>[]&nbsp;tmpls,
                                            <a href="../../../../org/apache/river/outrigger/TransactableMgr.html" title="interface in org.apache.river.outrigger">TransactableMgr</a>&nbsp;txn,
                                            boolean&nbsp;takeThem,
                                            long&nbsp;now)</pre>
<div class="block">Return an object that can be used to perform a query that can
 return multiple matches and be restarted in another thread.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tmpls</code> - An array of templates. Query will yield any 
                  entry that matches one or more of the templates.</dd>
<dd><code>txn</code> - Transaction that should be used with the query.
                  May be <code>null</code>. If
                  non-<code>null</code> any entries yielded by the
                  query will be locked under the transaction.</dd>
<dd><code>takeThem</code> - If <code>true</code> any entries yielded by
                  the query should be removed.</dd>
<dd><code>now</code> - Estimate of current time used to weed out
                  expired entries, ok if old</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new ContinuingQuery object.</dd>
</dl>
</li>
</ul>
<a name="remove-org.apache.river.outrigger.EntryHandle-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>boolean&nbsp;remove(<a href="../../../../org/apache/river/outrigger/EntryHandle.html" title="class in org.apache.river.outrigger">EntryHandle</a>&nbsp;h,
               boolean&nbsp;recovery)</pre>
<div class="block">Remove the given handle from this holder and the <code>idMap</code>.
 If the handle isn't in this holder, this does nothing.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>h</code> - the <code>EntryHandle</code> to remove.</dd>
<dd><code>recovery</code> - <code>true</code> if being called as part
        of log recovery.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if this call removed <code>h</code> and
         <code>false</code> otherwise.</dd>
</dl>
</li>
</ul>
<a name="reap--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>reap</h4>
<pre>void&nbsp;reap()</pre>
<div class="block">Reap the expired elements.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/EntryHolder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/river/outrigger/EntryHandleTmplDesc.html" title="class in org.apache.river.outrigger"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/river/outrigger/EntryHolder.ContinuingQuery.html" title="class in org.apache.river.outrigger"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/river/outrigger/EntryHolder.html" target="_top">Frames</a></li>
<li><a href="EntryHolder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright 2007-2013, multiple authors.<br>Licensed under the <a href=http://www.apache.org/licenses/LICENSE-2.0 target=child >Apache License, Version 2.0</a>, see the <a href=../../../../doc-files/NOTICE target=child >NOTICE</a> file for attributions.</small></p>
</body>
</html>
