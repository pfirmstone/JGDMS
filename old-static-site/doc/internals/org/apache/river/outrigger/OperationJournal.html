<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_60) on Mon Mar 28 17:11:48 AEST 2016 -->
<title>OperationJournal (River-Internet vtrunk API Documentation (internals))</title>
<meta name="date" content="2016-03-28">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="OperationJournal (River-Internet vtrunk API Documentation (internals))";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/OperationJournal.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/river/outrigger/Notifier.NotifyTask.html" title="class in org.apache.river.outrigger"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/river/outrigger/OperationJournal.CaughtUpMarker.html" title="class in org.apache.river.outrigger"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/river/outrigger/OperationJournal.html" target="_top">Frames</a></li>
<li><a href="OperationJournal.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.river.outrigger</div>
<h2 title="Class OperationJournal" class="title">Class OperationJournal</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang">java.lang.Thread</a></li>
<li>
<ul class="inheritance">
<li>org.apache.river.outrigger.OperationJournal</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</a></dd>
</dl>
<hr>
<br>
<pre>class <span class="typeNameLabel">OperationJournal</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang">Thread</a></pre>
<div class="block">Maintain a journal of operations on entries (writes, takes, and
 resolution of locks) and a thread that will process the
 journal. This journal is kept for three reasons. One is so events
 can be generated asynchronously from the writes and transaction
 commits that cause them. Second so blocked queries can be alerted
 to changes that will allow them to be resolved.
 <p>
 Third to make sure that transitions occur between the time a query
 starts its initial search and the time it adds its watcher to the
 <code>TransitionWatchers</code> object do not get missed.  This
 last goal is accomplished by queries calling
 <code>newTransitionIterator</code> before initial search, doing the
 initial search, adding their watcher to the
 <code>TransitionWatchers</code> object and then calling
 <code>watcherRegistered</code> on the
 <code>TransitionIterator</code> and then feeding their watcher the
 chain of transitions yielded by the
 <code>TransitionIterator</code>.  (skipping any transitions with
 entries that don't match).
 <p>
 Each operation that is recored in the journal is assigned an
 <em>ordinal</em>. Operations with higher ordinals must be considered
 to have taken place after operations with lower ordinals.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/OperationJournal.CaughtUpMarker.html" title="class in org.apache.river.outrigger">OperationJournal.CaughtUpMarker</a></span></code>
<div class="block"><code>JournalNode</code> payload value used for 
 caught up markers.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/OperationJournal.JournalNode.html" title="class in org.apache.river.outrigger">OperationJournal.JournalNode</a></span></code>
<div class="block">The nodes of our Journal</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/OperationJournal.TransitionIterator.html" title="class in org.apache.river.outrigger">OperationJournal.TransitionIterator</a></span></code>
<div class="block">An iterator that will yield (in the order they were posted) all the
 <code>EntryTransition</code>s added after the iterator was
 created and processed before <code>watcherRegistered</code> was
 called.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang">Thread</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.State.html?is-external=true" title="class or interface in java.lang">Thread.State</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.UncaughtExceptionHandler.html?is-external=true" title="class or interface in java.lang">Thread.UncaughtExceptionHandler</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/OperationJournal.html#dead">dead</a></span></code>
<div class="block">If <code>true</code> stop thread</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent.atomic.AtomicLong.html?is-external=true" title="class or interface in java.util">java.util.concurrent.atomic.AtomicLong</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/OperationJournal.html#lastOrdinalUsed">lastOrdinalUsed</a></span></code>
<div class="block">The last ordinal value used</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../org/apache/river/outrigger/OperationJournal.JournalNode.html" title="class in org.apache.river.outrigger">OperationJournal.JournalNode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/OperationJournal.html#lastProcessed">lastProcessed</a></span></code>
<div class="block">The <code>JournalNode</code> we are currently processing or if
 none are in process the last one we processed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Logger.html?is-external=true" title="class or interface in java.util.logging">Logger</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/OperationJournal.html#logger">logger</a></span></code>
<div class="block">Logger for logging exceptions</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../org/apache/river/outrigger/OperationJournal.JournalNode.html" title="class in org.apache.river.outrigger">OperationJournal.JournalNode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/OperationJournal.html#tail">tail</a></span></code>
<div class="block">The current tail of the transitions list.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../org/apache/river/outrigger/TransitionWatchers.html" title="class in org.apache.river.outrigger">TransitionWatchers</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/OperationJournal.html#watchers">watchers</a></span></code>
<div class="block">The object to ask about who is interested in a transition</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang">Thread</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#MAX_PRIORITY" title="class or interface in java.lang">MAX_PRIORITY</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#MIN_PRIORITY" title="class or interface in java.lang">MIN_PRIORITY</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#NORM_PRIORITY" title="class or interface in java.lang">NORM_PRIORITY</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/OperationJournal.html#OperationJournal-org.apache.river.outrigger.TransitionWatchers-">OperationJournal</a></span>(<a href="../../../../org/apache/river/outrigger/TransitionWatchers.html" title="class in org.apache.river.outrigger">TransitionWatchers</a>&nbsp;watchers)</code>
<div class="block">Create a new <code>OperationJournal</code>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>(package private) long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/OperationJournal.html#currentOrdinal--">currentOrdinal</a></span>()</code>
<div class="block">Return the ordinal of the last operation posted.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private <a href="../../../../org/apache/river/outrigger/OperationJournal.JournalNode.html" title="class in org.apache.river.outrigger">OperationJournal.JournalNode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/OperationJournal.html#lastProcessed-org.apache.river.outrigger.OperationJournal.JournalNode-">lastProcessed</a></span>(<a href="../../../../org/apache/river/outrigger/OperationJournal.JournalNode.html" title="class in org.apache.river.outrigger">OperationJournal.JournalNode</a>&nbsp;noEarlierThan)</code>
<div class="block">Return the node currently being processed, or
 if no entry is currently being processed the 
 last one that was processed.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/OperationJournal.html#markCaughtUp-org.apache.river.outrigger.IfExistsWatcher-">markCaughtUp</a></span>(<a href="../../../../org/apache/river/outrigger/IfExistsWatcher.html" title="interface in org.apache.river.outrigger">IfExistsWatcher</a>&nbsp;watcher)</code>
<div class="block">Schedules a job that will call the <code>caughtUp</code> method
 on the passed <code>IfExistsWatcher</code> after the last
 posted <code>EntryTransition</code> is processed.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../../org/apache/river/outrigger/OperationJournal.TransitionIterator.html" title="class in org.apache.river.outrigger">OperationJournal.TransitionIterator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/OperationJournal.html#newTransitionIterator--">newTransitionIterator</a></span>()</code>
<div class="block">Return an iterator that can latter be used to 
 get all the <code>EntryTransition</code>s added after 
 this point that have been processed.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/OperationJournal.html#post-org.apache.river.outrigger.OperationJournal.JournalNode-">post</a></span>(<a href="../../../../org/apache/river/outrigger/OperationJournal.JournalNode.html" title="class in org.apache.river.outrigger">OperationJournal.JournalNode</a>&nbsp;node)</code>
<div class="block">Post a <code>JournalNode</code></div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/OperationJournal.html#recordTransition-org.apache.river.outrigger.EntryTransition-">recordTransition</a></span>(<a href="../../../../org/apache/river/outrigger/EntryTransition.html" title="class in org.apache.river.outrigger">EntryTransition</a>&nbsp;transition)</code>
<div class="block">Records an operation on an entry.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/OperationJournal.html#run--">run</a></span>()</code>
<div class="block">Loop pulling transitions off the queue and
 process them by getting the set of interested watchers
 from the <code>TransitionWatchers</code> object associated
 with this object and then calling process on each
 of the watchers.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/outrigger/OperationJournal.html#terminate--">terminate</a></span>()</code>
<div class="block">Terminate queue processing.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang">Thread</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#activeCount--" title="class or interface in java.lang">activeCount</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#checkAccess--" title="class or interface in java.lang">checkAccess</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#countStackFrames--" title="class or interface in java.lang">countStackFrames</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#currentThread--" title="class or interface in java.lang">currentThread</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#destroy--" title="class or interface in java.lang">destroy</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#dumpStack--" title="class or interface in java.lang">dumpStack</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#enumerate-java.lang.Thread:A-" title="class or interface in java.lang">enumerate</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#getAllStackTraces--" title="class or interface in java.lang">getAllStackTraces</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#getContextClassLoader--" title="class or interface in java.lang">getContextClassLoader</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#getDefaultUncaughtExceptionHandler--" title="class or interface in java.lang">getDefaultUncaughtExceptionHandler</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#getId--" title="class or interface in java.lang">getId</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#getName--" title="class or interface in java.lang">getName</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#getPriority--" title="class or interface in java.lang">getPriority</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#getStackTrace--" title="class or interface in java.lang">getStackTrace</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#getState--" title="class or interface in java.lang">getState</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#getThreadGroup--" title="class or interface in java.lang">getThreadGroup</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#getUncaughtExceptionHandler--" title="class or interface in java.lang">getUncaughtExceptionHandler</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#holdsLock-java.lang.Object-" title="class or interface in java.lang">holdsLock</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#interrupt--" title="class or interface in java.lang">interrupt</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#interrupted--" title="class or interface in java.lang">interrupted</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#isAlive--" title="class or interface in java.lang">isAlive</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#isDaemon--" title="class or interface in java.lang">isDaemon</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#isInterrupted--" title="class or interface in java.lang">isInterrupted</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#join--" title="class or interface in java.lang">join</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#join-long-" title="class or interface in java.lang">join</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#join-long-int-" title="class or interface in java.lang">join</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#resume--" title="class or interface in java.lang">resume</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#setContextClassLoader-java.lang.ClassLoader-" title="class or interface in java.lang">setContextClassLoader</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#setDaemon-boolean-" title="class or interface in java.lang">setDaemon</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#setDefaultUncaughtExceptionHandler-java.lang.Thread.UncaughtExceptionHandler-" title="class or interface in java.lang">setDefaultUncaughtExceptionHandler</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#setName-java.lang.String-" title="class or interface in java.lang">setName</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#setPriority-int-" title="class or interface in java.lang">setPriority</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#setUncaughtExceptionHandler-java.lang.Thread.UncaughtExceptionHandler-" title="class or interface in java.lang">setUncaughtExceptionHandler</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#sleep-long-" title="class or interface in java.lang">sleep</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#sleep-long-int-" title="class or interface in java.lang">sleep</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#start--" title="class or interface in java.lang">start</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#stop--" title="class or interface in java.lang">stop</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#stop-java.lang.Throwable-" title="class or interface in java.lang">stop</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#suspend--" title="class or interface in java.lang">suspend</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#yield--" title="class or interface in java.lang">yield</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="watchers">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>watchers</h4>
<pre>private final&nbsp;<a href="../../../../org/apache/river/outrigger/TransitionWatchers.html" title="class in org.apache.river.outrigger">TransitionWatchers</a> watchers</pre>
<div class="block">The object to ask about who is interested in a transition</div>
</li>
</ul>
<a name="tail">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tail</h4>
<pre>private volatile&nbsp;<a href="../../../../org/apache/river/outrigger/OperationJournal.JournalNode.html" title="class in org.apache.river.outrigger">OperationJournal.JournalNode</a> tail</pre>
<div class="block">The current tail of the transitions list.</div>
</li>
</ul>
<a name="lastProcessed">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastProcessed</h4>
<pre>private volatile&nbsp;<a href="../../../../org/apache/river/outrigger/OperationJournal.JournalNode.html" title="class in org.apache.river.outrigger">OperationJournal.JournalNode</a> lastProcessed</pre>
<div class="block">The <code>JournalNode</code> we are currently processing or if
 none are in process the last one we processed.</div>
</li>
</ul>
<a name="dead">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dead</h4>
<pre>private volatile&nbsp;boolean dead</pre>
<div class="block">If <code>true</code> stop thread</div>
</li>
</ul>
<a name="lastOrdinalUsed">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastOrdinalUsed</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/concurrent.atomic.AtomicLong.html?is-external=true" title="class or interface in java.util">java.util.concurrent.atomic.AtomicLong</a> lastOrdinalUsed</pre>
<div class="block">The last ordinal value used</div>
</li>
</ul>
<a name="logger">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>logger</h4>
<pre>private static final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Logger.html?is-external=true" title="class or interface in java.util.logging">Logger</a> logger</pre>
<div class="block">Logger for logging exceptions</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="OperationJournal-org.apache.river.outrigger.TransitionWatchers-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>OperationJournal</h4>
<pre>OperationJournal(<a href="../../../../org/apache/river/outrigger/TransitionWatchers.html" title="class in org.apache.river.outrigger">TransitionWatchers</a>&nbsp;watchers)</pre>
<div class="block">Create a new <code>OperationJournal</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>watchers</code> - Set of watchers that need
                 to be asked if they are interested in the transitions.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if watchers is <code>null</code>.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="recordTransition-org.apache.river.outrigger.EntryTransition-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recordTransition</h4>
<pre>void&nbsp;recordTransition(<a href="../../../../org/apache/river/outrigger/EntryTransition.html" title="class in org.apache.river.outrigger">EntryTransition</a>&nbsp;transition)</pre>
<div class="block">Records an operation on an entry. This method should be called
 <em>after</em> the transition has been made visible in 
 <code>contents</code> (including any subsidiary 
 objects such as the appropriate <code>EntryHandle</code>).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transition</code> - an object describing the visibility
        transition of an entry.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if <code>transition</code> is
         <code>null</code>.</dd>
</dl>
</li>
</ul>
<a name="markCaughtUp-org.apache.river.outrigger.IfExistsWatcher-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markCaughtUp</h4>
<pre>void&nbsp;markCaughtUp(<a href="../../../../org/apache/river/outrigger/IfExistsWatcher.html" title="interface in org.apache.river.outrigger">IfExistsWatcher</a>&nbsp;watcher)</pre>
<div class="block">Schedules a job that will call the <code>caughtUp</code> method
 on the passed <code>IfExistsWatcher</code> after the last
 posted <code>EntryTransition</code> is processed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>watcher</code> - The watcher to notify when it is caught up.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if <code>watcher</code> is 
         <code>null</code>.</dd>
</dl>
</li>
</ul>
<a name="currentOrdinal--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentOrdinal</h4>
<pre>long&nbsp;currentOrdinal()</pre>
<div class="block">Return the ordinal of the last operation posted.
 Any operations with a higher ordinal should be considered
 to have taken place after this point in time.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the ordinal of the last operation posted.</dd>
</dl>
</li>
</ul>
<a name="post-org.apache.river.outrigger.OperationJournal.JournalNode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>post</h4>
<pre>private&nbsp;void&nbsp;post(<a href="../../../../org/apache/river/outrigger/OperationJournal.JournalNode.html" title="class in org.apache.river.outrigger">OperationJournal.JournalNode</a>&nbsp;node)</pre>
<div class="block">Post a <code>JournalNode</code></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>node</code> - The node to post.</dd>
</dl>
</li>
</ul>
<a name="newTransitionIterator--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newTransitionIterator</h4>
<pre><a href="../../../../org/apache/river/outrigger/OperationJournal.TransitionIterator.html" title="class in org.apache.river.outrigger">OperationJournal.TransitionIterator</a>&nbsp;newTransitionIterator()</pre>
<div class="block">Return an iterator that can latter be used to 
 get all the <code>EntryTransition</code>s added after 
 this point that have been processed.
 <p>
 We synchronize to make sure the initial state
 of the returned transition has been fetched from main memory.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An iterator that can latter be used to 
 get all the <code>EntryTransition</code>s added after 
 this point that have been processed.</dd>
</dl>
</li>
</ul>
<a name="lastProcessed-org.apache.river.outrigger.OperationJournal.JournalNode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastProcessed</h4>
<pre>private&nbsp;<a href="../../../../org/apache/river/outrigger/OperationJournal.JournalNode.html" title="class in org.apache.river.outrigger">OperationJournal.JournalNode</a>&nbsp;lastProcessed(<a href="../../../../org/apache/river/outrigger/OperationJournal.JournalNode.html" title="class in org.apache.river.outrigger">OperationJournal.JournalNode</a>&nbsp;noEarlierThan)</pre>
<div class="block">Return the node currently being processed, or
 if no entry is currently being processed the 
 last one that was processed.  A watcher
 that was added to the <code>TransitionWatchers</code> object
 associated with this object before this call was made is
 guaranteed to be asked by the journal about any transition posted
 after the node returned by this method was posted.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>noEarlierThan</code> - The returned <code>JournalNode</code>
        is guaranteed to have not been posted before
        <code>noEarlierThan</code>. If the last
        node processes was posted before
        <code>noEarlierThan</code>, then 
        <code>noEarlierThan</code> will be returned.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The last node that has been at least
         partially processed.</dd>
</dl>
</li>
</ul>
<a name="terminate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>terminate</h4>
<pre>void&nbsp;terminate()</pre>
<div class="block">Terminate queue processing.</div>
</li>
</ul>
<a name="run--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<div class="block">Loop pulling transitions off the queue and
 process them by getting the set of interested watchers
 from the <code>TransitionWatchers</code> object associated
 with this object and then calling process on each
 of the watchers.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html?is-external=true#run--" title="class or interface in java.lang">run</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</a></code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true#run--" title="class or interface in java.lang">run</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang">Thread</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/OperationJournal.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/river/outrigger/Notifier.NotifyTask.html" title="class in org.apache.river.outrigger"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/river/outrigger/OperationJournal.CaughtUpMarker.html" title="class in org.apache.river.outrigger"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/river/outrigger/OperationJournal.html" target="_top">Frames</a></li>
<li><a href="OperationJournal.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright 2007-2013, multiple authors.<br>Licensed under the <a href=http://www.apache.org/licenses/LICENSE-2.0 target=child >Apache License, Version 2.0</a>, see the <a href=../../../../doc-files/NOTICE target=child >NOTICE</a> file for attributions.</small></p>
</body>
</html>
