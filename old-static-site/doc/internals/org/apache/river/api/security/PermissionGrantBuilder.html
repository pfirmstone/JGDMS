<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_60) on Mon Mar 28 17:11:25 AEST 2016 -->
<title>PermissionGrantBuilder (River-Internet vtrunk API Documentation (internals))</title>
<meta name="date" content="2016-03-28">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PermissionGrantBuilder (River-Internet vtrunk API Documentation (internals))";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":9,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PermissionGrantBuilder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/river/api/security/PermissionGrant.html" title="class in org.apache.river.api.security"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/river/api/security/PermissionGrantBuilderImp.html" title="class in org.apache.river.api.security"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/river/api/security/PermissionGrantBuilder.html" target="_top">Frames</a></li>
<li><a href="PermissionGrantBuilder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.river.api.security</div>
<h2 title="Class PermissionGrantBuilder" class="title">Class PermissionGrantBuilder</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.river.api.security.PermissionGrantBuilder</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../org/apache/river/api/security/PermissionGrantBuilderImp.html" title="class in org.apache.river.api.security">PermissionGrantBuilderImp</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">PermissionGrantBuilder</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">The PermissionGrantBuilder creates Dynamic PermissionGrant's based on
 information provided by the user.  The user must have access to the
 system policy and have permission to grant permissions.
 
 A PermissionGrantBuilder implementation should also be used as the serialized form
 for PermissionGrant's, the implementation of PermissionGrant's should
 remain package private.
 
 This prevents the serialized form becoming part of the public api.
 
 Single Thread use only.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>3.0.0</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Peter Firmstone.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../org/apache/river/api/security/PermissionGrant.html" title="class in org.apache.river.api.security"><code>PermissionGrant</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html#CLASSLOADER">CLASSLOADER</a></span></code>
<div class="block">The PermissionGrant generated will apply to all classes loaded by
 the ClassLoader</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html#CODESOURCE_CERTS">CODESOURCE_CERTS</a></span></code>
<div class="block">The PermissionGrant generated will apply to all classes loaded from
 CodeSource's that have at a minimum the defined array Certificate[]
 provided the logged in Subject also has all Principals when defined.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html#PRINCIPAL">PRINCIPAL</a></span></code>
<div class="block">The PermissionGrant generated will apply to the Subject that has 
 all the principals provided.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html#PROTECTIONDOMAIN">PROTECTIONDOMAIN</a></span></code>
<div class="block">The PermissionGrant generated will apply to all classes belonging to
 the ProtectionDomain.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html#URI">URI</a></span></code>
<div class="block">
 The PermissionGrant generated will imply the ProtectionDomain run as
 a Subject with all Principals (when applicable) and
 CodeSource that has the Certificates and URI RFC3986 location as specified.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html#PermissionGrantBuilder--">PermissionGrantBuilder</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>abstract <a href="../../../../../org/apache/river/api/security/PermissionGrant.html" title="class in org.apache.river.api.security">PermissionGrant</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html#build--">build</a></span>()</code>
<div class="block">Build the PermissionGrant using information supplied.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html" title="class in org.apache.river.api.security">PermissionGrantBuilder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html#certificates-java.security.cert.Certificate:A-">certificates</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/security/cert/Certificate.html?is-external=true" title="class or interface in java.security.cert">Certificate</a>[]&nbsp;certs)</code>
<div class="block">Sets the Certificate[] a CodeSource must have to receive the PermissionGrant.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>abstract <a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html" title="class in org.apache.river.api.security">PermissionGrantBuilder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html#clazz-java.lang.Class-">clazz</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&nbsp;cl)</code>
<div class="block">Extracts ProtectionDomain
 from the Class for use in the PermissionGrantBuilder.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html" title="class in org.apache.river.api.security">PermissionGrantBuilder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html#context-int-">context</a></span>(int&nbsp;context)</code>
<div class="block">Sets the context of the PermissionGrant to on of the static final 
 fields in this class.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html" title="class in org.apache.river.api.security">PermissionGrantBuilder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html#newBuilder--">newBuilder</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html" title="class in org.apache.river.api.security">PermissionGrantBuilder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html#permissions-java.security.Permission:A-">permissions</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/security/Permission.html?is-external=true" title="class or interface in java.security">Permission</a>[]&nbsp;perm)</code>
<div class="block">Specifies Permission's to be granted.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>abstract <a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html" title="class in org.apache.river.api.security">PermissionGrantBuilder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html#principals-java.security.Principal:A-">principals</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>[]&nbsp;pals)</code>
<div class="block">Sets the Principal[] that a Subject must have to be entitled to receive
 the PermissionGrant.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html" title="class in org.apache.river.api.security">PermissionGrantBuilder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html#reset--">reset</a></span>()</code>
<div class="block">resets the state for reuse, identical to a newly created 
 PermissionGrantBuilder, this step must be performed to avoid unintentional
 grants to previously added URI.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>abstract <a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html" title="class in org.apache.river.api.security">PermissionGrantBuilder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html#setDomain-java.lang.ref.WeakReference-">setDomain</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ref/WeakReference.html?is-external=true" title="class or interface in java.lang.ref">WeakReference</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/security/ProtectionDomain.html?is-external=true" title="class or interface in java.security">ProtectionDomain</a>&gt;&nbsp;domain)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>abstract <a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html" title="class in org.apache.river.api.security">PermissionGrantBuilder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html#uri-java.lang.String-">uri</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)</code>
<div class="block">The URI will be added to the PermissionGrant, multiple may be specified by
 calling multiple times.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="CLASSLOADER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CLASSLOADER</h4>
<pre>public static final&nbsp;int CLASSLOADER</pre>
<div class="block">The PermissionGrant generated will apply to all classes loaded by
 the ClassLoader</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.river.api.security.PermissionGrantBuilder.CLASSLOADER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="PROTECTIONDOMAIN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PROTECTIONDOMAIN</h4>
<pre>public static final&nbsp;int PROTECTIONDOMAIN</pre>
<div class="block">The PermissionGrant generated will apply to all classes belonging to
 the ProtectionDomain.  This is actually a simplification for the 
 programmer the PermissionGrant will apply to the CodeSource and the
 ClassLoader combination, the reason for this is the DomainCombiner may
 create new instances of ProtectionDomain's from those that exist on
 the stack.
 <p>
 DNS is not consulted, the RFC3986 normalized URI and all Certificates contained
 by the CodeSources must be equal.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="http://docs.oracle.com/javase/8/docs/api/java/security/AccessControlContext.html?is-external=true" title="class or interface in java.security"><code>AccessControlContext</code></a>, 
<a href="http://docs.oracle.com/javase/8/docs/api/java/security/DomainCombiner.html?is-external=true" title="class or interface in java.security"><code>DomainCombiner</code></a>, 
<a href="http://docs.oracle.com/javase/8/docs/api/javax/security/auth/SubjectDomainCombiner.html?is-external=true" title="class or interface in javax.security.auth"><code>SubjectDomainCombiner</code></a>, 
<a href="../../../../../constant-values.html#org.apache.river.api.security.PermissionGrantBuilder.PROTECTIONDOMAIN">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="PRINCIPAL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PRINCIPAL</h4>
<pre>public static final&nbsp;int PRINCIPAL</pre>
<div class="block">The PermissionGrant generated will apply to the Subject that has 
 all the principals provided.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="http://docs.oracle.com/javase/8/docs/api/javax/security/auth/Subject.html?is-external=true" title="class or interface in javax.security.auth"><code>Subject</code></a>, 
<a href="../../../../../constant-values.html#org.apache.river.api.security.PermissionGrantBuilder.PRINCIPAL">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CODESOURCE_CERTS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CODESOURCE_CERTS</h4>
<pre>public static final&nbsp;int CODESOURCE_CERTS</pre>
<div class="block">The PermissionGrant generated will apply to all classes loaded from
 CodeSource's that have at a minimum the defined array Certificate[]
 provided the logged in Subject also has all Principals when defined.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.river.api.security.PermissionGrantBuilder.CODESOURCE_CERTS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="URI">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>URI</h4>
<pre>public static final&nbsp;int URI</pre>
<div class="block"><p>
 The PermissionGrant generated will imply the ProtectionDomain run as
 a Subject with all Principals (when applicable) and
 CodeSource that has the Certificates and URI RFC3986 location as specified.
 </p>
 <p>
 The outcome of URI comparison is similar to 
 <a href="http://docs.oracle.com/javase/8/docs/api/java/security/CodeSource.html?is-external=true#implies-java.security.CodeSource-" title="class or interface in java.security"><code>CodeSource.implies(CodeSource)</code></a>.</p>
 <p>
 DNS lookup is avoided for security and performance reasons,
 DNS is not authenticated and therefore cannot be trusted.  Doing so,
 could allow an attacker to use DNS Cache poisoning to escalate
 Permission, by imitating a URL with privilege, such as AllPermission.</p>
 <p>
 CodeSource URL are converted to URI and normalized according
 to <a href="http://www.ietf.org/rfc/rfc3986.txt">RFC3986</a> before being 
 compared as Strings.</p>
 <p>
 A URI based PermissionGrant "implies" a specified <a href="http://docs.oracle.com/javase/8/docs/api/java/security/ProtectionDomain.html?is-external=true" title="class or interface in java.security"><code>ProtectionDomain</code></a> if:
 </P>
 <ol>
 <li> The <a href="http://docs.oracle.com/javase/8/docs/api/java/security/ProtectionDomain.html?is-external=true" title="class or interface in java.security"><code>ProtectionDomain</code></a>'s <i><a href="http://docs.oracle.com/javase/8/docs/api/java/security/CodeSource.html?is-external=true" title="class or interface in java.security"><code>CodeSource</code></a></i> is not null.
 <li> All <a href="http://docs.oracle.com/javase/8/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security"><code>Principal</code></a>'s, if defined in the <a href="../../../../../org/apache/river/api/security/PermissionGrant.html" title="class in org.apache.river.api.security"><code>PermissionGrant</code></a> are present in the 
      <a href="http://docs.oracle.com/javase/8/docs/api/java/security/ProtectionDomain.html?is-external=true" title="class or interface in java.security"><code>ProtectionDomain</code></a>, when run as a <a href="http://docs.oracle.com/javase/8/docs/api/javax/security/auth/Subject.html?is-external=true" title="class or interface in javax.security.auth"><code>Subject</code></a>, in any order.
 <li> A URI based PermissionGrant "implies" a specified <a href="http://docs.oracle.com/javase/8/docs/api/java/security/ProtectionDomain.html?is-external=true" title="class or interface in java.security"><code>ProtectionDomain</code></a> 
      or non null <a href="http://docs.oracle.com/javase/8/docs/api/java/security/CodeSource.html?is-external=true" title="class or interface in java.security"><code>CodeSource</code></a> if:
 <ol>
 <li> All <a href="http://docs.oracle.com/javase/8/docs/api/java/security/cert/Certificate.html?is-external=true" title="class or interface in java.security.cert"><code>Certificate</code></a>'s included in a URI based 
 PermissionGrant are present in that <a href="http://docs.oracle.com/javase/8/docs/api/java/security/ProtectionDomain.html?is-external=true" title="class or interface in java.security"><code>ProtectionDomain</code></a>'s 
 <i><a href="http://docs.oracle.com/javase/8/docs/api/java/security/CodeSource.html?is-external=true" title="class or interface in java.security"><code>CodeSource</code></a></i>'s certificates, in any order, or no Certificates
    are defined by the PermissionGrant.
 <li> For any <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="class or interface in java.net"><code>URI</code></a> in a PermissionGrant, checks are made in the 
 following order:
   <ol>
     <li>  Any null <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="class or interface in java.net"><code>URI</code></a> implies any 
           <a href="http://docs.oracle.com/javase/8/docs/api/java/security/ProtectionDomain.html?is-external=true" title="class or interface in java.security"><code>ProtectionDomain</code></a> that contains a non null
           <a href="http://docs.oracle.com/javase/8/docs/api/java/security/CodeSource.html?is-external=true" title="class or interface in java.security"><code>CodeSource</code></a>, including a null <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net"><code>URL</code></a> returned by
           <a href="http://docs.oracle.com/javase/8/docs/api/java/security/CodeSource.html?is-external=true#getLocation--" title="class or interface in java.security"><code>CodeSource.getLocation()</code></a>.  

     <li>  If any RFC3986 normalized URI equals the <a href="http://docs.oracle.com/javase/8/docs/api/java/security/ProtectionDomain.html?is-external=true" title="class or interface in java.security"><code>ProtectionDomain</code></a>'s 
           <i><a href="http://docs.oracle.com/javase/8/docs/api/java/security/CodeSource.html?is-external=true#getLocation--" title="class or interface in java.security"><code>CodeSource.getLocation()</code></a></i>'s <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net"><code>URL</code></a>
           after it is converted to a RFC3986 normalized <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="class or interface in java.net"><code>URI</code></a>, 
           the <a href="../../../../../org/apache/river/api/security/PermissionGrant.html#implies-java.security.ProtectionDomain-"><code>PermissionGrant.implies(java.security.ProtectionDomain)</code></a>
           method will return true.
 
     <li>  The <a href="http://docs.oracle.com/javase/8/docs/api/java/security/CodeSource.html?is-external=true#getLocation--" title="class or interface in java.security"><code>CodeSource.getLocation()</code></a>'s <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net"><code>URL</code></a> is checked
           against each <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="class or interface in java.net"><code>URI</code></a> contained in a PermissionGrant and
           returns true if all the following conditions are met for at least
           one <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true" title="class or interface in java.net"><code>URI</code></a>:
     <ol>
     <li>  The <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true#getScheme--" title="class or interface in java.net"><code>URI.getScheme()</code></a> scheme must be
           equal to a <a href="http://docs.oracle.com/javase/8/docs/api/java/security/CodeSource.html?is-external=true" title="class or interface in java.security"><code>CodeSource</code></a>'s <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URL.html?is-external=true#getProtocol--" title="class or interface in java.net"><code>URL.getProtocol()</code></a>
           protocol, after normalization to RFC3986 rules.

     <li>  If <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true#getHost--" title="class or interface in java.net"><code>URI.getHost()</code></a> is non null,  
           and <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URL.html?is-external=true#getHost--" title="class or interface in java.net"><code>URL.getHost()</code></a> is equal after RFC3986 compliant normalization
           performed.

     <li>  If the <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true#getPort--" title="class or interface in java.net"><code>URI.getPort()</code></a> port is not 
           equal to -1 (that is, if a port is specified), it must equal the 
           CodeSource URL's port.

     <li>  URI and URL path's are normalized to RFC3986, in addition file: scheme
           paths are normalized to upper case, on platforms with a backslash
           path separator.
     <li>  After normalization, if this <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true#getPath--" title="class or interface in java.net"><code>URI.getPath()</code></a> path doesn't equal
           <i>codesource</i>'s <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URL.html?is-external=true#getPath--" title="class or interface in java.net"><code>URL.getPath()</code></a> path, then the following checks are made:
           If this URI's path ends with "/-",
           then <i>codesource</i>'s URL path must start with this URI's
           path (exclusive the trailing "-").
           If this URI's path ends with a "/*",
           then <i>codesource</i>'s URL path must start with this URI's
           path and must not have any further "/" separators.
           If this URI's path doesn't end with a "/", 
           then <i>codesource</i>'s URL path must match this URI's 
           path with a '/' appended.

     <li>  If this <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true#getFragment--" title="class or interface in java.net"><code>URI.getFragment()</code></a> fragment is 
           not null, it must equal <i>codesource</i>'s 
           <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URL.html?is-external=true#getRef--" title="class or interface in java.net"><code>URL.getRef()</code></a> reference.
 
     <li>  Unlike <a href="http://docs.oracle.com/javase/8/docs/api/java/security/CodeSource.html?is-external=true#implies-java.security.CodeSource-" title="class or interface in java.security"><code>CodeSource.implies(java.security.CodeSource)</code></a>
           <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URI.html?is-external=true#getQuery--" title="class or interface in java.net"><code>URI.getQuery()</code></a> query is not appended to the path because
           normalization to specific platforms is undefined.  It appears
           that <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net"><code>URL</code></a> was developed prior to RFC2396 and as such
           the <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URL.html?is-external=true#getFile--" title="class or interface in java.net"><code>URL.getFile()</code></a> included the query component, later
           in Java 1.3 the <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URL.html?is-external=true#getPath--" title="class or interface in java.net"><code>URL.getPath()</code></a> method was added, however
           earlier developed classes like <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URLClassLoader.html?is-external=true" title="class or interface in java.net"><code>URLClassLoader</code></a> continued
           to use <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URL.html?is-external=true#getFile--" title="class or interface in java.net"><code>URL.getFile()</code></a> and append this with path
           separators and wild cards after the query, if it existed.  In 
           any case, Certificate and Principal are more prudent identifiers for 
           privileges.
      </ol>
   </ol>
 </ol>
 </ol></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.river.api.security.PermissionGrantBuilder.URI">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PermissionGrantBuilder--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PermissionGrantBuilder</h4>
<pre>public&nbsp;PermissionGrantBuilder()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="newBuilder--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newBuilder</h4>
<pre>public static&nbsp;<a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html" title="class in org.apache.river.api.security">PermissionGrantBuilder</a>&nbsp;newBuilder()</pre>
</li>
</ul>
<a name="reset--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre>public abstract&nbsp;<a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html" title="class in org.apache.river.api.security">PermissionGrantBuilder</a>&nbsp;reset()</pre>
<div class="block">resets the state for reuse, identical to a newly created 
 PermissionGrantBuilder, this step must be performed to avoid unintentional
 grants to previously added URI.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>PermissionGrantBuilder</dd>
</dl>
</li>
</ul>
<a name="context-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>context</h4>
<pre>public abstract&nbsp;<a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html" title="class in org.apache.river.api.security">PermissionGrantBuilder</a>&nbsp;context(int&nbsp;context)
                                        throws <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></pre>
<div class="block">Sets the context of the PermissionGrant to on of the static final 
 fields in this class.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - value of a static field defined in this builder.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>PermissionGrantBuilder</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if context out of range of static fields 
 defined in this builder.</dd>
</dl>
</li>
</ul>
<a name="uri-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>uri</h4>
<pre>public abstract&nbsp;<a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html" title="class in org.apache.river.api.security">PermissionGrantBuilder</a>&nbsp;uri(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)</pre>
<div class="block">The URI will be added to the PermissionGrant, multiple may be specified by
 calling multiple times.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - - RFC3986 compliant URI or null.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>PermissinoGrantBuilder</dd>
</dl>
</li>
</ul>
<a name="clazz-java.lang.Class-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clazz</h4>
<pre>public abstract&nbsp;<a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html" title="class in org.apache.river.api.security">PermissionGrantBuilder</a>&nbsp;clazz(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&nbsp;cl)</pre>
<div class="block">Extracts ProtectionDomain
 from the Class for use in the PermissionGrantBuilder.  The ClassLoader
 and ProtectionDomain are weakly referenced, when collected any 
 created PermissionGrant affected will be voided.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cl</code> - Class used to determine the ProtectionDomain to be
 used for PermissionGrant.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>PermissionGrantBuilder.</dd>
</dl>
</li>
</ul>
<a name="certificates-java.security.cert.Certificate:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>certificates</h4>
<pre>public abstract&nbsp;<a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html" title="class in org.apache.river.api.security">PermissionGrantBuilder</a>&nbsp;certificates(<a href="http://docs.oracle.com/javase/8/docs/api/java/security/cert/Certificate.html?is-external=true" title="class or interface in java.security.cert">Certificate</a>[]&nbsp;certs)</pre>
<div class="block">Sets the Certificate[] a CodeSource must have to receive the PermissionGrant.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>certs</code> - Certificates</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a PermissionGrantBuilder</dd>
</dl>
</li>
</ul>
<a name="principals-java.security.Principal:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>principals</h4>
<pre>public abstract&nbsp;<a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html" title="class in org.apache.river.api.security">PermissionGrantBuilder</a>&nbsp;principals(<a href="http://docs.oracle.com/javase/8/docs/api/java/security/Principal.html?is-external=true" title="class or interface in java.security">Principal</a>[]&nbsp;pals)</pre>
<div class="block">Sets the Principal[] that a Subject must have to be entitled to receive
 the PermissionGrant.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pals</code> - Principals.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a PermissionGrantBuilder</dd>
</dl>
</li>
</ul>
<a name="permissions-java.security.Permission:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>permissions</h4>
<pre>public abstract&nbsp;<a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html" title="class in org.apache.river.api.security">PermissionGrantBuilder</a>&nbsp;permissions(<a href="http://docs.oracle.com/javase/8/docs/api/java/security/Permission.html?is-external=true" title="class or interface in java.security">Permission</a>[]&nbsp;perm)</pre>
<div class="block">Specifies Permission's to be granted.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>perm</code> - Permissions.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a PermissionGrantBuilder</dd>
</dl>
</li>
</ul>
<a name="build--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>build</h4>
<pre>public abstract&nbsp;<a href="../../../../../org/apache/river/api/security/PermissionGrant.html" title="class in org.apache.river.api.security">PermissionGrant</a>&nbsp;build()</pre>
<div class="block">Build the PermissionGrant using information supplied.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an appropriate PermissionGrant.</dd>
</dl>
</li>
</ul>
<a name="setDomain-java.lang.ref.WeakReference-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setDomain</h4>
<pre>public abstract&nbsp;<a href="../../../../../org/apache/river/api/security/PermissionGrantBuilder.html" title="class in org.apache.river.api.security">PermissionGrantBuilder</a>&nbsp;setDomain(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ref/WeakReference.html?is-external=true" title="class or interface in java.lang.ref">WeakReference</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/security/ProtectionDomain.html?is-external=true" title="class or interface in java.security">ProtectionDomain</a>&gt;&nbsp;domain)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>domain</code> - WeakReference containing ProtectionDomain</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a PermissionGrantBuilder</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PermissionGrantBuilder.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/river/api/security/PermissionGrant.html" title="class in org.apache.river.api.security"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/river/api/security/PermissionGrantBuilderImp.html" title="class in org.apache.river.api.security"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/river/api/security/PermissionGrantBuilder.html" target="_top">Frames</a></li>
<li><a href="PermissionGrantBuilder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright 2007-2013, multiple authors.<br>Licensed under the <a href=http://www.apache.org/licenses/LICENSE-2.0 target=child >Apache License, Version 2.0</a>, see the <a href=../../../../../doc-files/NOTICE target=child >NOTICE</a> file for attributions.</small></p>
</body>
</html>
