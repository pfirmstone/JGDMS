<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_60) on Mon Mar 28 17:11:24 AEST 2016 -->
<title>ConcurrentPolicyFile (River-Internet vtrunk API Documentation (internals))</title>
<meta name="date" content="2016-03-28">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ConcurrentPolicyFile (River-Internet vtrunk API Documentation (internals))";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":9,"i8":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ConcurrentPolicyFile.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/river/api/security/ConcurrentPermissions.PermissionPendingResolutionCollection.html" title="class in org.apache.river.api.security"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/river/api/security/DefaultPolicyParser.html" title="class in org.apache.river.api.security"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/river/api/security/ConcurrentPolicyFile.html" target="_top">Frames</a></li>
<li><a href="ConcurrentPolicyFile.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.java.security.Policy">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.river.api.security</div>
<h2 title="Class ConcurrentPolicyFile" class="title">Class ConcurrentPolicyFile</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/security/Policy.html?is-external=true" title="class or interface in java.security">java.security.Policy</a></li>
<li>
<ul class="inheritance">
<li>org.apache.river.api.security.ConcurrentPolicyFile</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../org/apache/river/api/security/ScalableNestedPolicy.html" title="interface in org.apache.river.api.security">ScalableNestedPolicy</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">ConcurrentPolicyFile</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/security/Policy.html?is-external=true" title="class or interface in java.security">Policy</a>
implements <a href="../../../../../org/apache/river/api/security/ScalableNestedPolicy.html" title="interface in org.apache.river.api.security">ScalableNestedPolicy</a></pre>
<div class="block"><p>
 Concurrent Policy implementation based on policy configuration URL's,
 it is intended to provide concurrent implies() for greatly improved
 throughput.  Caching limits scalability and consumes shared memory,
 so no cache exists.
 </p><p>
 By default all River Policy implementations now utilise ConcurrentPolicyFile.
 </p>
 The default PolicyParser
 implementation recognises text files, consisting of clauses with the
 following syntax:
 
 <pre>
 keystore &quot;some_keystore_url&quot; [, &quot;keystore_type&quot;];
 </pre>
 <pre>
 grant [SignedBy &quot;signer_names&quot;] [, CodeBase &quot;URL&quot;]
  [, Principal [principal_class_name] &quot;principal_name&quot;]
  [, Principal [principal_class_name] &quot;principal_name&quot;] ... {
  permission permission_class_name [ &quot;target_name&quot; ] [, &quot;action&quot;] 
  [, SignedBy &quot;signer_names&quot;];
  permission ...
  };
  
 </pre>
 
 The <i>keystore </i> clause specifies reference to a keystore, which is a
 database of private keys and their associated digital certificates. The
 keystore is used to look up the certificates of signers specified in the
 <i>grant </i> entries of the file. The policy file can contain any number of
 <i>keystore </i> entries which can appear at any ordinal position. However,
 only the first successfully loaded keystore is used, others are ignored. The
 keystore must be specified if some grant clause refers to a certificate's
 alias. <br>
 The <i>grant </i> clause associates a CodeSource (consisting of a URI and a
 set of certificates) of some executable code with a set of Permissions which
 should be granted to the code. So, the CodeSource is defined by values of
 <i>CodeBase </i> and <i>SignedBy </i> fields. The <i>CodeBase </i> value must
 be in URI format, while <i>SignedBy </i> value is a (comma-separated list of)
 alias(es) to keystore certificates. These fields can be omitted to denote any
 codebase and any signers (including case of unsigned code), respectively.
 <br>
 URI is case sensitive and does not perform DNS lookup or reverse lookup
 to resolve a URI IP address to determine if a <i>grant</i> clause implies 
 CodeSource URL, instead CodeSource URL objects are converted to URI instances
 during implies determination.  If grants are made to an IP address, 
 these will not imply a DNS name address URI and vice versa.
 <br>
 "FILE:" URI's are case sensitive, although some file systems allow access
 to the same file using upper or lower case, one URI will not imply another
 with different case, even if both URI refer to the same file, for this 
 reason case sensitive and case preserving file systems are recommended.  
 The PolicyParser must escape any excluded characters according to RFC2396
 and in addition it must convert all MS Windows platform drive letters 
 to upper case.
 <br>
 Also, the code may be required to be executed on behalf of some Principals
 (in other words, code's ProtectionDomain must have the array of Principals
 associated) in order to possess the Permissions. This fact is indicated by
 specifying one or more <i>Principal </i> fields in the <i>grant </i> clause.
 Each Principal is specified as class/name pair; name and class can be either
 concrete value or wildcard <i>* </i>. As a special case, the class value may
 be omitted and then the name is treated as an alias to X.509 Certificate, and
 the Principal is assumed to be javax.security.auth.x500.X500Principal with a
 name of subject's distinguished name from the certificate. <br>
 The order between the <i>CodeBase </i>, <i>SignedBy </i>, and <i>Principal
 </i> fields does not matter. The policy file can contain any number of grant
 clauses. <br>
 Each <i>grant </i> clause must contain one or more <i>permission </i> entry.
 The permission entry consist of a fully qualified class name along with
 optional <i>name </i>, <i>actions </i> and <i>signedby </i> values. Name and
 actions are arguments to the corresponding constructor of the permission
 class. SignedBy value represents the keystore alias(es) to certificate(s)
 used to sign the permission class. That is, this permission entry is
 effective (i.e., access control permission will be granted based on this
 entry) only if the bytecode implementation of permission class is verified to
 be correctly signed by the said alias(es). <br>
 <br>
 The policy content may be parameterized via property expansion. Namely,
 expressions like <i>${key} </i> are replaced by values of corresponding
 system properties. Also, the special <i>slash </i> key (i.e. ${/}) is
 supported, it is a shortcut to &quot;file.separator&quot; key. Property
 expansion is performed anywhere a double quoted string is allowed in the
 policy file. However, this feature is controlled by security properties and
 should be turned on by setting &quot;policy.expandProperties&quot; property
 to <i>true </i>. <br>
 If property expansion fails (due to a missing key), a corresponding entry is
 ignored. For fields of <i>keystore </i> and <i>grant </i> clauses, the whole
 clause is ignored, and for <i>permission </i> entry, only that entry is
 ignored. <br>
 <br>
 The policy also supports generalized expansion in permissions names, of
 expressions like <i>${{protocol:data}} </i>. Currently the following
 protocols supported:
 <dl>
 <dt>self
 <dd>Denotes substitution to a principal information of the parental Grant
 entry. Replaced by a space-separated list of resolved Principals (including
 wildcarded), each formatted as <i>class &quot;name&quot; </i>. If parental
 Grant entry has no Principals, the permission is ignored.
 <dt>alias: <i>name </i>
 <dd>Denotes substitution of a KeyStore alias. Namely, if a KeyStore has an
 X.509 certificate associated with the specified name, then replaced by
 <code>javax.security.auth.x500.X500Principal &quot; <i>DN </i>&quot; </code>
 string, where <i>DN </i> is a certificate's subject distinguished name.
 </dl>
 <br>
 If there is sufficient interest, we can implement a DENY clause, 
 in this case DENY cannot apply to GRANT clauses that contain
 <a href="http://docs.oracle.com/javase/8/docs/api/java/security/AllPermission.html?is-external=true" title="class or interface in java.security"><code>AllPermission</code></a>, the domains to which a DENY clause
 would apply will be a less privileged domain.  For example a user could be
 granted SocketPermission("*", "connect"), while a DENY clause might
 list specific SocketPermission domains that are disallowed, where a DENY 
 clause has precedence over all GRANT clause Permissions except for AllPermission.
 <br>
 This implementation is thread-safe and scalable.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.2.1</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Peter Firmstone.</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.java.security.Policy">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;java.security.<a href="http://docs.oracle.com/javase/8/docs/api/java/security/Policy.html?is-external=true" title="class or interface in java.security">Policy</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/security/Policy.Parameters.html?is-external=true" title="class or interface in java.security">Policy.Parameters</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="http://docs.oracle.com/javase/8/docs/api/java/security/Permission.html?is-external=true" title="class or interface in java.security">Permission</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/ConcurrentPolicyFile.html#ALL_PERMISSION">ALL_PERMISSION</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/security/Permission.html?is-external=true" title="class or interface in java.security">Permission</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/ConcurrentPolicyFile.html#comparator">comparator</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/river/api/security/PermissionGrant.html" title="class in org.apache.river.api.security">PermissionGrant</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/ConcurrentPolicyFile.html#grantArray">grantArray</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="http://docs.oracle.com/javase/8/docs/api/java/security/Guard.html?is-external=true" title="class or interface in java.security">Guard</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/ConcurrentPolicyFile.html#guard">guard</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/ConcurrentPolicyFile.html#JAVA_SECURITY_POLICY">JAVA_SECURITY_POLICY</a></span></code>
<div class="block">System property for dynamically added policy location.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="http://docs.oracle.com/javase/8/docs/api/java/security/ProtectionDomain.html?is-external=true" title="class or interface in java.security">ProtectionDomain</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/ConcurrentPolicyFile.html#myDomain">myDomain</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/8/docs/api/java/security/PermissionCollection.html?is-external=true" title="class or interface in java.security">PermissionCollection</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/ConcurrentPolicyFile.html#myPermissions">myPermissions</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/river/api/security/PolicyParser.html" title="interface in org.apache.river.api.security">PolicyParser</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/ConcurrentPolicyFile.html#parser">parser</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/ConcurrentPolicyFile.html#POLICY_URL_PREFIX">POLICY_URL_PREFIX</a></span></code>
<div class="block">Prefix for numbered Policy locations specified in security.properties.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.java.security.Policy">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;java.security.<a href="http://docs.oracle.com/javase/8/docs/api/java/security/Policy.html?is-external=true" title="class or interface in java.security">Policy</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/security/Policy.html?is-external=true#UNSUPPORTED_EMPTY_COLLECTION" title="class or interface in java.security">UNSUPPORTED_EMPTY_COLLECTION</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/ConcurrentPolicyFile.html#ConcurrentPolicyFile--">ConcurrentPolicyFile</a></span>()</code>
<div class="block">Default constructor, equivalent to
 <code>ConcurrentPolicyFile(new DefaultPolicyParser())</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/ConcurrentPolicyFile.html#ConcurrentPolicyFile-org.apache.river.api.security.PolicyParser-java.util.Comparator-">ConcurrentPolicyFile</a></span>(<a href="../../../../../org/apache/river/api/security/PolicyParser.html" title="interface in org.apache.river.api.security">PolicyParser</a>&nbsp;dpr,
                    <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/security/Permission.html?is-external=true" title="class or interface in java.security">Permission</a>&gt;&nbsp;comp)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/ConcurrentPolicyFile.html#ConcurrentPolicyFile-org.apache.river.api.security.PolicyParser-java.util.Comparator-org.apache.river.api.security.PermissionGrant:A-">ConcurrentPolicyFile</a></span>(<a href="../../../../../org/apache/river/api/security/PolicyParser.html" title="interface in org.apache.river.api.security">PolicyParser</a>&nbsp;dpr,
                    <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/security/Permission.html?is-external=true" title="class or interface in java.security">Permission</a>&gt;&nbsp;comp,
                    <a href="../../../../../org/apache/river/api/security/PermissionGrant.html" title="class in org.apache.river.api.security">PermissionGrant</a>[]&nbsp;grants)</code>
<div class="block">Constructor to allow for custom policy providers, for example a database
 policy provider, can make administration simpler than traditional
 policy files.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private static <a href="../../../../../org/apache/river/api/security/PermissionGrant.html" title="class in org.apache.river.api.security">PermissionGrant</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/ConcurrentPolicyFile.html#check-org.apache.river.api.security.PolicyParser-">check</a></span>(<a href="../../../../../org/apache/river/api/security/PolicyParser.html" title="interface in org.apache.river.api.security">PolicyParser</a>&nbsp;parser)</code>
<div class="block">All exceptions are thrown by this method during construction,
 to avoid a finalizer attack from an overriding class attempting
 to avoid the construction guard, catching the exception then calling
 refresh from the finalizer to instantiate a complete policy.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/8/docs/api/java/security/PermissionCollection.html?is-external=true" title="class or interface in java.security">PermissionCollection</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/ConcurrentPolicyFile.html#convert-java.util.NavigableSet-">convert</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/NavigableSet.html?is-external=true" title="class or interface in java.util">NavigableSet</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/security/Permission.html?is-external=true" title="class or interface in java.security">Permission</a>&gt;&nbsp;permissions)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/8/docs/api/java/security/PermissionCollection.html?is-external=true" title="class or interface in java.security">PermissionCollection</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/ConcurrentPolicyFile.html#getP-java.security.ProtectionDomain-">getP</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/security/ProtectionDomain.html?is-external=true" title="class or interface in java.security">ProtectionDomain</a>&nbsp;pd)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/river/api/security/PermissionGrant.html" title="class in org.apache.river.api.security">PermissionGrant</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/ConcurrentPolicyFile.html#getPermissionGrants-java.security.ProtectionDomain-">getPermissionGrants</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/security/ProtectionDomain.html?is-external=true" title="class or interface in java.security">ProtectionDomain</a>&nbsp;pd)</code>
<div class="block">Returns a new List containing immutable PermissionGrant's, the
 List returned is not synchronised and must not be shared with policy 
 internal state.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/security/PermissionCollection.html?is-external=true" title="class or interface in java.security">PermissionCollection</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/ConcurrentPolicyFile.html#getPermissions-java.security.CodeSource-">getPermissions</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/security/CodeSource.html?is-external=true" title="class or interface in java.security">CodeSource</a>&nbsp;cs)</code>
<div class="block">This returns a java.security.Permissions collection, which allows
 ProtectionDomain to optimise for the AllPermission case, which avoids
 unnecessarily consulting the policy.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/security/PermissionCollection.html?is-external=true" title="class or interface in java.security">PermissionCollection</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/ConcurrentPolicyFile.html#getPermissions-java.security.ProtectionDomain-">getPermissions</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/security/ProtectionDomain.html?is-external=true" title="class or interface in java.security">ProtectionDomain</a>&nbsp;pd)</code>
<div class="block">Returns collection of permissions allowed for the domain 
 according to the policy.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/ConcurrentPolicyFile.html#implies-java.security.ProtectionDomain-java.security.Permission-">implies</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/security/ProtectionDomain.html?is-external=true" title="class or interface in java.security">ProtectionDomain</a>&nbsp;domain,
       <a href="http://docs.oracle.com/javase/8/docs/api/java/security/Permission.html?is-external=true" title="class or interface in java.security">Permission</a>&nbsp;permission)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private static <a href="../../../../../org/apache/river/api/security/PermissionGrant.html" title="class in org.apache.river.api.security">PermissionGrant</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/ConcurrentPolicyFile.html#initialize-org.apache.river.api.security.PolicyParser-">initialize</a></span>(<a href="../../../../../org/apache/river/api/security/PolicyParser.html" title="interface in org.apache.river.api.security">PolicyParser</a>&nbsp;parser)</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/river/api/security/ConcurrentPolicyFile.html#refresh--">refresh</a></span>()</code>
<div class="block">Gets fresh list of locations and tries to load all of them in sequence;
 failed loads are ignored.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.security.Policy">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.security.<a href="http://docs.oracle.com/javase/8/docs/api/java/security/Policy.html?is-external=true" title="class or interface in java.security">Policy</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/security/Policy.html?is-external=true#getInstance-java.lang.String-java.security.Policy.Parameters-" title="class or interface in java.security">getInstance</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/security/Policy.html?is-external=true#getInstance-java.lang.String-java.security.Policy.Parameters-java.security.Provider-" title="class or interface in java.security">getInstance</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/security/Policy.html?is-external=true#getInstance-java.lang.String-java.security.Policy.Parameters-java.lang.String-" title="class or interface in java.security">getInstance</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/security/Policy.html?is-external=true#getParameters--" title="class or interface in java.security">getParameters</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/security/Policy.html?is-external=true#getPolicy--" title="class or interface in java.security">getPolicy</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/security/Policy.html?is-external=true#getProvider--" title="class or interface in java.security">getProvider</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/security/Policy.html?is-external=true#getType--" title="class or interface in java.security">getType</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/security/Policy.html?is-external=true#setPolicy-java.security.Policy-" title="class or interface in java.security">setPolicy</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="JAVA_SECURITY_POLICY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>JAVA_SECURITY_POLICY</h4>
<pre>private static final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> JAVA_SECURITY_POLICY</pre>
<div class="block">System property for dynamically added policy location.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.river.api.security.ConcurrentPolicyFile.JAVA_SECURITY_POLICY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="POLICY_URL_PREFIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>POLICY_URL_PREFIX</h4>
<pre>private static final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> POLICY_URL_PREFIX</pre>
<div class="block">Prefix for numbered Policy locations specified in security.properties.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.river.api.security.ConcurrentPolicyFile.POLICY_URL_PREFIX">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="ALL_PERMISSION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ALL_PERMISSION</h4>
<pre>private static final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/security/Permission.html?is-external=true" title="class or interface in java.security">Permission</a> ALL_PERMISSION</pre>
</li>
</ul>
<a name="grantArray">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>grantArray</h4>
<pre>private volatile&nbsp;<a href="../../../../../org/apache/river/api/security/PermissionGrant.html" title="class in org.apache.river.api.security">PermissionGrant</a>[] grantArray</pre>
</li>
</ul>
<a name="parser">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parser</h4>
<pre>private final&nbsp;<a href="../../../../../org/apache/river/api/security/PolicyParser.html" title="interface in org.apache.river.api.security">PolicyParser</a> parser</pre>
</li>
</ul>
<a name="guard">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>guard</h4>
<pre>private static final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/security/Guard.html?is-external=true" title="class or interface in java.security">Guard</a> guard</pre>
</li>
</ul>
<a name="myDomain">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>myDomain</h4>
<pre>private static final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/security/ProtectionDomain.html?is-external=true" title="class or interface in java.security">ProtectionDomain</a> myDomain</pre>
</li>
</ul>
<a name="comparator">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>comparator</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/security/Permission.html?is-external=true" title="class or interface in java.security">Permission</a>&gt; comparator</pre>
</li>
</ul>
<a name="myPermissions">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>myPermissions</h4>
<pre>private volatile&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/security/PermissionCollection.html?is-external=true" title="class or interface in java.security">PermissionCollection</a> myPermissions</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ConcurrentPolicyFile--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ConcurrentPolicyFile</h4>
<pre>public&nbsp;ConcurrentPolicyFile()
                     throws <a href="../../../../../net/jini/security/policy/PolicyInitializationException.html" title="class in net.jini.security.policy">PolicyInitializationException</a></pre>
<div class="block">Default constructor, equivalent to
 <code>ConcurrentPolicyFile(new DefaultPolicyParser())</code>.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../net/jini/security/policy/PolicyInitializationException.html" title="class in net.jini.security.policy">PolicyInitializationException</a></code> - in instantiation unsuccessful</dd>
</dl>
</li>
</ul>
<a name="ConcurrentPolicyFile-org.apache.river.api.security.PolicyParser-java.util.Comparator-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ConcurrentPolicyFile</h4>
<pre>protected&nbsp;ConcurrentPolicyFile(<a href="../../../../../org/apache/river/api/security/PolicyParser.html" title="interface in org.apache.river.api.security">PolicyParser</a>&nbsp;dpr,
                               <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/security/Permission.html?is-external=true" title="class or interface in java.security">Permission</a>&gt;&nbsp;comp)
                        throws <a href="../../../../../net/jini/security/policy/PolicyInitializationException.html" title="class in net.jini.security.policy">PolicyInitializationException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../net/jini/security/policy/PolicyInitializationException.html" title="class in net.jini.security.policy">PolicyInitializationException</a></code></dd>
</dl>
</li>
</ul>
<a name="ConcurrentPolicyFile-org.apache.river.api.security.PolicyParser-java.util.Comparator-org.apache.river.api.security.PermissionGrant:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ConcurrentPolicyFile</h4>
<pre>private&nbsp;ConcurrentPolicyFile(<a href="../../../../../org/apache/river/api/security/PolicyParser.html" title="interface in org.apache.river.api.security">PolicyParser</a>&nbsp;dpr,
                             <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html?is-external=true" title="class or interface in java.util">Comparator</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/security/Permission.html?is-external=true" title="class or interface in java.security">Permission</a>&gt;&nbsp;comp,
                             <a href="../../../../../org/apache/river/api/security/PermissionGrant.html" title="class in org.apache.river.api.security">PermissionGrant</a>[]&nbsp;grants)
                      throws <a href="../../../../../net/jini/security/policy/PolicyInitializationException.html" title="class in net.jini.security.policy">PolicyInitializationException</a></pre>
<div class="block">Constructor to allow for custom policy providers, for example a database
 policy provider, can make administration simpler than traditional
 policy files.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dpr</code> - </dd>
<dd><code>comp</code> - Comparator to compare permissions.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../net/jini/security/policy/PolicyInitializationException.html" title="class in net.jini.security.policy">PolicyInitializationException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="check-org.apache.river.api.security.PolicyParser-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>check</h4>
<pre>private static&nbsp;<a href="../../../../../org/apache/river/api/security/PermissionGrant.html" title="class in org.apache.river.api.security">PermissionGrant</a>[]&nbsp;check(<a href="../../../../../org/apache/river/api/security/PolicyParser.html" title="interface in org.apache.river.api.security">PolicyParser</a>&nbsp;parser)
                                throws <a href="../../../../../net/jini/security/policy/PolicyInitializationException.html" title="class in net.jini.security.policy">PolicyInitializationException</a></pre>
<div class="block">All exceptions are thrown by this method during construction,
 to avoid a finalizer attack from an overriding class attempting
 to avoid the construction guard, catching the exception then calling
 refresh from the finalizer to instantiate a complete policy.
 
 This method is called during construction prior to the implicit
 super() call to Object and prior to any final fields being assigned.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../net/jini/security/policy/PolicyInitializationException.html" title="class in net.jini.security.policy">PolicyInitializationException</a></code></dd>
</dl>
</li>
</ul>
<a name="convert-java.util.NavigableSet-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>convert</h4>
<pre>private&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/security/PermissionCollection.html?is-external=true" title="class or interface in java.security">PermissionCollection</a>&nbsp;convert(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/NavigableSet.html?is-external=true" title="class or interface in java.util">NavigableSet</a>&lt;<a href="http://docs.oracle.com/javase/8/docs/api/java/security/Permission.html?is-external=true" title="class or interface in java.security">Permission</a>&gt;&nbsp;permissions)</pre>
</li>
</ul>
<a name="getPermissions-java.security.ProtectionDomain-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPermissions</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/security/PermissionCollection.html?is-external=true" title="class or interface in java.security">PermissionCollection</a>&nbsp;getPermissions(<a href="http://docs.oracle.com/javase/8/docs/api/java/security/ProtectionDomain.html?is-external=true" title="class or interface in java.security">ProtectionDomain</a>&nbsp;pd)</pre>
<div class="block">Returns collection of permissions allowed for the domain 
 according to the policy. The evaluated characteristics of the 
 domain are it's codesource and principals; they are assumed
 to be <code>null</code> if the domain is <code>null</code>.
 
 Each PermissionCollection returned is a unique instance.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/security/Policy.html?is-external=true#getPermissions-java.security.ProtectionDomain-" title="class or interface in java.security">getPermissions</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/8/docs/api/java/security/Policy.html?is-external=true" title="class or interface in java.security">Policy</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pd</code> - ProtectionDomain</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="http://docs.oracle.com/javase/8/docs/api/java/security/ProtectionDomain.html?is-external=true" title="class or interface in java.security"><code>ProtectionDomain</code></a></dd>
</dl>
</li>
</ul>
<a name="getP-java.security.ProtectionDomain-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getP</h4>
<pre>private&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/security/PermissionCollection.html?is-external=true" title="class or interface in java.security">PermissionCollection</a>&nbsp;getP(<a href="http://docs.oracle.com/javase/8/docs/api/java/security/ProtectionDomain.html?is-external=true" title="class or interface in java.security">ProtectionDomain</a>&nbsp;pd)</pre>
</li>
</ul>
<a name="getPermissions-java.security.CodeSource-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPermissions</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/security/PermissionCollection.html?is-external=true" title="class or interface in java.security">PermissionCollection</a>&nbsp;getPermissions(<a href="http://docs.oracle.com/javase/8/docs/api/java/security/CodeSource.html?is-external=true" title="class or interface in java.security">CodeSource</a>&nbsp;cs)</pre>
<div class="block">This returns a java.security.Permissions collection, which allows
 ProtectionDomain to optimise for the AllPermission case, which avoids
 unnecessarily consulting the policy.
 
 This implementation only returns a Permissions that contains
 AllPermission for privileged domains, otherwise it 
 calls super.getPermissions(cs).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/security/Policy.html?is-external=true#getPermissions-java.security.CodeSource-" title="class or interface in java.security">getPermissions</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/8/docs/api/java/security/Policy.html?is-external=true" title="class or interface in java.security">Policy</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cs</code> - CodeSource</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="http://docs.oracle.com/javase/8/docs/api/java/security/CodeSource.html?is-external=true" title="class or interface in java.security"><code>CodeSource</code></a></dd>
</dl>
</li>
</ul>
<a name="implies-java.security.ProtectionDomain-java.security.Permission-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>implies</h4>
<pre>public&nbsp;boolean&nbsp;implies(<a href="http://docs.oracle.com/javase/8/docs/api/java/security/ProtectionDomain.html?is-external=true" title="class or interface in java.security">ProtectionDomain</a>&nbsp;domain,
                       <a href="http://docs.oracle.com/javase/8/docs/api/java/security/Permission.html?is-external=true" title="class or interface in java.security">Permission</a>&nbsp;permission)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/security/Policy.html?is-external=true#implies-java.security.ProtectionDomain-java.security.Permission-" title="class or interface in java.security">implies</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/8/docs/api/java/security/Policy.html?is-external=true" title="class or interface in java.security">Policy</a></code></dd>
</dl>
</li>
</ul>
<a name="refresh--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refresh</h4>
<pre>public&nbsp;void&nbsp;refresh()</pre>
<div class="block">Gets fresh list of locations and tries to load all of them in sequence;
 failed loads are ignored. After processing all locations, old policy
 settings are discarded and new ones come into force. <br></div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/security/Policy.html?is-external=true#refresh--" title="class or interface in java.security">refresh</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/8/docs/api/java/security/Policy.html?is-external=true" title="class or interface in java.security">Policy</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../org/apache/river/api/security/PolicyUtils.html#getPolicyURLs-java.util.Properties-java.lang.String-java.lang.String-"><code>PolicyUtils.getPolicyURLs(Properties, String, String)</code></a></dd>
</dl>
</li>
</ul>
<a name="initialize-org.apache.river.api.security.PolicyParser-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre>private static&nbsp;<a href="../../../../../org/apache/river/api/security/PermissionGrant.html" title="class in org.apache.river.api.security">PermissionGrant</a>[]&nbsp;initialize(<a href="../../../../../org/apache/river/api/security/PolicyParser.html" title="interface in org.apache.river.api.security">PolicyParser</a>&nbsp;parser)
                                     throws <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="getPermissionGrants-java.security.ProtectionDomain-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getPermissionGrants</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/river/api/security/PermissionGrant.html" title="class in org.apache.river.api.security">PermissionGrant</a>&gt;&nbsp;getPermissionGrants(<a href="http://docs.oracle.com/javase/8/docs/api/java/security/ProtectionDomain.html?is-external=true" title="class or interface in java.security">ProtectionDomain</a>&nbsp;pd)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/river/api/security/ScalableNestedPolicy.html#getPermissionGrants-java.security.ProtectionDomain-">ScalableNestedPolicy</a></code></span></div>
<div class="block">Returns a new List containing immutable PermissionGrant's, the
 List returned is not synchronised and must not be shared with policy 
 internal state.
 
 Only those PermissionGrant's that imply the domain will be returned.
 
 If any PermissionGrant's are privileged (contain AllPermission), then
 only that one PermissionGrant should be added to the collection.  If
 a List has a size of 1, and contains only a privileged PermissionGrant,
 it enables the calling policy to determine the privileged state quickly.
 
 If a policy has a privileged PermissionGrant to add to a Collection,
 then the Collection must be cleared before the privileged PermissionGrant
 is added, so the Collection only contains the privileged PermissionGrant.
 
 The top level policy gathers all PermissionGrant's,
 retrieves all relevant permissions, then sorts them using a 
 PermissionComparator, so Permission objects are added to a 
 PermissionCollection in the most efficient order.
 
 If a nested base policy doesn't support ScalableNestedPolicy, then the
 implementer should create a PermissionGrant for the domain, containing
 the Permission objects returned from the policy.
 
 The first nested base policy (usually a file policy provider) is
 responsible for merging any static Permission objects from the
 ProtectionDomain.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/river/api/security/ScalableNestedPolicy.html#getPermissionGrants-java.security.ProtectionDomain-">getPermissionGrants</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/river/api/security/ScalableNestedPolicy.html" title="interface in org.apache.river.api.security">ScalableNestedPolicy</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pd</code> - ProtectionDomain grants apply to</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>List of PermissionGrant's</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ConcurrentPolicyFile.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/river/api/security/ConcurrentPermissions.PermissionPendingResolutionCollection.html" title="class in org.apache.river.api.security"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/river/api/security/DefaultPolicyParser.html" title="class in org.apache.river.api.security"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/river/api/security/ConcurrentPolicyFile.html" target="_top">Frames</a></li>
<li><a href="ConcurrentPolicyFile.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.java.security.Policy">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright 2007-2013, multiple authors.<br>Licensed under the <a href=http://www.apache.org/licenses/LICENSE-2.0 target=child >Apache License, Version 2.0</a>, see the <a href=../../../../../doc-files/NOTICE target=child >NOTICE</a> file for attributions.</small></p>
</body>
</html>
