<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_60) on Mon Mar 28 17:11:46 AEST 2016 -->
<title>LeaseSet (River-Internet vtrunk API Documentation (internals))</title>
<meta name="date" content="2016-03-28">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LeaseSet (River-Internet vtrunk API Documentation (internals))";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":9,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LeaseSet.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/river/norm/LeaseExpirationMgr.SendWarning.html" title="class in org.apache.river.norm"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/river/norm/LeaseSet.ChangeSetExpiration.html" title="class in org.apache.river.norm"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/river/norm/LeaseSet.html" target="_top">Frames</a></li>
<li><a href="LeaseSet.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.river.norm</div>
<h2 title="Class LeaseSet" class="title">Class LeaseSet</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.river.norm.LeaseSet</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</a>, <a href="../../../../org/apache/river/landlord/LeasedResource.html" title="interface in org.apache.river.landlord">LeasedResource</a></dd>
</dl>
<hr>
<br>
<pre>class <span class="typeNameLabel">LeaseSet</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="http://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</a>, <a href="../../../../org/apache/river/landlord/LeasedResource.html" title="interface in org.apache.river.landlord">LeasedResource</a></pre>
<div class="block">Norm's internal representation of LeaseRenewalSets.  Unless otherwise
 noted the methods of this class assume synchronization being handled
 by the caller.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Sun Microsystems, Inc.</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.ChangeSetExpiration.html" title="class in org.apache.river.norm">LeaseSet.ChangeSetExpiration</a></span></code>
<div class="block">Class used to log changes to the set expiration time.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.ExpirationTime.html" title="class in org.apache.river.norm">LeaseSet.ExpirationTime</a></span></code>
<div class="block">Utility class that holds and guards the second copy of our expiration 
 time.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.FailureEventRegistration.html" title="class in org.apache.river.norm">LeaseSet.FailureEventRegistration</a></span></code>
<div class="block">Class used to log changes to failure event registrations</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.RemoveClientLease.html" title="class in org.apache.river.norm">LeaseSet.RemoveClientLease</a></span></code>
<div class="block">Class used to log the removal of a client lease from the set</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.RenewalFailure.html" title="class in org.apache.river.norm">LeaseSet.RenewalFailure</a></span></code>
<div class="block">Class used to log a renewal failure</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.UpdateClientLease.html" title="class in org.apache.river.norm">LeaseSet.UpdateClientLease</a></span></code>
<div class="block">Class used to log adding or updating a client lease to the set</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.WarningEventRegistration.html" title="class in org.apache.river.norm">LeaseSet.WarningEventRegistration</a></span></code>
<div class="block">Class used to log changes to warning event registrations</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.WarningFactory.html" title="class in org.apache.river.norm">LeaseSet.WarningFactory</a></span></code>
<div class="block">Nested class that implements <code>EventFactory</code> that
 generates <code>ExpirationWarningEvent</code>s.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#expiration">expiration</a></span></code>
<div class="block">Expiration time of the set</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../org/apache/river/norm/LeaseSet.ExpirationTime.html" title="class in org.apache.river.norm">LeaseSet.ExpirationTime</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#expiration2">expiration2</a></span></code>
<div class="block">We keep two copies of the expiration time guarded by different 
 locks so the the client lease renewal threads don't have to wait
 on the set's lock.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../org/apache/river/norm/event/EventType.html" title="class in org.apache.river.norm.event">EventType</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#failureEventType">failureEventType</a></span></code>
<div class="block">The event type for failure events</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#ID">ID</a></span></code>
<div class="block">ID that uniquely identifies this set</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html" title="class in org.apache.river.norm">ClientLeaseWrapper</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#leases">leases</a></span></code>
<div class="block">A collection of the client leases in this set (in wrapped form).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../org/apache/river/norm/LeaseTable.html" title="class in org.apache.river.norm">LeaseTable</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#leaseTable">leaseTable</a></span></code>
<div class="block">A table that maps client leases to client lease wrappers.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#minWarning">minWarning</a></span></code>
<div class="block">Time before <code>expiration</code> to send expiration warning events</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../org/apache/river/norm/NormServerBaseImpl.html" title="class in org.apache.river.norm">NormServerBaseImpl</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#normServerBaseImpl">normServerBaseImpl</a></span></code>
<div class="block">The <code>NormServerBaseImpl</code> are attached to</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#serialVersionUID">serialVersionUID</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../org/apache/river/norm/PersistentStore.html" title="class in org.apache.river.norm">PersistentStore</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#store">store</a></span></code>
<div class="block"><code>PersistentStore</code> that changes should be logged to.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../org/apache/river/norm/event/EventType.html" title="class in org.apache.river.norm.event">EventType</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#warningEventType">warningEventType</a></span></code>
<div class="block">The event type for expiration warning events</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#warningSeqNum">warningSeqNum</a></span></code>
<div class="block">The current sequence number for expiration warning events</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#LeaseSet-org.apache.river.api.io.AtomicSerial.GetArg-">LeaseSet</a></span>(<a href="../../../../org/apache/river/api/io/AtomicSerial.GetArg.html" title="class in org.apache.river.api.io">AtomicSerial.GetArg</a>&nbsp;arg)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#LeaseSet-long-net.jini.id.Uuid-java.util.Set-long-org.apache.river.norm.event.EventType-long-org.apache.river.norm.event.EventType-">LeaseSet</a></span>(long&nbsp;expiration,
        <a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a>&nbsp;ID,
        <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;leases,
        long&nbsp;minWarning,
        <a href="../../../../org/apache/river/norm/event/EventType.html" title="class in org.apache.river.norm.event">EventType</a>&nbsp;warningEventType,
        long&nbsp;warningSeqNum,
        <a href="../../../../org/apache/river/norm/event/EventType.html" title="class in org.apache.river.norm.event">EventType</a>&nbsp;failureEventType)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#LeaseSet-net.jini.id.Uuid-org.apache.river.norm.event.EventTypeGenerator-org.apache.river.norm.PersistentStore-org.apache.river.norm.NormServerBaseImpl-">LeaseSet</a></span>(<a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a>&nbsp;ID,
        <a href="../../../../org/apache/river/norm/event/EventTypeGenerator.html" title="class in org.apache.river.norm.event">EventTypeGenerator</a>&nbsp;generator,
        <a href="../../../../org/apache/river/norm/PersistentStore.html" title="class in org.apache.river.norm">PersistentStore</a>&nbsp;store,
        <a href="../../../../org/apache/river/norm/NormServerBaseImpl.html" title="class in org.apache.river.norm">NormServerBaseImpl</a>&nbsp;normServerBaseImpl)</code>
<div class="block">Simple constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#addToLeaseTable-org.apache.river.norm.ClientLeaseWrapper-">addToLeaseTable</a></span>(<a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html" title="class in org.apache.river.norm">ClientLeaseWrapper</a>&nbsp;clw)</code>
<div class="block">Add a lease already in the lease set to the lease table.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private static <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html" title="class in org.apache.river.norm">ClientLeaseWrapper</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#check-java.util.Set-">check</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html" title="class in org.apache.river.norm">ClientLeaseWrapper</a>&gt;&nbsp;leases)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#definiteException-org.apache.river.norm.event.EventType-net.jini.core.event.RemoteEvent-long-">definiteException</a></span>(<a href="../../../../org/apache/river/norm/event/EventType.html" title="class in org.apache.river.norm.event">EventType</a>&nbsp;type,
                 <a href="../../../../net/jini/core/event/RemoteEvent.html" title="class in net.jini.core.event">RemoteEvent</a>&nbsp;ev,
                 long&nbsp;registrationNumber)</code>
<div class="block">If the passed registrationNumber number matches the 
 current registrationNumber for the passed event 
 clear the current registration and persist the change</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>(package private) <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#destroy--">destroy</a></span>()</code>
<div class="block">Destroy a lease set</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#doesContainWrapper-org.apache.river.norm.ClientLeaseWrapper-">doesContainWrapper</a></span>(<a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html" title="class in org.apache.river.norm">ClientLeaseWrapper</a>&nbsp;clw)</code>
<div class="block">Return true if the passed wrapper is in the set</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#ensureCurrent-long-">ensureCurrent</a></span>(long&nbsp;now)</code>
<div class="block">This method is used by the client lease renewal threads to make
 sure that the set associated with the lease they are renewing is 
 non-expired.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html" title="class in org.apache.river.norm">ClientLeaseWrapper</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#getClientLeaseWrapper-net.jini.core.lease.Lease-">getClientLeaseWrapper</a></span>(<a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a>&nbsp;clientLease)</code>
<div class="block">Return the wrapper for the specified client lease, or null if not
 found.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#getCookie--">getCookie</a></span>()</code>
<div class="block">Returns the universally unique identifier associated with this
 lease.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#getExpiration--">getExpiration</a></span>()</code>
<div class="block">Returns the expiration time of the lease.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../../net/jini/io/MarshalledInstance.html" title="class in net.jini.io">MarshalledInstance</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#getLeases--">getLeases</a></span>()</code>
<div class="block">Return an array of leases in marshalled form.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#getUuid--">getUuid</a></span>()</code>
<div class="block">Return the <code>Uuid</code> for this set.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>(package private) long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#getWarningTime--">getWarningTime</a></span>()</code>
<div class="block">Return the absolute time when a expiration warning should be sent.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#haveWarningRegistration--">haveWarningRegistration</a></span>()</code>
<div class="block">Return true if there is a non-<code>null</code> listener registered
 for the expiration warning event.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#isolateSets--">isolateSets</a></span>()</code>
<div class="block">Returns whether to isolate renewal sets or batch leases across sets for
 all lease renewal sets associated with this set's service.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#logRenewal-org.apache.river.norm.ClientLeaseWrapper-">logRenewal</a></span>(<a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html" title="class in org.apache.river.norm">ClientLeaseWrapper</a>&nbsp;clw)</code>
<div class="block">Log the renewal of a client lease.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>private <a href="../../../../org/apache/river/norm/SetProxy.html" title="class in org.apache.river.norm">SetProxy</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#newSetProxy--">newSetProxy</a></span>()</code>
<div class="block">Create a new SetProxy for this set that has a lease with the
 current expiration</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#readObject-java.io.ObjectInputStream-">readObject</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/io/ObjectInputStream.html?is-external=true" title="class or interface in java.io">ObjectInputStream</a>&nbsp;in)</code>
<div class="block">Override readObject so we can restore expiration2</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#remove-org.apache.river.norm.ClientLeaseWrapper-">remove</a></span>(<a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html" title="class in org.apache.river.norm">ClientLeaseWrapper</a>&nbsp;clw)</code>
<div class="block">Remove the specified wrapped client lease from the set.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#removeInternal-org.apache.river.norm.ClientLeaseWrapper-">removeInternal</a></span>(<a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html" title="class in org.apache.river.norm">ClientLeaseWrapper</a>&nbsp;clw)</code>
<div class="block">Utility method to remove a client lease.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#renewalFailure-org.apache.river.norm.ClientLeaseWrapper-">renewalFailure</a></span>(<a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html" title="class in org.apache.river.norm">ClientLeaseWrapper</a>&nbsp;clw)</code>
<div class="block">Handle failures to renew a lease by removing the lease from the set
 and if needed schedule sending an event.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#replace-org.apache.river.norm.ClientLeaseWrapper-">replace</a></span>(<a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html" title="class in org.apache.river.norm">ClientLeaseWrapper</a>&nbsp;clw)</code>
<div class="block">Utility method to replace a client lease in the lease set.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>(package private) <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#restoreTransientState-org.apache.river.norm.event.EventTypeGenerator-org.apache.river.norm.PersistentStore-org.apache.river.norm.NormServerBaseImpl-net.jini.security.ProxyPreparer-">restoreTransientState</a></span>(<a href="../../../../org/apache/river/norm/event/EventTypeGenerator.html" title="class in org.apache.river.norm.event">EventTypeGenerator</a>&nbsp;generator,
                     <a href="../../../../org/apache/river/norm/PersistentStore.html" title="class in org.apache.river.norm">PersistentStore</a>&nbsp;store,
                     <a href="../../../../org/apache/river/norm/NormServerBaseImpl.html" title="class in org.apache.river.norm">NormServerBaseImpl</a>&nbsp;normServerBaseImpl,
                     <a href="../../../../net/jini/security/ProxyPreparer.html" title="interface in net.jini.security">ProxyPreparer</a>&nbsp;recoveredListenerPreparer)</code>
<div class="block">Restore the transient state of the set that can't be restored 
 automatically after a log recovery.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#sendWarningEvent--">sendWarningEvent</a></span>()</code>
<div class="block">Send an expiration warning event for this set</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#setExpiration-long-">setExpiration</a></span>(long&nbsp;newExpiration)</code>
<div class="block">Changes the expiration time of the lease.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../net/jini/core/event/EventRegistration.html" title="class in net.jini.core.event">EventRegistration</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#setExpirationWarningListener-net.jini.core.event.RemoteEventListener-long-java.rmi.MarshalledObject-">setExpirationWarningListener</a></span>(<a href="../../../../net/jini/core/event/RemoteEventListener.html" title="interface in net.jini.core.event">RemoteEventListener</a>&nbsp;listener,
                            long&nbsp;minWarning,
                            <a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/MarshalledObject.html?is-external=true" title="class or interface in java.rmi">MarshalledObject</a>&nbsp;handback)</code>
<div class="block">Set/update/clear the expiration warning listener.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../../net/jini/core/event/EventRegistration.html" title="class in net.jini.core.event">EventRegistration</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#setRenewalFailureListener-net.jini.core.event.RemoteEventListener-java.rmi.MarshalledObject-">setRenewalFailureListener</a></span>(<a href="../../../../net/jini/core/event/RemoteEventListener.html" title="interface in net.jini.core.event">RemoteEventListener</a>&nbsp;listener,
                         <a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/MarshalledObject.html?is-external=true" title="class or interface in java.rmi">MarshalledObject</a>&nbsp;handback)</code>
<div class="block">Set/update/clear the renewal failure listener</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#toString--">toString</a></span>()</code>
<div class="block">Returns a string representation of this object.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/LeaseSet.html#update-org.apache.river.norm.ClientLeaseWrapper-">update</a></span>(<a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html" title="class in org.apache.river.norm">ClientLeaseWrapper</a>&nbsp;clw)</code>
<div class="block">Add or update the specified wrapped client lease to the set.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="serialVersionUID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serialVersionUID</h4>
<pre>private static final&nbsp;long serialVersionUID</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.river.norm.LeaseSet.serialVersionUID">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="expiration">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expiration</h4>
<pre>private&nbsp;long expiration</pre>
<div class="block">Expiration time of the set</div>
</li>
</ul>
<a name="expiration2">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expiration2</h4>
<pre>private transient&nbsp;<a href="../../../../org/apache/river/norm/LeaseSet.ExpirationTime.html" title="class in org.apache.river.norm">LeaseSet.ExpirationTime</a> expiration2</pre>
<div class="block">We keep two copies of the expiration time guarded by different 
 locks so the the client lease renewal threads don't have to wait
 on the set's lock.</div>
</li>
</ul>
<a name="ID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ID</h4>
<pre>private final&nbsp;<a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a> ID</pre>
<div class="block">ID that uniquely identifies this set</div>
</li>
</ul>
<a name="leases">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>leases</h4>
<pre>private final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html" title="class in org.apache.river.norm">ClientLeaseWrapper</a>&gt; leases</pre>
<div class="block">A collection of the client leases in this set (in wrapped form).</div>
</li>
</ul>
<a name="leaseTable">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>leaseTable</h4>
<pre>private transient&nbsp;<a href="../../../../org/apache/river/norm/LeaseTable.html" title="class in org.apache.river.norm">LeaseTable</a> leaseTable</pre>
<div class="block">A table that maps client leases to client lease wrappers.</div>
</li>
</ul>
<a name="minWarning">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>minWarning</h4>
<pre>private&nbsp;long minWarning</pre>
<div class="block">Time before <code>expiration</code> to send expiration warning events</div>
</li>
</ul>
<a name="warningEventType">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>warningEventType</h4>
<pre>private&nbsp;<a href="../../../../org/apache/river/norm/event/EventType.html" title="class in org.apache.river.norm.event">EventType</a> warningEventType</pre>
<div class="block">The event type for expiration warning events</div>
</li>
</ul>
<a name="warningSeqNum">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>warningSeqNum</h4>
<pre>private&nbsp;long warningSeqNum</pre>
<div class="block">The current sequence number for expiration warning events</div>
</li>
</ul>
<a name="failureEventType">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>failureEventType</h4>
<pre>private&nbsp;<a href="../../../../org/apache/river/norm/event/EventType.html" title="class in org.apache.river.norm.event">EventType</a> failureEventType</pre>
<div class="block">The event type for failure events</div>
</li>
</ul>
<a name="store">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>store</h4>
<pre>private transient&nbsp;<a href="../../../../org/apache/river/norm/PersistentStore.html" title="class in org.apache.river.norm">PersistentStore</a> store</pre>
<div class="block"><code>PersistentStore</code> that changes should be logged to.</div>
</li>
</ul>
<a name="normServerBaseImpl">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>normServerBaseImpl</h4>
<pre>private transient&nbsp;<a href="../../../../org/apache/river/norm/NormServerBaseImpl.html" title="class in org.apache.river.norm">NormServerBaseImpl</a> normServerBaseImpl</pre>
<div class="block">The <code>NormServerBaseImpl</code> are attached to</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="LeaseSet-net.jini.id.Uuid-org.apache.river.norm.event.EventTypeGenerator-org.apache.river.norm.PersistentStore-org.apache.river.norm.NormServerBaseImpl-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LeaseSet</h4>
<pre>LeaseSet(<a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a>&nbsp;ID,
         <a href="../../../../org/apache/river/norm/event/EventTypeGenerator.html" title="class in org.apache.river.norm.event">EventTypeGenerator</a>&nbsp;generator,
         <a href="../../../../org/apache/river/norm/PersistentStore.html" title="class in org.apache.river.norm">PersistentStore</a>&nbsp;store,
         <a href="../../../../org/apache/river/norm/NormServerBaseImpl.html" title="class in org.apache.river.norm">NormServerBaseImpl</a>&nbsp;normServerBaseImpl)</pre>
<div class="block">Simple constructor.  Note expiration will be set when we allocate
 a lease for this set.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ID</code> - for this set</dd>
<dd><code>generator</code> - object set can use to create new event type objects</dd>
<dd><code>store</code> - <code>PersistentStore<code> that changes should be logged
              to</dd>
<dd><code>normServerBaseImpl</code> - the <code>NormServerBaseImpl</code> that 
              created this set</dd>
</dl>
</li>
</ul>
<a name="LeaseSet-org.apache.river.api.io.AtomicSerial.GetArg-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LeaseSet</h4>
<pre>LeaseSet(<a href="../../../../org/apache/river/api/io/AtomicSerial.GetArg.html" title="class in org.apache.river.api.io">AtomicSerial.GetArg</a>&nbsp;arg)
  throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="LeaseSet-long-net.jini.id.Uuid-java.util.Set-long-org.apache.river.norm.event.EventType-long-org.apache.river.norm.event.EventType-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LeaseSet</h4>
<pre>LeaseSet(long&nbsp;expiration,
         <a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a>&nbsp;ID,
         <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;leases,
         long&nbsp;minWarning,
         <a href="../../../../org/apache/river/norm/event/EventType.html" title="class in org.apache.river.norm.event">EventType</a>&nbsp;warningEventType,
         long&nbsp;warningSeqNum,
         <a href="../../../../org/apache/river/norm/event/EventType.html" title="class in org.apache.river.norm.event">EventType</a>&nbsp;failureEventType)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="check-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>check</h4>
<pre>private static&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html" title="class in org.apache.river.norm">ClientLeaseWrapper</a>&gt;&nbsp;check(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html" title="class in org.apache.river.norm">ClientLeaseWrapper</a>&gt;&nbsp;leases)
                                      throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/InvalidObjectException.html?is-external=true" title="class or interface in java.io">InvalidObjectException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/InvalidObjectException.html?is-external=true" title="class or interface in java.io">InvalidObjectException</a></code></dd>
</dl>
</li>
</ul>
<a name="readObject-java.io.ObjectInputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readObject</h4>
<pre>private&nbsp;void&nbsp;readObject(<a href="http://docs.oracle.com/javase/8/docs/api/java/io/ObjectInputStream.html?is-external=true" title="class or interface in java.io">ObjectInputStream</a>&nbsp;in)
                 throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                        <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassNotFoundException.html?is-external=true" title="class or interface in java.lang">ClassNotFoundException</a></pre>
<div class="block">Override readObject so we can restore expiration2</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassNotFoundException.html?is-external=true" title="class or interface in java.lang">ClassNotFoundException</a></code></dd>
</dl>
</li>
</ul>
<a name="restoreTransientState-org.apache.river.norm.event.EventTypeGenerator-org.apache.river.norm.PersistentStore-org.apache.river.norm.NormServerBaseImpl-net.jini.security.ProxyPreparer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restoreTransientState</h4>
<pre><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&nbsp;restoreTransientState(<a href="../../../../org/apache/river/norm/event/EventTypeGenerator.html" title="class in org.apache.river.norm.event">EventTypeGenerator</a>&nbsp;generator,
                               <a href="../../../../org/apache/river/norm/PersistentStore.html" title="class in org.apache.river.norm">PersistentStore</a>&nbsp;store,
                               <a href="../../../../org/apache/river/norm/NormServerBaseImpl.html" title="class in org.apache.river.norm">NormServerBaseImpl</a>&nbsp;normServerBaseImpl,
                               <a href="../../../../net/jini/security/ProxyPreparer.html" title="interface in net.jini.security">ProxyPreparer</a>&nbsp;recoveredListenerPreparer)</pre>
<div class="block">Restore the transient state of the set that can't be restored 
 automatically after a log recovery.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>generator</code> - event type generator associated with this set's events</dd>
<dd><code>store</code> - <code>PersistentStore<code> that changes should be 
        logged to</dd>
<dd><code>normServerBaseImpl</code> - the <code>normServerBaseImpl</code> that 
        created this set</dd>
<dd><code>recoveredListenerPreparer</code> - the proxy preparer to use to prepare
              recovered listeners</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an iterator over the set of client leases</dd>
</dl>
</li>
</ul>
<a name="getClientLeaseWrapper-net.jini.core.lease.Lease-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClientLeaseWrapper</h4>
<pre><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html" title="class in org.apache.river.norm">ClientLeaseWrapper</a>&nbsp;getClientLeaseWrapper(<a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a>&nbsp;clientLease)</pre>
<div class="block">Return the wrapper for the specified client lease, or null if not
 found.</div>
</li>
</ul>
<a name="replace-org.apache.river.norm.ClientLeaseWrapper-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replace</h4>
<pre>private&nbsp;boolean&nbsp;replace(<a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html" title="class in org.apache.river.norm">ClientLeaseWrapper</a>&nbsp;clw)</pre>
<div class="block">Utility method to replace a client lease in the lease set.  Returns true
 if an equal lease was not already present.  Does not update the lease
 table.</div>
</li>
</ul>
<a name="update-org.apache.river.norm.ClientLeaseWrapper-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>update</h4>
<pre>void&nbsp;update(<a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html" title="class in org.apache.river.norm">ClientLeaseWrapper</a>&nbsp;clw)</pre>
<div class="block">Add or update the specified wrapped client lease to the set.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clw</code> - lease to be added or updated</dd>
</dl>
</li>
</ul>
<a name="addToLeaseTable-org.apache.river.norm.ClientLeaseWrapper-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addToLeaseTable</h4>
<pre>void&nbsp;addToLeaseTable(<a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html" title="class in org.apache.river.norm">ClientLeaseWrapper</a>&nbsp;clw)</pre>
<div class="block">Add a lease already in the lease set to the lease table.  Used during
 recovery to add the wrapper to the lease table only after it has been
 given its recovery proxy preparer and attempting to unpack the lease has
 attempted.</div>
</li>
</ul>
<a name="doesContainWrapper-org.apache.river.norm.ClientLeaseWrapper-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doesContainWrapper</h4>
<pre>boolean&nbsp;doesContainWrapper(<a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html" title="class in org.apache.river.norm">ClientLeaseWrapper</a>&nbsp;clw)</pre>
<div class="block">Return true if the passed wrapper is in the set</div>
</li>
</ul>
<a name="removeInternal-org.apache.river.norm.ClientLeaseWrapper-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeInternal</h4>
<pre>private&nbsp;boolean&nbsp;removeInternal(<a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html" title="class in org.apache.river.norm">ClientLeaseWrapper</a>&nbsp;clw)</pre>
<div class="block">Utility method to remove a client lease.  Returns true if the lease is
 removed.</div>
</li>
</ul>
<a name="remove-org.apache.river.norm.ClientLeaseWrapper-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>boolean&nbsp;remove(<a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html" title="class in org.apache.river.norm">ClientLeaseWrapper</a>&nbsp;clw)</pre>
<div class="block">Remove the specified wrapped client lease from the set.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clw</code> - lease to removed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>false if the lease has already been removed, or 
 if logically the lease is no longer in the set (e.g. its
 membership expiration has been reached)</dd>
</dl>
</li>
</ul>
<a name="destroy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre><a href="http://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&nbsp;destroy()</pre>
<div class="block">Destroy a lease set</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code>Set</code> with all of the sets WrappedClientLeases</dd>
</dl>
</li>
</ul>
<a name="getLeases--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLeases</h4>
<pre><a href="../../../../net/jini/io/MarshalledInstance.html" title="class in net.jini.io">MarshalledInstance</a>[]&nbsp;getLeases()</pre>
<div class="block">Return an array of leases in marshalled form.  For each lease we have
 in unmarshalled form serialize using the duration format, for each
 lease we can't unmarshal just use the MarshalledInstance we have on
 hand.  If the set is empty return null.</div>
</li>
</ul>
<a name="setExpirationWarningListener-net.jini.core.event.RemoteEventListener-long-java.rmi.MarshalledObject-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setExpirationWarningListener</h4>
<pre><a href="../../../../net/jini/core/event/EventRegistration.html" title="class in net.jini.core.event">EventRegistration</a>&nbsp;setExpirationWarningListener(<a href="../../../../net/jini/core/event/RemoteEventListener.html" title="interface in net.jini.core.event">RemoteEventListener</a>&nbsp;listener,
                                               long&nbsp;minWarning,
                                               <a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/MarshalledObject.html?is-external=true" title="class or interface in java.rmi">MarshalledObject</a>&nbsp;handback)
                                        throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Set/update/clear the expiration warning listener.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - the new listener</dd>
<dd><code>minWarning</code> - how long before the lease on the set expires should
        the event be sent</dd>
<dd><code>handback</code> - the new handback</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>if <code>listener</code> is non-<code>null</code> return
 an <code>EventRegistration</code> otherwise return <code>null</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if listener cannot be serialized</dd>
</dl>
</li>
</ul>
<a name="setRenewalFailureListener-net.jini.core.event.RemoteEventListener-java.rmi.MarshalledObject-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRenewalFailureListener</h4>
<pre><a href="../../../../net/jini/core/event/EventRegistration.html" title="class in net.jini.core.event">EventRegistration</a>&nbsp;setRenewalFailureListener(<a href="../../../../net/jini/core/event/RemoteEventListener.html" title="interface in net.jini.core.event">RemoteEventListener</a>&nbsp;listener,
                                            <a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/MarshalledObject.html?is-external=true" title="class or interface in java.rmi">MarshalledObject</a>&nbsp;handback)
                                     throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Set/update/clear the renewal failure listener</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - the new listener</dd>
<dd><code>handback</code> - the new handback</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>if <code>listener</code> is non-<code>null</code> return
 an <code>EventRegistration</code> otherwise return <code>null</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if listener can not be serialized</dd>
</dl>
</li>
</ul>
<a name="renewalFailure-org.apache.river.norm.ClientLeaseWrapper-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>renewalFailure</h4>
<pre>void&nbsp;renewalFailure(<a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html" title="class in org.apache.river.norm">ClientLeaseWrapper</a>&nbsp;clw)</pre>
<div class="block">Handle failures to renew a lease by removing the lease from the set
 and if needed schedule sending an event.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clw</code> - the wrapped client lease for the lease that could not
            be removed</dd>
</dl>
</li>
</ul>
<a name="sendWarningEvent--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendWarningEvent</h4>
<pre>void&nbsp;sendWarningEvent()</pre>
<div class="block">Send an expiration warning event for this set</div>
</li>
</ul>
<a name="newSetProxy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newSetProxy</h4>
<pre>private&nbsp;<a href="../../../../org/apache/river/norm/SetProxy.html" title="class in org.apache.river.norm">SetProxy</a>&nbsp;newSetProxy()</pre>
<div class="block">Create a new SetProxy for this set that has a lease with the
 current expiration</div>
</li>
</ul>
<a name="haveWarningRegistration--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>haveWarningRegistration</h4>
<pre>boolean&nbsp;haveWarningRegistration()</pre>
<div class="block">Return true if there is a non-<code>null</code> listener registered
 for the expiration warning event.
 <p>
 Note, this method assumes the current thread owns the set's lock</div>
</li>
</ul>
<a name="getWarningTime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWarningTime</h4>
<pre>long&nbsp;getWarningTime()</pre>
<div class="block">Return the absolute time when a expiration warning should be sent.</div>
</li>
</ul>
<a name="logRenewal-org.apache.river.norm.ClientLeaseWrapper-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logRenewal</h4>
<pre>void&nbsp;logRenewal(<a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html" title="class in org.apache.river.norm">ClientLeaseWrapper</a>&nbsp;clw)</pre>
<div class="block">Log the renewal of a client lease.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clw</code> - the wrapper for the client lease that was renewed</dd>
</dl>
</li>
</ul>
<a name="setExpiration-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setExpiration</h4>
<pre>public&nbsp;void&nbsp;setExpiration(long&nbsp;newExpiration)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/apache/river/landlord/LeasedResource.html#setExpiration-long-">LeasedResource</a></code></span></div>
<div class="block">Changes the expiration time of the lease.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/river/landlord/LeasedResource.html#setExpiration-long-">setExpiration</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/river/landlord/LeasedResource.html" title="interface in org.apache.river.landlord">LeasedResource</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newExpiration</code> - The new expiration time in milliseconds
                      since the beginning of the epoch</dd>
</dl>
</li>
</ul>
<a name="getExpiration--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExpiration</h4>
<pre>public&nbsp;long&nbsp;getExpiration()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/apache/river/landlord/LeasedResource.html#getExpiration--">LeasedResource</a></code></span></div>
<div class="block">Returns the expiration time of the lease.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/river/landlord/LeasedResource.html#getExpiration--">getExpiration</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/river/landlord/LeasedResource.html" title="interface in org.apache.river.landlord">LeasedResource</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The expiration time in milliseconds since the beginning 
         of the epoch</dd>
</dl>
</li>
</ul>
<a name="ensureCurrent-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ensureCurrent</h4>
<pre>boolean&nbsp;ensureCurrent(long&nbsp;now)</pre>
<div class="block">This method is used by the client lease renewal threads to make
 sure that the set associated with the lease they are renewing is 
 non-expired.  Note, the method check expiration2, not expiration
 so the renewal thread does not need to block on the set's lock.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>now</code> - the current time in milliseconds since the beginning of 
            the epoch</dd>
</dl>
</li>
</ul>
<a name="getCookie--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCookie</h4>
<pre>public&nbsp;<a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a>&nbsp;getCookie()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/apache/river/landlord/LeasedResource.html#getCookie--">LeasedResource</a></code></span></div>
<div class="block">Returns the universally unique identifier associated with this
 lease. Any proxies for this lease that implement <a href="../../../../net/jini/id/ReferentUuid.html" title="interface in net.jini.id"><code>ReferentUuid</code></a> 
 should return this object from their
 <a href="../../../../net/jini/id/ReferentUuid.html#getReferentUuid--"><code>getReferentUuid</code></a>
 method and should base their implementation of <code>equals</code> on
 this object.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/river/landlord/LeasedResource.html#getCookie--">getCookie</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/river/landlord/LeasedResource.html" title="interface in org.apache.river.landlord">LeasedResource</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Uuid associated with lease.</dd>
</dl>
</li>
</ul>
<a name="getUuid--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUuid</h4>
<pre><a href="../../../../net/jini/id/Uuid.html" title="class in net.jini.id">Uuid</a>&nbsp;getUuid()</pre>
<div class="block">Return the <code>Uuid</code> for this set.</div>
</li>
</ul>
<a name="definiteException-org.apache.river.norm.event.EventType-net.jini.core.event.RemoteEvent-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>definiteException</h4>
<pre>void&nbsp;definiteException(<a href="../../../../org/apache/river/norm/event/EventType.html" title="class in org.apache.river.norm.event">EventType</a>&nbsp;type,
                       <a href="../../../../net/jini/core/event/RemoteEvent.html" title="class in net.jini.core.event">RemoteEvent</a>&nbsp;ev,
                       long&nbsp;registrationNumber)</pre>
<div class="block">If the passed registrationNumber number matches the 
 current registrationNumber for the passed event 
 clear the current registration and persist the change</div>
</li>
</ul>
<a name="isolateSets--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isolateSets</h4>
<pre>protected&nbsp;boolean&nbsp;isolateSets()</pre>
<div class="block">Returns whether to isolate renewal sets or batch leases across sets for
 all lease renewal sets associated with this set's service.</div>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<div class="block">Returns a string representation of this object.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LeaseSet.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/river/norm/LeaseExpirationMgr.SendWarning.html" title="class in org.apache.river.norm"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/river/norm/LeaseSet.ChangeSetExpiration.html" title="class in org.apache.river.norm"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/river/norm/LeaseSet.html" target="_top">Frames</a></li>
<li><a href="LeaseSet.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright 2007-2013, multiple authors.<br>Licensed under the <a href=http://www.apache.org/licenses/LICENSE-2.0 target=child >Apache License, Version 2.0</a>, see the <a href=../../../../doc-files/NOTICE target=child >NOTICE</a> file for attributions.</small></p>
</body>
</html>
