<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_60) on Mon Mar 28 17:11:46 AEST 2016 -->
<title>ClientLeaseWrapper (River-Internet vtrunk API Documentation (internals))</title>
<meta name="date" content="2016-03-28">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ClientLeaseWrapper (River-Internet vtrunk API Documentation (internals))";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":9,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ClientLeaseWrapper.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/river/norm/ClientLeaseMapWrapper.EntrySet.html" title="class in org.apache.river.norm"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.FailureFactory.html" title="class in org.apache.river.norm"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/river/norm/ClientLeaseWrapper.html" target="_top">Frames</a></li>
<li><a href="ClientLeaseWrapper.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.river.norm</div>
<h2 title="Class ClientLeaseWrapper" class="title">Class ClientLeaseWrapper</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.river.norm.ClientLeaseWrapper</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</a>, <a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a></dd>
</dl>
<hr>
<br>
<pre>class <span class="typeNameLabel">ClientLeaseWrapper</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</a></pre>
<div class="block">Class that wraps client Leases.  Provides hooks for synchronization 
 and data associated with each client lease while allowing us to 
 use <code>LeaseRenewalManager</code>.
 <p>
 This code assumes most synchronization is being done at the set level,
 this works because no lease is in more than one set at a given time.
 The only place where additional synchronization is going on is in
 renewals and the logging of renewals.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Sun Microsystems, Inc.</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.FailureFactory.html" title="class in org.apache.river.norm">ClientLeaseWrapper.FailureFactory</a></span></code>
<div class="block">Nested top-level implementation of <code>EventFactory</code> that
 generates  <code>RenewalFailureEvent</code> events</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#clientLease">clientLease</a></span></code>
<div class="block">Transient copy of unpacked lease, <code>null</code> if we could not
 unpack or prepare the lease.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#clientLeaseExpiration">clientLeaseExpiration</a></span></code>
<div class="block">Most current expiration time of client Lease that we know of</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#lastFailure">lastFailure</a></span></code>
<div class="block">Throwable thrown by the last renew attempt on the client lease.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Method.html?is-external=true" title="class or interface in java.lang.reflect">Method</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#leaseToLeaseMethods">leaseToLeaseMethods</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Logger.html?is-external=true" title="class or interface in java.util.logging">Logger</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#logger">logger</a></span></code>
<div class="block">Logger for logging messages for this class</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../net/jini/io/MarshalledInstance.html" title="class in net.jini.io">MarshalledInstance</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#marshalledClientLease">marshalledClientLease</a></span></code>
<div class="block">Client lease in marshalled form.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#membershipExpiration">membershipExpiration</a></span></code>
<div class="block">Membership expiration of this lease</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../../net/jini/security/ProxyPreparer.html" title="interface in net.jini.security">ProxyPreparer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#recoveredLeasePreparer">recoveredLeasePreparer</a></span></code>
<div class="block">The proxy preparer to use to prepare a newly unmarshalled client lease,
 or null if this instance was created using an already prepared client
 lease, which is how instances are created initially.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#renewalPending">renewalPending</a></span></code>
<div class="block">Flag used to check if lease has been persisted since last
 renewal, <code>true</code> means it has not been</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#renewDuration">renewDuration</a></span></code>
<div class="block">renewDuration of this lease</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#renewedList">renewedList</a></span></code>
<div class="block">Reference to list of leases that have been renewed, but not
 persisted</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#serialVersionUID">serialVersionUID</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../org/apache/river/norm/LeaseSet.html" title="class in org.apache.river.norm">LeaseSet</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#set">set</a></span></code>
<div class="block">The LeaseSet we belong to</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#UID">UID</a></span></code>
<div class="block">Sequence number that uniquely identifies this wrapper</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.net.jini.core.lease.Lease">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;net.jini.core.lease.<a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a></h3>
<code><a href="../../../../net/jini/core/lease/Lease.html#ABSOLUTE">ABSOLUTE</a>, <a href="../../../../net/jini/core/lease/Lease.html#ANY">ANY</a>, <a href="../../../../net/jini/core/lease/Lease.html#DURATION">DURATION</a>, <a href="../../../../net/jini/core/lease/Lease.html#FOREVER">FOREVER</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#ClientLeaseWrapper-org.apache.river.api.io.AtomicSerial.GetArg-">ClientLeaseWrapper</a></span>(<a href="../../../../org/apache/river/api/io/AtomicSerial.GetArg.html" title="class in org.apache.river.api.io">AtomicSerial.GetArg</a>&nbsp;arg)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#ClientLeaseWrapper-net.jini.core.lease.Lease-long-java.util.List-org.apache.river.norm.LeaseSet-long-long-long-">ClientLeaseWrapper</a></span>(<a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a>&nbsp;clientLease,
                  long&nbsp;UID,
                  <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&nbsp;renewedList,
                  <a href="../../../../org/apache/river/norm/LeaseSet.html" title="class in org.apache.river.norm">LeaseSet</a>&nbsp;leaseSet,
                  long&nbsp;membershipDuration,
                  long&nbsp;renewDuration,
                  long&nbsp;now)</code>
<div class="block">Simple constructor</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#ClientLeaseWrapper-java.lang.Throwable-net.jini.io.MarshalledInstance-long-long-long-long-">ClientLeaseWrapper</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;lastFailure,
                  <a href="../../../../net/jini/io/MarshalledInstance.html" title="class in net.jini.io">MarshalledInstance</a>&nbsp;marshalledClientLease,
                  long&nbsp;clientLeaseExpiration,
                  long&nbsp;UID,
                  long&nbsp;membershipExpiration,
                  long&nbsp;renewDuration)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#calcMembershipExpiration-long-long-">calcMembershipExpiration</a></span>(long&nbsp;membershipDuration,
                        long&nbsp;now)</code>
<div class="block">Given the current time and a membershipDuration set membershipExpiration
 the correct value.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#canBatch-net.jini.core.lease.Lease-">canBatch</a></span>(<a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a>&nbsp;lease)</code>
<div class="block">Another lease can be batched with this one if it is a
 ClientLeaseMapWrapper, if it is either a member of the same lease
 renewal set or sets are not isolated, if neither lease is deformed, if
 the leases either both have the same client constraints or do not
 implement RemoteMethodControl, and if the underlying client leases can
 be batched.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#cancel--">cancel</a></span>()</code>
<div class="block">Always throws <code>UnsupportedOperationException</code> since
 a lease renewal service should never cancel a client lease.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#changed--">changed</a></span>()</code>
<div class="block">Called when a renewal thread changes the persistent state of the 
 this wrapper.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#clearRenewed--">clearRenewed</a></span>()</code>
<div class="block">Atomically clear the renewalPending flag.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/jini/core/lease/LeaseMap.html" title="interface in net.jini.core.lease">LeaseMap</a>&lt;<a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#createLeaseMap-long-">createLeaseMap</a></span>(long&nbsp;duration)</code>
<div class="block">Creates a Map object that can contain leases whose renewal or
 cancellation can be batched, and adds the current lease to that map.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#ensureCurrent-long-">ensureCurrent</a></span>(long&nbsp;now)</code>
<div class="block">Called by ClientLeaseMapWrapper to see if the set associated with
 this wrapper is still valid.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#equals-java.lang.Object-">equals</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;that)</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#failedRenewal-java.lang.Throwable-">failedRenewal</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t)</code>
<div class="block">Sets lastFailure and adds the this to the renewed list so it 
 so the change can be logged.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#getClientLease--">getClientLease</a></span>()</code>
<div class="block">Get a reference to the client lease, unmarshalling and preparing it if
 necessary.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#getExpiration--">getExpiration</a></span>()</code>
<div class="block">Returns a <code>long</code> that indicates the time that the
 lease will expire.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>(package private) <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#getLastFailure--">getLastFailure</a></span>()</code>
<div class="block">Return the exception (if any) that occured at the last renewal attempt</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../org/apache/river/norm/LeaseSet.html" title="class in org.apache.river.norm">LeaseSet</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#getLeaseSet--">getLeaseSet</a></span>()</code>
<div class="block">The <code>LeaseSet</code> this lease is in</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../../net/jini/io/MarshalledInstance.html" title="class in net.jini.io">MarshalledInstance</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#getMarshalledClientLease--">getMarshalledClientLease</a></span>()</code>
<div class="block">Return the client lease in marshalled form.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>(package private) long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#getMembershipExpiration--">getMembershipExpiration</a></span>()</code>
<div class="block">Return the membershipExpiration of this lease</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>(package private) long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#getRenewDuration--">getRenewDuration</a></span>()</code>
<div class="block">Return the renewDuration of this lease</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#getSerialFormat--">getSerialFormat</a></span>()</code>
<div class="block">Always throws <code>UnsupportedOperationException</code>.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#hashCode--">hashCode</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#isDeformed--">isDeformed</a></span>()</code>
<div class="block">Return true if the underlying client lease has not yet been deserialized</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../../org/apache/river/norm/event/EventFactory.html" title="interface in org.apache.river.norm.event">EventFactory</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#newFailureFactory-net.jini.lease.LeaseRenewalSet-">newFailureFactory</a></span>(<a href="../../../../net/jini/lease/LeaseRenewalSet.html" title="interface in net.jini.lease">LeaseRenewalSet</a>&nbsp;source)</code>
<div class="block">Return an <code>EventFactory</code> that will create an
 appropriate <code>RenewalFailureEvent</code> for the client
 lease associated with this wrapper.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#recoverTransient-java.util.List-org.apache.river.norm.UIDGenerator-org.apache.river.norm.LeaseSet-net.jini.security.ProxyPreparer-">recoverTransient</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&nbsp;renewedList,
                <a href="../../../../org/apache/river/norm/UIDGenerator.html" title="class in org.apache.river.norm">UIDGenerator</a>&nbsp;generator,
                <a href="../../../../org/apache/river/norm/LeaseSet.html" title="class in org.apache.river.norm">LeaseSet</a>&nbsp;leaseSet,
                <a href="../../../../net/jini/security/ProxyPreparer.html" title="interface in net.jini.security">ProxyPreparer</a>&nbsp;recoveredLeasePreparer)</code>
<div class="block">After recovering a lease wrapper call this method before using
 any other of the wrappers methods and before allocating any new
 wrappers can not recover itself.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#renew-long-">renew</a></span>(long&nbsp;duration)</code>
<div class="block">Used to renew a lease for an additional period of time, specified in
 milliseconds.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>private static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#sameConstraints-net.jini.core.lease.Lease-net.jini.core.lease.Lease-">sameConstraints</a></span>(<a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a>&nbsp;l1,
               <a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a>&nbsp;l2)</code>
<div class="block">Returns true if the two leases both implement RemoteMethodControl and
 have the same constraints for Lease methods, or both don't implement
 RemoteMethodControl, else returns false.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#setSerialFormat-int-">setSerialFormat</a></span>(int&nbsp;format)</code>
<div class="block">Always throws <code>UnsupportedOperationException</code>.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#successfulRenewal--">successfulRenewal</a></span>()</code>
<div class="block">Log a successful lease renewalNote this is only called from
 from renew methods that are renewing the client lease associated
 with this wrapper so additional synchronization should not be
 necessary.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#testAndSetRenewalPending--">testAndSetRenewalPending</a></span>()</code>
<div class="block">Atomically test and set the renewalPending flag.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.html#update-long-long-long-">update</a></span>(long&nbsp;membershipDuration,
      long&nbsp;renewDuration,
      long&nbsp;now)</code>
<div class="block">Update the membership expiration and renewDuration of this lease</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="serialVersionUID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serialVersionUID</h4>
<pre>private static final&nbsp;long serialVersionUID</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.river.norm.ClientLeaseWrapper.serialVersionUID">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="logger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logger</h4>
<pre>private static final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Logger.html?is-external=true" title="class or interface in java.util.logging">Logger</a> logger</pre>
<div class="block">Logger for logging messages for this class</div>
</li>
</ul>
<a name="leaseToLeaseMethods">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>leaseToLeaseMethods</h4>
<pre>private static final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Method.html?is-external=true" title="class or interface in java.lang.reflect">Method</a>[] leaseToLeaseMethods</pre>
</li>
</ul>
<a name="lastFailure">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastFailure</h4>
<pre>private&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a> lastFailure</pre>
<div class="block">Throwable thrown by the last renew attempt on the client lease.
 <code>null</code> if the renew has not been called yet or
 the last renewal call succeeded.</div>
</li>
</ul>
<a name="marshalledClientLease">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>marshalledClientLease</h4>
<pre>private&nbsp;<a href="../../../../net/jini/io/MarshalledInstance.html" title="class in net.jini.io">MarshalledInstance</a> marshalledClientLease</pre>
<div class="block">Client lease in marshalled form.</div>
</li>
</ul>
<a name="clientLeaseExpiration">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clientLeaseExpiration</h4>
<pre>private&nbsp;long clientLeaseExpiration</pre>
<div class="block">Most current expiration time of client Lease that we know of</div>
</li>
</ul>
<a name="UID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>UID</h4>
<pre>private final&nbsp;long UID</pre>
<div class="block">Sequence number that uniquely identifies this wrapper</div>
</li>
</ul>
<a name="membershipExpiration">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>membershipExpiration</h4>
<pre>private&nbsp;long membershipExpiration</pre>
<div class="block">Membership expiration of this lease</div>
</li>
</ul>
<a name="renewDuration">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>renewDuration</h4>
<pre>private&nbsp;long renewDuration</pre>
<div class="block">renewDuration of this lease</div>
</li>
</ul>
<a name="set">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>set</h4>
<pre>private transient&nbsp;<a href="../../../../org/apache/river/norm/LeaseSet.html" title="class in org.apache.river.norm">LeaseSet</a> set</pre>
<div class="block">The LeaseSet we belong to</div>
</li>
</ul>
<a name="clientLease">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clientLease</h4>
<pre>private transient&nbsp;<a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a> clientLease</pre>
<div class="block">Transient copy of unpacked lease, <code>null</code> if we could not
 unpack or prepare the lease.</div>
</li>
</ul>
<a name="recoveredLeasePreparer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recoveredLeasePreparer</h4>
<pre>private transient&nbsp;<a href="../../../../net/jini/security/ProxyPreparer.html" title="interface in net.jini.security">ProxyPreparer</a> recoveredLeasePreparer</pre>
<div class="block">The proxy preparer to use to prepare a newly unmarshalled client lease,
 or null if this instance was created using an already prepared client
 lease, which is how instances are created initially.</div>
</li>
</ul>
<a name="renewalPending">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>renewalPending</h4>
<pre>private transient&nbsp;boolean renewalPending</pre>
<div class="block">Flag used to check if lease has been persisted since last
 renewal, <code>true</code> means it has not been</div>
</li>
</ul>
<a name="renewedList">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>renewedList</h4>
<pre>private transient&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a> renewedList</pre>
<div class="block">Reference to list of leases that have been renewed, but not
 persisted</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ClientLeaseWrapper-net.jini.core.lease.Lease-long-java.util.List-org.apache.river.norm.LeaseSet-long-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ClientLeaseWrapper</h4>
<pre>ClientLeaseWrapper(<a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a>&nbsp;clientLease,
                   long&nbsp;UID,
                   <a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&nbsp;renewedList,
                   <a href="../../../../org/apache/river/norm/LeaseSet.html" title="class in org.apache.river.norm">LeaseSet</a>&nbsp;leaseSet,
                   long&nbsp;membershipDuration,
                   long&nbsp;renewDuration,
                   long&nbsp;now)
            throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Simple constructor</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clientLease</code> - lease from client that is to be renewed</dd>
<dd><code>UID</code> - ID number for this wrapper unique for all wrappers in a given
                  server</dd>
<dd><code>renewedList</code> - list that wrapper should go on after renewing their
                          client lease is renewed</dd>
<dd><code>leaseSet</code> - the <code>LeaseSet</code> this lease is in</dd>
<dd><code>membershipDuration</code> - initial membership duration for this lease</dd>
<dd><code>renewDuration</code> - initial membership expiration for the lease</dd>
<dd><code>now</code> - the current time</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="ClientLeaseWrapper-org.apache.river.api.io.AtomicSerial.GetArg-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ClientLeaseWrapper</h4>
<pre>ClientLeaseWrapper(<a href="../../../../org/apache/river/api/io/AtomicSerial.GetArg.html" title="class in org.apache.river.api.io">AtomicSerial.GetArg</a>&nbsp;arg)
            throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="ClientLeaseWrapper-java.lang.Throwable-net.jini.io.MarshalledInstance-long-long-long-long-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ClientLeaseWrapper</h4>
<pre>ClientLeaseWrapper(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;lastFailure,
                   <a href="../../../../net/jini/io/MarshalledInstance.html" title="class in net.jini.io">MarshalledInstance</a>&nbsp;marshalledClientLease,
                   long&nbsp;clientLeaseExpiration,
                   long&nbsp;UID,
                   long&nbsp;membershipExpiration,
                   long&nbsp;renewDuration)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="calcMembershipExpiration-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calcMembershipExpiration</h4>
<pre>private static&nbsp;long&nbsp;calcMembershipExpiration(long&nbsp;membershipDuration,
                                             long&nbsp;now)</pre>
<div class="block">Given the current time and a membershipDuration set membershipExpiration
 the correct value.</div>
</li>
</ul>
<a name="update-long-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>update</h4>
<pre>void&nbsp;update(long&nbsp;membershipDuration,
            long&nbsp;renewDuration,
            long&nbsp;now)</pre>
<div class="block">Update the membership expiration and renewDuration of this lease</div>
</li>
</ul>
<a name="getMembershipExpiration--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMembershipExpiration</h4>
<pre>long&nbsp;getMembershipExpiration()</pre>
<div class="block">Return the membershipExpiration of this lease</div>
</li>
</ul>
<a name="getRenewDuration--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRenewDuration</h4>
<pre>long&nbsp;getRenewDuration()</pre>
<div class="block">Return the renewDuration of this lease</div>
</li>
</ul>
<a name="clearRenewed--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearRenewed</h4>
<pre>void&nbsp;clearRenewed()</pre>
<div class="block">Atomically clear the renewalPending flag.</div>
</li>
</ul>
<a name="getClientLease--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClientLease</h4>
<pre><a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a>&nbsp;getClientLease()</pre>
<div class="block">Get a reference to the client lease, unmarshalling and preparing it if
 necessary.  If it can't be unpacked or prepared, return null.</div>
</li>
</ul>
<a name="getMarshalledClientLease--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMarshalledClientLease</h4>
<pre><a href="../../../../net/jini/io/MarshalledInstance.html" title="class in net.jini.io">MarshalledInstance</a>&nbsp;getMarshalledClientLease()</pre>
<div class="block">Return the client lease in marshalled form.  If possible
 marshal using the Lease.DURATION serialization format.
 <p>
 Assumes that no one else will be serializing the lease 
 during this call.</div>
</li>
</ul>
<a name="equals-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>equals</h4>
<pre>public&nbsp;boolean&nbsp;equals(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;that)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
<a name="hashCode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashCode</h4>
<pre>public&nbsp;int&nbsp;hashCode()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
<a name="getExpiration--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExpiration</h4>
<pre>public&nbsp;long&nbsp;getExpiration()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../net/jini/core/lease/Lease.html#getExpiration--">Lease</a></code></span></div>
<div class="block">Returns a <code>long</code> that indicates the time that the
 lease will expire. This time is represented as
 milliseconds from the beginning of the epoch, relative to the local
 clock.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../net/jini/core/lease/Lease.html#getExpiration--">getExpiration</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code>long</code> that indicates the time that the
         lease will expire</dd>
</dl>
</li>
</ul>
<a name="cancel--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancel</h4>
<pre>public&nbsp;void&nbsp;cancel()</pre>
<div class="block">Always throws <code>UnsupportedOperationException</code> since
 a lease renewal service should never cancel a client lease.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../net/jini/core/lease/Lease.html#cancel--">cancel</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a></code></dd>
</dl>
</li>
</ul>
<a name="getLastFailure--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastFailure</h4>
<pre><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;getLastFailure()</pre>
<div class="block">Return the exception (if any) that occured at the last renewal attempt</div>
</li>
</ul>
<a name="testAndSetRenewalPending--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>testAndSetRenewalPending</h4>
<pre>private&nbsp;boolean&nbsp;testAndSetRenewalPending()</pre>
<div class="block">Atomically test and set the renewalPending flag.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the state of the renewalPending flag before it was set</dd>
</dl>
</li>
</ul>
<a name="changed--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changed</h4>
<pre>private&nbsp;void&nbsp;changed()</pre>
<div class="block">Called when a renewal thread changes the persistent state of the 
 this wrapper.  If necessary places this object on the queue of 
 wrappers to be persisted.</div>
</li>
</ul>
<a name="ensureCurrent-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ensureCurrent</h4>
<pre>boolean&nbsp;ensureCurrent(long&nbsp;now)</pre>
<div class="block">Called by ClientLeaseMapWrapper to see if the set associated with
 this wrapper is still valid. Returns true if it still is</div>
</li>
</ul>
<a name="failedRenewal-java.lang.Throwable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>failedRenewal</h4>
<pre>void&nbsp;failedRenewal(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&nbsp;t)</pre>
<div class="block">Sets lastFailure and adds the this to the renewed list so it 
 so the change can be logged. Note this is only called from
 from renew methods that are renewing the client lease associated
 with this wrapper so additional synchronization should not be
 necessary.</div>
</li>
</ul>
<a name="successfulRenewal--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>successfulRenewal</h4>
<pre>void&nbsp;successfulRenewal()</pre>
<div class="block">Log a successful lease renewalNote this is only called from
 from renew methods that are renewing the client lease associated
 with this wrapper so additional synchronization should not be
 necessary.</div>
</li>
</ul>
<a name="renew-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>renew</h4>
<pre>public&nbsp;void&nbsp;renew(long&nbsp;duration)
           throws <a href="../../../../net/jini/core/lease/LeaseDeniedException.html" title="class in net.jini.core.lease">LeaseDeniedException</a>,
                  <a href="../../../../net/jini/core/lease/UnknownLeaseException.html" title="class in net.jini.core.lease">UnknownLeaseException</a>,
                  <a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/RemoteException.html?is-external=true" title="class or interface in java.rmi">RemoteException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../net/jini/core/lease/Lease.html#renew-long-">Lease</a></code></span></div>
<div class="block">Used to renew a lease for an additional period of time, specified in
 milliseconds.  This duration is not added to the original lease, but
 is used to determine a new expiration time for the existing lease.
 If the renewal is granted this is reflected in value returned by
 getExpiration.  If the renewal fails, the lease is left intact for
 the same duration that was in force prior to the call to renew.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../net/jini/core/lease/Lease.html#renew-long-">renew</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>duration</code> - the requested duration in milliseconds</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../net/jini/core/lease/LeaseDeniedException.html" title="class in net.jini.core.lease">LeaseDeniedException</a></code> - the lease grantor is unable or
         unwilling to renew the lease</dd>
<dd><code><a href="../../../../net/jini/core/lease/UnknownLeaseException.html" title="class in net.jini.core.lease">UnknownLeaseException</a></code> - the lease being renewed is unknown
         to the lease grantor</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/RemoteException.html?is-external=true" title="class or interface in java.rmi">RemoteException</a></code> - if a connection problem occurs.</dd>
</dl>
</li>
</ul>
<a name="setSerialFormat-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSerialFormat</h4>
<pre>public&nbsp;void&nbsp;setSerialFormat(int&nbsp;format)</pre>
<div class="block">Always throws <code>UnsupportedOperationException</code>.  The
 <code>LeaseRenewalManager</code> should never call this method and 
 norm always serializes the wrapper with absolute times.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../net/jini/core/lease/Lease.html#setSerialFormat-int-">setSerialFormat</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>format</code> - DURATION or ABSOLUTE</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../net/jini/core/lease/Lease.html#getSerialFormat--"><code>Lease.getSerialFormat()</code></a></dd>
</dl>
</li>
</ul>
<a name="getSerialFormat--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSerialFormat</h4>
<pre>public&nbsp;int&nbsp;getSerialFormat()</pre>
<div class="block">Always throws <code>UnsupportedOperationException</code>.  The
 <code>LeaseRenewalManager</code> should never call this method and 
 norm always serializes the wrapper with absolute times.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../net/jini/core/lease/Lease.html#getSerialFormat--">getSerialFormat</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an <tt>int</tt> representing the serial format value</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../net/jini/core/lease/Lease.html#setSerialFormat-int-"><code>Lease.setSerialFormat(int)</code></a></dd>
</dl>
</li>
</ul>
<a name="createLeaseMap-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createLeaseMap</h4>
<pre>public&nbsp;<a href="../../../../net/jini/core/lease/LeaseMap.html" title="interface in net.jini.core.lease">LeaseMap</a>&lt;<a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a>,<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;createLeaseMap(long&nbsp;duration)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../net/jini/core/lease/Lease.html#createLeaseMap-long-">Lease</a></code></span></div>
<div class="block">Creates a Map object that can contain leases whose renewal or
 cancellation can be batched, and adds the current lease to that map.
 The current lease is put in the map with the duration value given
 by the parameter.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../net/jini/core/lease/Lease.html#createLeaseMap-long-">createLeaseMap</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>duration</code> - the duration to put into a Long and use as the
 value for the current lease in the created LeaseMap</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the created <tt>LeaseMap</tt> object</dd>
</dl>
</li>
</ul>
<a name="canBatch-net.jini.core.lease.Lease-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canBatch</h4>
<pre>public&nbsp;boolean&nbsp;canBatch(<a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a>&nbsp;lease)</pre>
<div class="block">Another lease can be batched with this one if it is a
 ClientLeaseMapWrapper, if it is either a member of the same lease
 renewal set or sets are not isolated, if neither lease is deformed, if
 the leases either both have the same client constraints or do not
 implement RemoteMethodControl, and if the underlying client leases can
 be batched.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../net/jini/core/lease/Lease.html#canBatch-net.jini.core.lease.Lease-">canBatch</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lease</code> - the <tt>Lease</tt> to be evaluated</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a boolean indicating whether or not the lease given as a
         parameter can be batched (placed in the same LeaseMap) with 
         the current lease</dd>
</dl>
</li>
</ul>
<a name="sameConstraints-net.jini.core.lease.Lease-net.jini.core.lease.Lease-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sameConstraints</h4>
<pre>private static&nbsp;boolean&nbsp;sameConstraints(<a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a>&nbsp;l1,
                                       <a href="../../../../net/jini/core/lease/Lease.html" title="interface in net.jini.core.lease">Lease</a>&nbsp;l2)</pre>
<div class="block">Returns true if the two leases both implement RemoteMethodControl and
 have the same constraints for Lease methods, or both don't implement
 RemoteMethodControl, else returns false.</div>
</li>
</ul>
<a name="recoverTransient-java.util.List-org.apache.river.norm.UIDGenerator-org.apache.river.norm.LeaseSet-net.jini.security.ProxyPreparer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recoverTransient</h4>
<pre>void&nbsp;recoverTransient(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&nbsp;renewedList,
                      <a href="../../../../org/apache/river/norm/UIDGenerator.html" title="class in org.apache.river.norm">UIDGenerator</a>&nbsp;generator,
                      <a href="../../../../org/apache/river/norm/LeaseSet.html" title="class in org.apache.river.norm">LeaseSet</a>&nbsp;leaseSet,
                      <a href="../../../../net/jini/security/ProxyPreparer.html" title="interface in net.jini.security">ProxyPreparer</a>&nbsp;recoveredLeasePreparer)</pre>
<div class="block">After recovering a lease wrapper call this method before using
 any other of the wrappers methods and before allocating any new
 wrappers can not recover itself.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>renewedList</code> - List that wrapper should go on after renewing their
              client lease is renewed</dd>
<dd><code>generator</code> - ID generator being used to generate IDs client lease
              wrappers</dd>
<dd><code>leaseSet</code> - the set this wrapper is associated with</dd>
<dd><code>recoveredLeasePreparer</code> - the proxy preparer to use to prepare
              client leases recovered from persistent storage</dd>
</dl>
</li>
</ul>
<a name="isDeformed--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDeformed</h4>
<pre>boolean&nbsp;isDeformed()</pre>
<div class="block">Return true if the underlying client lease has not yet been deserialized</div>
</li>
</ul>
<a name="getLeaseSet--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLeaseSet</h4>
<pre><a href="../../../../org/apache/river/norm/LeaseSet.html" title="class in org.apache.river.norm">LeaseSet</a>&nbsp;getLeaseSet()</pre>
<div class="block">The <code>LeaseSet</code> this lease is in</div>
</li>
</ul>
<a name="newFailureFactory-net.jini.lease.LeaseRenewalSet-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>newFailureFactory</h4>
<pre><a href="../../../../org/apache/river/norm/event/EventFactory.html" title="interface in org.apache.river.norm.event">EventFactory</a>&nbsp;newFailureFactory(<a href="../../../../net/jini/lease/LeaseRenewalSet.html" title="interface in net.jini.lease">LeaseRenewalSet</a>&nbsp;source)
                        throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Return an <code>EventFactory</code> that will create an
 appropriate <code>RenewalFailureEvent</code> for the client
 lease associated with this wrapper.  This method assumes
 that no one else will be setting the serialization format
 of the lease during the course of the call.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>source</code> - Source object for the event</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the client lease could not be pre
 marshalled.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ClientLeaseWrapper.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/river/norm/ClientLeaseMapWrapper.EntrySet.html" title="class in org.apache.river.norm"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/river/norm/ClientLeaseWrapper.FailureFactory.html" title="class in org.apache.river.norm"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/river/norm/ClientLeaseWrapper.html" target="_top">Frames</a></li>
<li><a href="ClientLeaseWrapper.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright 2007-2013, multiple authors.<br>Licensed under the <a href=http://www.apache.org/licenses/LICENSE-2.0 target=child >Apache License, Version 2.0</a>, see the <a href=../../../../doc-files/NOTICE target=child >NOTICE</a> file for attributions.</small></p>
</body>
</html>
