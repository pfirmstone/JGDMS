<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_60) on Mon Mar 28 17:11:19 AEST 2016 -->
<title>JoinManager.ProxyReg.DiscLeaseListener (River-Internet vtrunk API Documentation (internals))</title>
<meta name="date" content="2016-03-28">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="JoinManager.ProxyReg.DiscLeaseListener (River-Internet vtrunk API Documentation (internals))";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/JoinManager.ProxyReg.DiscLeaseListener.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../net/jini/lookup/JoinManager.ProxyReg.html" title="class in net.jini.lookup"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../net/jini/lookup/JoinManager.ProxyRegTask.html" title="class in net.jini.lookup"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?net/jini/lookup/JoinManager.ProxyReg.DiscLeaseListener.html" target="_top">Frames</a></li>
<li><a href="JoinManager.ProxyReg.DiscLeaseListener.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.jini.lookup</div>
<h2 title="Class JoinManager.ProxyReg.DiscLeaseListener" class="title">Class JoinManager.ProxyReg.DiscLeaseListener</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>net.jini.lookup.JoinManager.ProxyReg.DiscLeaseListener</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/8/docs/api/java/util/EventListener.html?is-external=true" title="class or interface in java.util">EventListener</a>, <a href="../../../net/jini/lease/LeaseListener.html" title="interface in net.jini.lease">LeaseListener</a></dd>
</dl>
<dl>
<dt>Enclosing class:</dt>
<dd><a href="../../../net/jini/lookup/JoinManager.ProxyReg.html" title="class in net.jini.lookup">JoinManager.ProxyReg</a></dd>
</dl>
<hr>
<br>
<pre>private class <span class="typeNameLabel">JoinManager.ProxyReg.DiscLeaseListener</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../net/jini/lease/LeaseListener.html" title="interface in net.jini.lease">LeaseListener</a></pre>
<div class="block">Class that is registered as a listener with this join manager's
  lease renewal manager. That lease renewal manager manages the
  lease granted to this join manager's associated service by the
  lookup service referenced in the proxy object associated with
  this class (<code>ProxyReg</code>).

  If the lease expires in the lookup service before the lease 
  renewal manager requests renewal of the lease, then upon sending
  that renewal request, the lease renewal manager will receive an
  <code>UnknownLeaseException</code> from the lookup service.
  As a result, the lease renewal manager removes the expired lease
  so that no further renewal attempts are made for that lease, 
  and then sends to this listener a <code>LeaseRenewalEvent</code>,
  containing an <code>UnknownLeaseException</code>.

  Alternatively, suppose that at the time the lease renewal manager
  is about to request the renewal of the lease, the lease renewal
  manager determines that the expiration time of the lease has
  actually passed. In this case, since there is no reason to
  send the renewal request, the lease renewal manager instead
  removes the expired lease (again, so that no further renewal
  attempts are made for that lease), and then sends a
  <code>LeaseRenewalEvent</code> to this listener to indicate
  that the lease has expired. The difference between this case,
  and the case described previously is that in this case the
  <code>LeaseRenewalEvent</code> contains no exception (that is,
  <code>LeaseRenewalEvent.getException</code> returns 
  <code>null</code>).

  Both situations described above indicate that the lease
  referenced by the event received by this listener has expired.
  Thus, the normal course of action should be to attempt to
  re-register the service with the lookup service that originally
  granted the lease that has expired.

  Prior to re-registering the service, the joinSet is examined to
  determine if it contains a ProxyReg object that is equivalent to
  the ProxyReg object referencing the current instance of this
  listener class. That is, using <code>equals</code>, it is
  determined whether the joinSet contains either ProxyReg.this,
  or a new instance of ProxyReg that is equal to ProxyReg.this.
  If the joinSet does not contain such a ProxyReg, then the lookup
  service must have been discarded and not yet re-discovered; in
  which case, there is no need to attempt to re-register with that
  lookup service, since it is unavailable.

  If it is determined that the joinSet does contain either
  ProxyReg.this or a new ProxyReg equivalent to ProxyReg.this,
  then re-registration should be attempted, but only if the lease
  associated with the ProxyReg in the joinSet is equal to the
  expired lease referenced in the event received by this listener.
  Equality of those leases is an indication that the lease on the
  service's current registration has expired; thus, an attempt to
  re-register the service should be made.

  If the lease associated with the ProxyReg from the joinSet
  does not equal the expired lease from the event, then
  re-registration should not be attempted. This is because
  the inequality of the leases is an indication that the lease
  renewal event received by this listener was the result of an
  <code>UnknownLeaseException</code> that occurs when the
  ProxyReg in the joinSet is a new ProxyReg, different from
  ProxyReg.this, and the lease renewal manager requests the
  renewal of the (now invalid) lease associated with that old
  ProxyReg.this; not the valid lease associated with the new
  ProxyReg.

  A scenario such as that just described can occur when the
  lookup service is discarded, rediscovered, and the service is
  re-registered, resulting in a new ProxyReg (with new lease)
  being placed in the joinSet, replacing the previous ProxyReg
  (ProxyReg.this). But before the old, expired lease is removed
  from the lease renewal manager, an attempt to renew the old
  lease is made. Such an attempt can occur because the lease
  renewal manager may be in the process of requesting the renewal
  of that lease (or may have queued such a request) just prior to,
  or at the same time as, when the lease removal request is made
  during discard processing. When the request is made to renew
  the expired lease, an <code>UnknownLeaseException</code> occurs
  and a lease renewal event is sent to this listener.

  If, upon receiving an event such as that just described, the
  service were to be re-registered, the current valid service
  registration would be replaced, a new lease would be granted,
  and the corresponding ProxyReg currently contained in the joinSet
  would be replaced with a new ProxyReg. Additionally, the now
  invalid lease corresponding to the ProxyReg that was just
  replaced would remain in the lease renewal manager. This means
  that an attempt to renew that lease will eventually be made and
  will fail, and the cycle just described will repeat indefinitely.

  Thus, for the reasons stated above, re-registration is attempted
  only if the lease associated with the ProxyReg contained in the
  joinSet is equal to the expired lease referenced in the lease
  renewal event received by this listener.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/jini/lookup/JoinManager.ProxyReg.DiscLeaseListener.html#DiscLeaseListener--">DiscLeaseListener</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/jini/lookup/JoinManager.ProxyReg.DiscLeaseListener.html#notify-net.jini.lease.LeaseRenewalEvent-">notify</a></span>(<a href="../../../net/jini/lease/LeaseRenewalEvent.html" title="class in net.jini.lease">LeaseRenewalEvent</a>&nbsp;e)</code>
<div class="block">Called by the <code>LeaseRenewalManager</code> when it cannot
 renew a lease that it is managing, and the lease's desired
 expiration time has not yet been reached.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DiscLeaseListener--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DiscLeaseListener</h4>
<pre>private&nbsp;DiscLeaseListener()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="notify-net.jini.lease.LeaseRenewalEvent-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>notify</h4>
<pre>public&nbsp;void&nbsp;notify(<a href="../../../net/jini/lease/LeaseRenewalEvent.html" title="class in net.jini.lease">LeaseRenewalEvent</a>&nbsp;e)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../net/jini/lease/LeaseListener.html#notify-net.jini.lease.LeaseRenewalEvent-">LeaseListener</a></code></span></div>
<div class="block">Called by the <code>LeaseRenewalManager</code> when it cannot
 renew a lease that it is managing, and the lease's desired
 expiration time has not yet been reached.
 <p>
 Note that, prior to invoking this method, the
 <code>LeaseRenewalManager</code> removes the affected lease from
 the managed set of leases. Note also that, because of the
 reentrancy guarantee made by the
 <code>LeaseRenewalManager</code>, new leases can be safely added
 by this method.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../net/jini/lease/LeaseListener.html#notify-net.jini.lease.LeaseRenewalEvent-">notify</a></code>&nbsp;in interface&nbsp;<code><a href="../../../net/jini/lease/LeaseListener.html" title="interface in net.jini.lease">LeaseListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>e</code> - instance of <code>LeaseRenewalEvent</code> containing
                information about the lease that the
                <code>LeaseRenewalManager</code> was unable to renew, as
                well as information about the condition that made the
                <code>LeaseRenewalManager</code> fail to renew the lease</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/JoinManager.ProxyReg.DiscLeaseListener.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../net/jini/lookup/JoinManager.ProxyReg.html" title="class in net.jini.lookup"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../net/jini/lookup/JoinManager.ProxyRegTask.html" title="class in net.jini.lookup"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?net/jini/lookup/JoinManager.ProxyReg.DiscLeaseListener.html" target="_top">Frames</a></li>
<li><a href="JoinManager.ProxyReg.DiscLeaseListener.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright 2007-2013, multiple authors.<br>Licensed under the <a href=http://www.apache.org/licenses/LICENSE-2.0 target=child >Apache License, Version 2.0</a>, see the <a href=../../../doc-files/NOTICE target=child >NOTICE</a> file for attributions.</small></p>
</body>
</html>
