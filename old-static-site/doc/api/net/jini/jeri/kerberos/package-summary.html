<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_60) on Mon Mar 28 17:57:42 AEST 2016 -->
<title>net.jini.jeri.kerberos (River-Internet vtrunk API Documentation)</title>
<meta name="date" content="2016-03-28">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="net.jini.jeri.kerberos (River-Internet vtrunk API Documentation)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/jini/jeri/http/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../net/jini/jeri/ssl/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/jini/jeri/kerberos/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;net.jini.jeri.kerberos</h1>
<div class="docSummary">
<div class="block">Provides implementations of <a href="../../../../net/jini/jeri/Endpoint.html" title="interface in net.jini.jeri"><code>Endpoint</code></a> and <a href="../../../../net/jini/jeri/ServerEndpoint.html" title="interface in net.jini.jeri"><code>ServerEndpoint</code></a> that use Kerberos as the underlying
network security protocol to support security related invocation
constraints for remote requests.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/jini/jeri/kerberos/KerberosEndpoint.html" title="class in net.jini.jeri.kerberos">KerberosEndpoint</a></td>
<td class="colLast">
<div class="block">An <a href="../../../../net/jini/jeri/Endpoint.html" title="interface in net.jini.jeri"><code>Endpoint</code></a> implementation that uses Kerberos as the
 underlying network security protocol to support security related
 invocation constraints its caller specified for the corresponding
 remote request.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../net/jini/jeri/kerberos/KerberosServerEndpoint.html" title="class in net.jini.jeri.kerberos">KerberosServerEndpoint</a></td>
<td class="colLast">
<div class="block">A <a href="../../../../net/jini/jeri/ServerEndpoint.html" title="interface in net.jini.jeri"><code>ServerEndpoint</code></a> implementation that uses Kerberos as the
 underlying network security protocol to support security related
 invocation constraints for remote requests.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/jini/jeri/kerberos/KerberosTrustVerifier.html" title="class in net.jini.jeri.kerberos">KerberosTrustVerifier</a></td>
<td class="colLast">
<div class="block">Trust verifier for verifying the Jini extensible remote
 invocation (Jini ERI) endpoints of type <a href="../../../../net/jini/jeri/kerberos/KerberosEndpoint.html" title="class in net.jini.jeri.kerberos"><code>KerberosEndpoint</code></a>,
 and principals of type <a href="http://docs.oracle.com/javase/8/docs/api/javax/security/auth/kerberos/KerberosPrincipal.html?is-external=true" title="class or interface in javax.security.auth.kerberos"><code>KerberosPrincipal</code></a>.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package net.jini.jeri.kerberos Description">Package net.jini.jeri.kerberos Description</h2>
<div class="block">Provides implementations of <a href="../../../../net/jini/jeri/Endpoint.html" title="interface in net.jini.jeri"><code>Endpoint</code></a> and <a href="../../../../net/jini/jeri/ServerEndpoint.html" title="interface in net.jini.jeri"><code>ServerEndpoint</code></a> that use Kerberos as the underlying
network security protocol to support security related invocation
constraints for remote requests.  The <code>ServerEndpoint</code>
abstraction is implemented by the <a href="../../../../net/jini/jeri/kerberos/KerberosServerEndpoint.html" title="class in net.jini.jeri.kerberos"><code>KerberosServerEndpoint</code></a>, while the client side
<code>Endpoint</code> abstraction is implemented by the <a href="../../../../net/jini/jeri/kerberos/KerberosEndpoint.html" title="class in net.jini.jeri.kerberos"><code>KerberosEndpoint</code></a>. <p>

The package also includes the <a href="../../../../net/jini/jeri/kerberos/KerberosTrustVerifier.html" title="class in net.jini.jeri.kerberos"><code>KerberosTrustVerifier</code></a> for establishing trust
in remote proxies that use instances of the
<code>KerberosEndpoint</code>, as well as principals of type <a href="http://docs.oracle.com/javase/8/docs/api/javax/security/auth/kerberos/KerberosPrincipal.html?is-external=true" title="class or interface in javax.security.auth.kerberos"><code>KerberosPrincipal</code></a>. <p>

This class uses the <a
href="../connection/doc-files/mux.html">Jini extensible remote
invocation (Jini ERI) multiplexing protocol</a> to map outgoing
requests to the underlying secure connection streams. <p>

The secure connection streams in this provider are implemented using
the Kerberos Version 5 GSS-API Mechanism, defined in <a
href="http://www.ietf.org/rfc/rfc1964.txt">RFC 1964</a>, over socket
connections between client and server endpoints. <p>

Note that, because Kerberos inherently requires client authentication,
this transport provider does not support distributed garbage collection
(DGC); if DGC is enabled using <a href="../../../../net/jini/jeri/BasicJeriExporter.html" title="class in net.jini.jeri"><code>BasicJeriExporter</code></a>,
all DGC remote calls through this provider will silently fail.

<a name="supported_constraints"><h2>Supported Constraints</h2></a>

The endpoint classes in this package support at least the following
standard constraints: <p>

<ul>
<li><a href="../../../../net/jini/core/constraint/Integrity.html#YES"><code>Integrity.YES</code></a>
<li><a href="../../../../net/jini/core/constraint/Confidentiality.html" title="class in net.jini.core.constraint"><code>Confidentiality</code></a>
<li><a href="../../../../net/jini/core/constraint/ClientAuthentication.html#YES"><code>ClientAuthentication.YES</code></a>
<li><a href="../../../../net/jini/core/constraint/ConnectionAbsoluteTime.html" title="class in net.jini.core.constraint"><code>ConnectionAbsoluteTime</code></a>
<li><a href="../../../../net/jini/core/constraint/ConnectionRelativeTime.html" title="class in net.jini.core.constraint"><code>ConnectionRelativeTime</code></a>, trivially
    on the server side, since this only takes effect on the client side
<li><a href="../../../../net/jini/core/constraint/ServerAuthentication.html#YES"><code>ServerAuthentication.YES</code></a>
<li><a href="../../../../net/jini/core/constraint/ClientMaxPrincipal.html" title="class in net.jini.core.constraint"><code>ClientMaxPrincipal</code></a>, when it
    contains at least one <code>KerberosPrincipal</code>
<li><a href="../../../../net/jini/core/constraint/ClientMaxPrincipalType.html" title="class in net.jini.core.constraint"><code>ClientMaxPrincipalType</code></a>, when
    it contains the <code>KerberosPrincipal</code> class
<li><a href="../../../../net/jini/core/constraint/ClientMinPrincipal.html" title="class in net.jini.core.constraint"><code>ClientMinPrincipal</code></a>, when it
    contains exactly one <code>KerberosPrincipal</code>
<li><a href="../../../../net/jini/core/constraint/ClientMinPrincipalType.html" title="class in net.jini.core.constraint"><code>ClientMinPrincipalType</code></a>, when
    it contains only the <code>KerberosPrincipal</code> class
<li><a href="../../../../net/jini/core/constraint/ServerMinPrincipal.html" title="class in net.jini.core.constraint"><code>ServerMinPrincipal</code></a>, when it
    contains exactly one <code>KerberosPrincipal</code>
<li><a href="../../../../net/jini/core/constraint/Delegation.html" title="class in net.jini.core.constraint"><code>Delegation</code></a>
<li><a href="../../../../net/jini/core/constraint/ConstraintAlternatives.html" title="class in net.jini.core.constraint"><code>ConstraintAlternatives</code></a>, if the
    elements all have the same actual class and at least one
    element is supported
</ul> <p></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>2.0</dd>
<dt><span class="simpleTagLabel">Implementation Specifics:</span></dt>
<dd><!-- Implementation Specifics -->

Classes in this package use the <a
href="http://www.ietf.org/rfc/rfc2853.txt">Java(TM) GSS-API</a> to
provide the underlying Kerberos network authentication protocol
support. The Kerberos network authentication protocol is defined in <a
href="http://www.ietf.org/rfc/rfc1510.txt">RFC 1510</a>. The GSS-API
is defined in a language independent way in <a
href="http://www.ietf.org/rfc/rfc2743.txt">RFC 2743</a>.  The Java
programming language bindings for GSS-API using Kerberos are defined
in <a href="http://www.ietf.org/rfc/rfc2853.txt">RFC 2853</a>. The
Java 2 Platform Standard Edition (J2SE(TM)) contains support for
GSS-API Kerberos Java bindings via the <a href="http://docs.oracle.com/javase/8/docs/api/org/ietf/jgss/package-summary.html?is-external=true"><code>org.ietf.jgss</code></a>
package. An <a
href="http://java.sun.com/j2se/1.4/docs/guide/security/jgss/tutorials/index.html">Introduction
to JAAS and Java GSS-API Tutorial</a> is also available. <p>

A <a
href="http://java.sun.com/j2se/1.4/docs/guide/security/jaas/spec/com/sun/security/auth/module/Krb5LoginModule.html">Kerberos login module</a> can be
used to populate a <code>Subject</code> with <a href="http://docs.oracle.com/javase/8/docs/api/javax/security/auth/kerberos/KerberosPrincipal.html?is-external=true" title="class or interface in javax.security.auth.kerberos"><code>KerberosPrincipal</code></a>s and credentials
(<a href="http://docs.oracle.com/javase/8/docs/api/javax/security/auth/kerberos/KerberosTicket.html?is-external=true" title="class or interface in javax.security.auth.kerberos"><code>KerberosTicket</code></a>s or <a href="http://docs.oracle.com/javase/8/docs/api/javax/security/auth/kerberos/KerberosKey.html?is-external=true" title="class or interface in javax.security.auth.kerberos"><code>KerberosKey</code></a>s).  Note that by default the
login module only stores a Ticket Granting Tickets (TGT), not the
Kerberos key of the principal in the subject after a successful login.
A <code>KerberosServerEndpoint</code> instance requires the Kerberos
key of its server principal to be present in the subject, while a
<code>KerberosEndpoint</code> instance only needs the TGT.  For this
reason <code>storeKey=true</code> has to be set as an option in the
login module configuration on the server side.<p>

This provider does not automatically renew any TGTs in the
<code>Subject</code> used by a <code>KerberosEndpoint</code>. The
assumption is that the endpoint should merely be a consumer of the
principals and credentials of the <code>Subject</code>, and never
change its content. But if new TGTs are added into the
<code>Subject</code> or old TGTs in the <code>Subject</code> are
renewed by means outside this provider, the endpoint will pick up and
use these new TGTs for new requests after the old ones expire. <p>

Due to security concerns, this implementation sometimes only throws an
exception revealing the specific cause of a problem if the caller is
granted <a href="http://docs.oracle.com/javase/8/docs/api/javax/security/auth/AuthPermission.html?is-external=true" title="class or interface in javax.security.auth"><code>AuthPermission</code></a><code>("getSubject")</code>,
otherwise it throws a generic exception that enumerates possible
causes.

<p>
<a name="Logging"><font size="+1"><b>Logging</b></font></a>
<p>

The endpoint classes use the following <a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Logger.html?is-external=true" title="class or interface in java.util.logging"><code>Logger</code></a> instances to log information at the
following levels: <p>

<table border="1" cellpadding="5" summary="Describes logging to the
    client logger performed by endpoint classes in this package at
    different logging levels">

    <caption halign="center" valign="top"><b><code>
        net.jini.jeri.kerberos.client</code></b></caption>

    <tr> <th scope="col"> Level <th scope="col"> Description

    <tr> <td> <a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Level.html?is-external=true#WARNING" title="class or interface in java.util.logging"><code>WARNING</code></a>
         <td> failure to register with discovery provider
    <tr> <td> <a href="../../../../org/apache/river/logging/Levels.html#FAILED"><code>FAILED</code></a>
         <td> problem to support constraint requirements, connect to
              server through socket, establish <a href="http://docs.oracle.com/javase/8/docs/api/org/ietf/jgss/GSSContext.html?is-external=true" title="class or interface in org.ietf.jgss"><code>GSSContext</code></a> to server over established
              connections, or wrap/unwrap GSS tokens
    <tr> <td> <a href="../../../../org/apache/river/logging/Levels.html#HANDLED"><code>HANDLED</code></a>
         <td> exceptions caught attempting to set TCP no delay or keep
              alive properties on sockets, connect a socket, or reuse
              a connection
    <tr> <td> <a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Level.html?is-external=true#FINE" title="class or interface in java.util.logging"><code>FINE</code></a>
         <td> endpoint creation, <a href="../../../../net/jini/jeri/Endpoint.html#newRequest-net.jini.core.constraint.InvocationConstraints-"><code>newRequest</code></a>
              invocation, request handle creation, connection
              configuration decesions, socket creation, connection
              open/close, connection reuse decesions,
              <code>GSSContext</code> establishment
    <tr> <td> <a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Level.html?is-external=true#FINEST" title="class or interface in java.util.logging"><code>FINEST</code></a>
         <td> data message encoding/decoding using
              <code>GSSContext</code>
</table> <p>

<table border="1" cellpadding="5" summary="Describes logging to the
    server logger performed by endpoint classes in this package at
    different logging levels">

    <caption halign="center" valign="top"><b><code>
        net.jini.jeri.kerberos.server</code></b></caption>

    <tr> <th scope="col"> Level <th scope="col"> Description
    <tr> <td> <a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Level.html?is-external=true#WARNING" title="class or interface in java.util.logging"><code>WARNING</code></a>
         <td> unexpected failure while accepting connections on the created
              <code>ServerSocket</code>.

    <tr> <td> <a href="../../../../org/apache/river/logging/Levels.html#FAILED"><code>FAILED</code></a>

         <td> problems with permission checking, server principal and
              Kerberos key presence checking, <a href="http://docs.oracle.com/javase/8/docs/api/org/ietf/jgss/GSSCredential.html?is-external=true" title="class or interface in org.ietf.jgss"><code>GSSCredential</code></a> creation, socket connect
              exception, <code>GSSContext</code> establishment,
              credential expiration, or wrap/unwrap GSS tokens
    <tr> <td> <a href="../../../../org/apache/river/logging/Levels.html#HANDLED"><code>HANDLED</code></a>
         <td> failure to set TCP no delay or keep alive properties on
              sockets
    <tr> <td> <a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Level.html?is-external=true#FINE" title="class or interface in java.util.logging"><code>FINE</code></a>
         <td> server endpoint creation, <a href="../../../../net/jini/jeri/ServerCapabilities.html#checkConstraints-net.jini.core.constraint.InvocationConstraints-"><code>checkConstraints</code></a> results, server socket creation,
              socket connect acceptance, server connection
              creation/destruction, <code>GSSContext</code>
              establishment
    <tr> <td> <a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Level.html?is-external=true#FINEST" title="class or interface in java.util.logging"><code>FINEST</code></a>
         <td> data message encoding/decoding using
              <code>GSSContext</code>
</table> <p>

<p>
<a name="Configuration"><font size="+1"><b>Configuration</b></font></a>
<p>

<b>KDC and realm configuration:</b> <p>

As described in the <a href="http://docs.oracle.com/javase/8/docs/api/javax/security/auth/kerberos/package-summary.html?is-external=true"><code>javax.security.auth.kerberos</code></a> package, a
user can provide the default realm and default Key Distribution Center
(KDC) host using the system properties
<code>java.security.krb5.realm</code> and
<code>java.security.krb5.kdc</code>.  Alternatively, he/she can
provide an MIT style configuration file:
<code>&lt;java-home&gt;/lib/security/krb5.conf</code>, where
<code>&lt;java-home&gt;</code> is the directory where J2SE is
installed.  If the file is placed elsewhere, the system property
<code>java.security.krb5.conf</code> can be used to specify its
location.  A more detailed description of the searching scheme for
<code>krb5.conf</code> can be found at <a
href="http://java.sun.com/j2se/1.4/docs/guide/security/jgss/tutorials/KerberosReq.html">here</a>.<p>

<b>System properties supported by this provider</b> <p>

The client endpoints of this provider recognize the following system
property: <p>

<ul>
<li>org.apache.river.jeri.kerberos.KerberosEndpoint.minGssContextLifetime -
    Minimum number of seconds of remaining lifetime a <a href="http://docs.oracle.com/javase/8/docs/api/org/ietf/jgss/GSSContext.html?is-external=true" title="class or interface in org.ietf.jgss"><code>GSSContext</code></a> of an existing connection has to have
    before it can be considered as a candidate connection to be chosen
    for a new request. The default is 30.
<li>org.apache.river.jeri.kerberos.KerberosEndpoint.maxGssContextRetries -
    RFC 1510 specifies that if a KDC or server receives two
    authenticators with the same client and server pair and timestamps
    of the same microsecond, the second will be considered a replay
    and will be rejected.  This means if multiple session ticket
    requests of the same client and server principal pair and
    microsecond timestamps are received at a KDC, only the first one
    will succeed, and the rest will be considered replays and will be
    rejected by the KDC.  For this reason, the Kerberos provider
    catches the "replay" exception and retries the corresponding
    <code>GSSContext</code> initialization handshake.  This system
    property controls the maximum number of retries a
    <code>KerberosEndpoint</code> will conduct.  The default is 3.
</ul> <p></dd>
</dl>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/jini/jeri/http/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../net/jini/jeri/ssl/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/jini/jeri/kerberos/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright 2007-2013, multiple authors.<br>Licensed under the <a href=http://www.apache.org/licenses/LICENSE-2.0 target=child >Apache License, Version 2.0</a>, see the <a href=../../../../doc-files/NOTICE target=child >NOTICE</a> file for attributions.</small></p>
</body>
</html>
