<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_60) on Mon Mar 28 17:57:42 AEST 2016 -->
<title>net.jini.jeri.http (River-Internet vtrunk API Documentation)</title>
<meta name="date" content="2016-03-28">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="net.jini.jeri.http (River-Internet vtrunk API Documentation)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/jini/jeri/connection/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../net/jini/jeri/kerberos/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/jini/jeri/http/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;net.jini.jeri.http</h1>
<div class="docSummary">
<div class="block">Provides implementations of the <a href="../../../../net/jini/jeri/Endpoint.html" title="interface in net.jini.jeri"><code>Endpoint</code></a> and
<a href="../../../../net/jini/jeri/ServerEndpoint.html" title="interface in net.jini.jeri"><code>ServerEndpoint</code></a> abstractions that use HTTP
messages sent over TCP sockets as the underlying communication
mechanism.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/jini/jeri/http/HttpEndpoint.html" title="class in net.jini.jeri.http">HttpEndpoint</a></td>
<td class="colLast">
<div class="block">An implementation of the <a href="../../../../net/jini/jeri/Endpoint.html" title="interface in net.jini.jeri"><code>Endpoint</code></a> abstraction that uses HTTP
 messages sent over TCP sockets (instances of <a href="http://docs.oracle.com/javase/8/docs/api/java/net/Socket.html?is-external=true" title="class or interface in java.net"><code>Socket</code></a>) for the
 underlying communication mechanism.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../net/jini/jeri/http/HttpServerEndpoint.html" title="class in net.jini.jeri.http">HttpServerEndpoint</a></td>
<td class="colLast">
<div class="block">An implementation of the <a href="../../../../net/jini/jeri/ServerEndpoint.html" title="interface in net.jini.jeri"><code>ServerEndpoint</code></a> abstraction that
 uses HTTP messages sent over TCP sockets (instances of <a href="http://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true" title="class or interface in java.net"><code>ServerSocket</code></a>) for the underlying communication mechanism.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package net.jini.jeri.http Description">Package net.jini.jeri.http Description</h2>
<div class="block">Provides implementations of the <a href="../../../../net/jini/jeri/Endpoint.html" title="interface in net.jini.jeri"><code>Endpoint</code></a> and
<a href="../../../../net/jini/jeri/ServerEndpoint.html" title="interface in net.jini.jeri"><code>ServerEndpoint</code></a> abstractions that use HTTP
messages sent over TCP sockets as the underlying communication
mechanism.  <a href="../../../../net/jini/jeri/http/HttpEndpoint.html" title="class in net.jini.jeri.http"><code>HttpEndpoint</code></a> instances can be
used by clients to initiate calls over HTTP; each instance contains
the host name and TCP port number to which to connect, as well as an
optional <a href="http://docs.oracle.com/javase/8/docs/api/javax/net/SocketFactory.html?is-external=true" title="class or interface in javax.net"><code>SocketFactory</code></a> for customizing the type of
<a href="http://docs.oracle.com/javase/8/docs/api/java/net/Socket.html?is-external=true" title="class or interface in java.net"><code>Socket</code></a> to use.  <a href="../../../../net/jini/jeri/http/HttpServerEndpoint.html" title="class in net.jini.jeri.http"><code>HttpServerEndpoint</code></a> instances are used to listen
for and receive incoming calls over HTTP; each instance contains the
name of the listening host and the number of the TCP port on which to
listen, as well as an optional <a href="http://docs.oracle.com/javase/8/docs/api/javax/net/ServerSocketFactory.html?is-external=true" title="class or interface in javax.net"><code>ServerSocketFactory</code></a>
for customizing the type of <a href="http://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html?is-external=true" title="class or interface in java.net"><code>ServerSocket</code></a> to use. <p>

Note that providing socket factories which produce SSL sockets does
not result in endpoints which are fully HTTPS capable.  HTTPS support
is offered by the <a href="../../../../net/jini/jeri/ssl/package-summary.html"><code>net.jini.jeri.ssl</code></a> security provider.

<h2>HTTP mapping</h2>

<code>HttpEndpoint</code> and <code>HttpServerEndpoint</code> map 
<a href="../../../../net/jini/jeri/OutboundRequest.html" title="interface in net.jini.jeri"><code>OutboundRequest</code></a> and 
<a href="../../../../net/jini/jeri/InboundRequest.html" title="interface in net.jini.jeri"><code>InboundRequest</code></a> instances to HTTP
request/response messages: request data is transmitted as the
<code>entity-body</code> of an HTTP POST request, while response data is
transmitted as the <code>entity-body</code> of the corresponding HTTP response
message.  When possible, HTTP 1.1 persistent connections and chunked transfer
coding are employed.  For information on HTTP, refer to 
<a href="http://www.ietf.org/rfc/rfc2616.txt">RFC 2616</a>.

<h2>HTTP proxying</h2>

To determine whether or not requests should be sent through an HTTP proxy,
<code>HttpEndpoint</code> consults the same set of system properties used by
<a href="http://docs.oracle.com/javase/8/docs/api/java/net/HttpURLConnection.html?is-external=true" title="class or interface in java.net"><code>HttpURLConnection</code></a>:
<ul>
  <li><code>http.proxyHost</code>: if specified, the value of this property is
  interpreted as the host name of the HTTP proxy to use.  If
  <code>http.proxyHost</code> is not specified, then the <code>proxyHost</code>
  system property is consulted as a fallback; if it is not specified either,
  then HTTP proxying is disabled (i.e., all HTTP messages are sent directly to
  the target host of the given <code>HttpEndpoint</code>).<p>

  <li><code>http.proxyPort</code>: if <code>http.proxyHost</code> or
  <code>proxyHost</code> is set, then the (integer) value of
  <code>http.proxyPort</code> system property is used as the port number on
  which to connect to the HTTP proxy; if unspecified, then the
  <code>proxyPort</code> property is consulted as a fallback.  If neither
  <code>http.proxyPort</code> nor <code>proxyPort</code> is specified (but
  <code>http.proxyHost</code> or <code>proxyHost</code> is), then the HTTP
  proxy port number defaults to 80.<p>

  <li><code>http.nonProxyHosts</code>: if specified, the value of this property
  is interpreted as a list of host name patterns, each delimited by the '|'
  character.  Individual host name patterns may be literal host
  names/addresses, or partial host names/addresses containing the '*' character
  as a wildcard.  The '*' wildcard matches arbitrary (including zero-length)
  spans of characters.  If <code>http.nonProxyHosts</code> is specified and the
  name of the target host for a given outbound message matches at least one of
  the patterns, then messages to that host will not be sent through the HTTP
  proxy.<p>
</ul>
The values of the system properties above are resampled for each new outbound
HTTP message.

<h2>HTTP authentication</h2>

<code>HttpEndpoint</code> supports both basic and digest HTTP authentication
methods, specified in <a href="http://www.ietf.org/rfc/rfc2617.txt">RFC
2617</a>.  Like <code>HttpURLConnection</code>, it obtains authentication
parameters (e.g., username, password) from the <a href="http://docs.oracle.com/javase/8/docs/api/java/net/Authenticator.html?is-external=true" title="class or interface in java.net"><code>Authenticator</code></a>
class.

<h2>Constraint support</h2>

<code>HttpEndpoint</code> and <code>HttpServerEndpoint</code> support
the transport layer aspects of at least the following constraints:

<ul>
<li>any <a href="../../../../net/jini/core/constraint/ConnectionAbsoluteTime.html" title="class in net.jini.core.constraint"><code>ConnectionAbsoluteTime</code></a>
<li>any <a href="../../../../net/jini/core/constraint/ConnectionRelativeTime.html" title="class in net.jini.core.constraint"><code>ConnectionRelativeTime</code></a>
<li>a <a href="../../../../net/jini/core/constraint/ConstraintAlternatives.html" title="class in net.jini.core.constraint"><code>ConstraintAlternatives</code></a> if at
    least one element is supported
<li><a href="../../../../net/jini/core/constraint/Integrity.html#NO"><code>Integrity.NO</code></a>
<li><a href="../../../../net/jini/core/constraint/Confidentiality.html#NO"><code>Confidentiality.NO</code></a>
<li><a href="../../../../net/jini/core/constraint/ClientAuthentication.html#NO"><code>ClientAuthentication.NO</code></a>
<li><a href="../../../../net/jini/core/constraint/ServerAuthentication.html#NO"><code>ServerAuthentication.NO</code></a>
<li><a href="../../../../net/jini/core/constraint/Delegation.html#NO"><code>Delegation.NO</code></a>
<li>any <a href="../../../../net/jini/core/constraint/ClientMaxPrincipal.html" title="class in net.jini.core.constraint"><code>ClientMaxPrincipal</code></a>
<li>any <a href="../../../../net/jini/core/constraint/ClientMaxPrincipalType.html" title="class in net.jini.core.constraint"><code>ClientMaxPrincipalType</code></a>
<li>any <a href="../../../../net/jini/core/constraint/ClientMinPrincipal.html" title="class in net.jini.core.constraint"><code>ClientMinPrincipal</code></a>
<li>any <a href="../../../../net/jini/core/constraint/ClientMinPrincipalType.html" title="class in net.jini.core.constraint"><code>ClientMinPrincipalType</code></a>
<li>any <a href="../../../../net/jini/core/constraint/ServerMinPrincipal.html" title="class in net.jini.core.constraint"><code>ServerMinPrincipal</code></a>
<li>any <a href="../../../../net/jini/core/constraint/DelegationAbsoluteTime.html" title="class in net.jini.core.constraint"><code>DelegationAbsoluteTime</code></a>
<li>any <a href="../../../../net/jini/core/constraint/DelegationRelativeTime.html" title="class in net.jini.core.constraint"><code>DelegationRelativeTime</code></a>
</ul>

(Note that <code>ClientMaxPrincipal</code>,
<code>ClientMaxPrincipalType</code>, <code>ClientMinPrincipal</code>,
<code>ClientMinPrincipalType</code>, <code>ServerMinPrincipal</code>,
<code>DelegationAbsoluteTime</code>, and
<code>DelegationRelativeTime</code> constraints are trivially
supported if <code>ClientAuthentication.YES</code>,
<code>ServerAuthentication.YES</code>, and <code>Delegation.YES</code>
are not supported.)</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>2.0</dd>
<dt><span class="simpleTagLabel">Implementation Specifics:</span></dt>
<dd><h2>Logging</h2>

This implementation uses the <a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Logger.html?is-external=true" title="class or interface in java.util.logging"><code>Logger</code></a> named
<code>net.jini.jeri.http.client</code> to log information at the
following levels:

<p><table summary="Describes what is logged to the client logger at
various logging levels" border=1 cellpadding=5>

<tr> <th> Level <th> Description

<tr> <td> <a href="../../../../org/apache/river/logging/Levels.html#FAILED"><code>FAILED</code></a>
     <td> exceptions thrown attempting to initiate a request

<tr> <td> <a href="../../../../org/apache/river/logging/Levels.html#HANDLED"><code>HANDLED</code></a>
     <td> exceptions caught attempting to connect a socket, set
          options on a client-side socket, or reuse a connection

<tr> <td> <a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Level.html?is-external=true#FINE" title="class or interface in java.util.logging"><code>FINE</code></a>
     <td> client-side socket operations (create, connect, reuse, and
          close)

</table>

<p>This implementation uses the <a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Logger.html?is-external=true" title="class or interface in java.util.logging"><code>Logger</code></a> named
<code>net.jini.jeri.http.server</code> to log information at the
following levels:

<p><table summary="Describes what is logged to the server logger at
various logging levels" border=1 cellpadding=5>

<tr> <th> Level <th> Description

<tr> <td> <a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Level.html?is-external=true#WARNING" title="class or interface in java.util.logging"><code>WARNING</code></a>
     <td> exceptions accepting on a server socket

<tr> <td> <a href="../../../../org/apache/river/logging/Levels.html#HANDLED"><code>HANDLED</code></a>
     <td> exceptions caught setting options on a server-side socket

<tr> <td> <a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Level.html?is-external=true#FINE" title="class or interface in java.util.logging"><code>FINE</code></a>
     <td> server-side socket operations (create, accept, and close)

</table>

<h2>System properties</h2>

In addition to the HTTP proxy-related system properties listed above, this
implementation of <code>HttpEndpoint</code> and <code>HttpServerEndpoint</code>
recognizes the following system properties:
<p>
<ul>
<li><code>org.apache.river.jeri.http.idleConnectionTimeout</code> - The number of
    milliseconds to retain idle client-side HTTP connections before closing
    them.  The default is <code>15000</code>.
<li><code>org.apache.river.jeri.http.idleServerConnectionTimeout</code> - The
    number of milliseconds to retain idle server-side HTTP connections before
    closing them.  The default is the idle client-side connection timeout (as
    specified by the <code>org.apache.river.jeri.http.idleConnectionTimeout</code>
    system property) plus <code>10000</code>.
<li><code>org.apache.river.jeri.http.responseAckTimeout</code> - The number of
    milliseconds to wait for acknowledgments from
    <a href="../../../../net/jini/io/context/AcknowledgmentSource.html" title="interface in net.jini.io.context"><code>AcknowledgmentSource</code></a> instances.  The default is
    <code>15000</code>.
<li><code>org.apache.river.jeri.http.disableProxyPersistentConnections</code> - If
    the value is case-insensitive equal to <code>true</code>, client-side
    connections through the HTTP proxy are not reused across requests;
    otherwise, persistent connections are maintained and reused if possible.
<li><code>org.apache.river.jeri.http.pingProxyConnections</code> - If
    the value is case-insensitive equal to <code>true</code>, then if an
    HTTP proxy is being used, ping the server endpoint to verify whether
    it is alive and reachable. The ping occurs before the first request
    and before each subsequent request which follows the expiration of
    the ping proxy timeout period (below) following the previous ping.
    When using an HTTP proxy it is often impossible to distinguish
    between inability to reach the server endpoint (such as because the
    server process refused a connection by the HTTP proxy) and the lack
    of response from a delivered request (which might result in an
    UnmarshalException). The ping increases the likelihood that the
    inability to reach the server endpoint can be explicitly identified.
    The default value is <code>false</code>, and no pings are done.
<li><code>org.apache.river.jeri.http.pingProxyConnectionTimeout</code> - The
    number of milliseconds from the time a server endpoint was last
    pinged before a ping will precede the next request. The default is
    <code>Long.MAX_VALUE</code> (essentially meaning, ping only before
    the first request).
</ul></dd>
</dl>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/jini/jeri/connection/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../net/jini/jeri/kerberos/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/jini/jeri/http/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright 2007-2013, multiple authors.<br>Licensed under the <a href=http://www.apache.org/licenses/LICENSE-2.0 target=child >Apache License, Version 2.0</a>, see the <a href=../../../../doc-files/NOTICE target=child >NOTICE</a> file for attributions.</small></p>
</body>
</html>
