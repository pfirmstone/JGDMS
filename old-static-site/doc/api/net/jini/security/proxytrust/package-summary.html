<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_60) on Mon Mar 28 17:57:42 AEST 2016 -->
<title>net.jini.security.proxytrust (River-Internet vtrunk API Documentation)</title>
<meta name="date" content="2016-03-28">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="net.jini.security.proxytrust (River-Internet vtrunk API Documentation)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/jini/security/policy/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../net/jini/space/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/jini/security/proxytrust/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;net.jini.security.proxytrust</h1>
<div class="docSummary">
<div class="block">
Historically, proxy trust relied on the Java sandbox, however with the 
plethora of security problems relating to serialization.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Interface Summary table, listing interfaces, and an explanation">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/jini/security/proxytrust/ProxyTrust.html" title="interface in net.jini.security.proxytrust">ProxyTrust</a></td>
<td class="colLast">Deprecated</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../net/jini/security/proxytrust/ProxyTrustIterator.html" title="interface in net.jini.security.proxytrust">ProxyTrustIterator</a></td>
<td class="colLast">Deprecated</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/jini/security/proxytrust/ServerProxyTrust.html" title="interface in net.jini.security.proxytrust">ServerProxyTrust</a></td>
<td class="colLast">Deprecated</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../net/jini/security/proxytrust/TrustEquivalence.html" title="interface in net.jini.security.proxytrust">TrustEquivalence</a></td>
<td class="colLast">
<div class="block">Defines an interface for checking that an object (that is not yet known to
 be trusted) is equivalent in trust, content, and function to a known
 trusted object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/jini/security/proxytrust/UntrustedObjectSecurityContext.html" title="interface in net.jini.security.proxytrust">UntrustedObjectSecurityContext</a></td>
<td class="colLast">
<div class="block">A trust verifier context element that provides a security context
 to use to restrict privileges when invoking methods on untrusted objects.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/jini/security/proxytrust/BasicUntrustedObjectSecurityContext.html" title="class in net.jini.security.proxytrust">BasicUntrustedObjectSecurityContext</a></td>
<td class="colLast">
<div class="block">A basic trust verifier context element that provides a security
 context to use to restrict privileges when invoking methods on untrusted
 objects, based on a specified set of permissions.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../net/jini/security/proxytrust/ProxyTrustExporter.html" title="class in net.jini.security.proxytrust">ProxyTrustExporter</a></td>
<td class="colLast">Deprecated</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/jini/security/proxytrust/ProxyTrustInvocationHandler.html" title="class in net.jini.security.proxytrust">ProxyTrustInvocationHandler</a></td>
<td class="colLast">Deprecated</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../net/jini/security/proxytrust/ProxyTrustVerifier.html" title="class in net.jini.security.proxytrust">ProxyTrustVerifier</a></td>
<td class="colLast">Deprecated</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../net/jini/security/proxytrust/SingletonProxyTrustIterator.html" title="class in net.jini.security.proxytrust">SingletonProxyTrustIterator</a></td>
<td class="colLast">Deprecated</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package net.jini.security.proxytrust Description">Package net.jini.security.proxytrust Description</h2>
<div class="block"><p>
Historically, proxy trust relied on the Java sandbox, however with the 
plethora of security problems relating to serialization.  Now with the 
development of gadget attacks, where an attacker crafts a serialized 
stream to contain objects constructed in a way to create execution paths
not intended by the original developers.
<p>
The constraint <a href="../../../../net/jini/core/constraint/AtomicInputValidation.html" title="enum in net.jini.core.constraint"><code>AtomicInputValidation</code></a>,
 and 
<a href="../../../../org/apache/river/api/io/DeSerializationPermission.html" title="class in org.apache.river.api.io"><code>DeSerializationPermission</code></a> combined with
<a href="../../../../net/jini/loader/DownloadPermission.html" title="class in net.jini.loader"><code>DownloadPermission</code></a>, prevent downloading untrusted code,
limit classes that are allowed to perform deserialization and prevent the
objects from being assembled into a form required to perform gadget attacks,
by preventing object construction when invariants are not satisfied.
<p>
In addition to the above defenses, a new method <a href="../../../../net/jini/core/lookup/ServiceRegistrar.html#lookUp-net.jini.core.lookup.ServiceTemplate-int-"><code>ServiceRegistrar.lookUp(net.jini.core.lookup.ServiceTemplate, int)</code></a>
has been provided to return bootstrap proxy's, that clients apply constraints to
and use to authenticate
a service, retrieve the service proxy and apply constraints, in this case
the proxy has been retrieved from a trusted and authenticated service.
<p>
    New unicast discovery providers:<br>
    <br>
<UL>
<li>org.apache.river.discovery.ssl.sha512.Client</li>
<li>org.apache.river.discovery.ssl.sha512.Server</li>
<li>org.apache.river.discovery.ssl.sha384.Client</li>
<li>org.apache.river.discovery.ssl.sha384.Server</li>
<li>org.apache.river.discovery.ssl.sha256.Client</li>
<li>org.apache.river.discovery.ssl.sha256.Server</li>
<li>org.apache.river.discovery.ssl.sha224.Client</li>
<li>org.apache.river.discovery.ssl.sha224.Server</li>
</UL>
The new unicast discovery providers above, automatically grant DownloadPermission
and DeSerializationPermission("ATOMIC") either to the ServiceRegistrar proxy's
class annotation, or to it's Certificate chain, to enable the proxy to be 
downloaded and deserialized, note that constraints should be used to ensure
authentication occurs prior to these permissions being granted.
<p>
In light of these developments, the proxy trust mechanisms in this package are
now obsolete.
<p>
Defines a trust verifier to support verification of proxies that use
dynamically downloaded code, implementation mechanisms to support the
verification of such proxies, and an exporter for remote objects that have
such proxies. The trust verifier is intended to be specified in a resource to
configure the operation of
<a href="../../../../net/jini/security/Security.html#verifyObjectTrust-java.lang.Object-java.lang.ClassLoader-java.util.Collection-"><code>Security.verifyObjectTrust</code></a>.
<p>
The purpose of this package is to support verification of proxies that use
dynamically downloaded code, in a way that limits the knowledge that must be
pre-configured into the client. Specifically, the idea is to require the
client to only know who the server must authenticate as (which is something
the client presumably needs to know anyway), to avoid requiring the client to
know anything else (such as where the code was downloaded from or who signed
that code), and to avoid making assumptions about the authentication
mechanism (such as requiring the server to have a public/private key pair
that it has to use for signing the proxy code).
<p>
Rather than having the client directly determine if it trusts the proxy,
the approach taken is to first determine that the client can trust the server
(by requiring the server to authenticate itself), and then determine that the
server trusts the proxy (by asking the server for a verifier and passing the
proxy to that verifier). If the client trusts the server and the server
trusts the proxy, then transitively the client is inferred to trust the
proxy. However, there are questions to answer for both of these steps.
<p>
First, there is the question of how the client can reliably verify that the
server authenticates itself, when the client does not yet trust the
downloaded proxy. The
<a href="../../../../net/jini/security/proxytrust/ProxyTrustVerifier.html" title="class in net.jini.security.proxytrust"><code>ProxyTrustVerifier</code></a>
requires the proxy to support some bootstrap remote communication mechanism
that the client does trust. Specifically, the proxy must be able to provide a
bootstrap proxy, which must be an instance of both
<a href="../../../../net/jini/security/proxytrust/ProxyTrust.html" title="interface in net.jini.security.proxytrust"><code>ProxyTrust</code></a> and
<a href="../../../../net/jini/core/constraint/RemoteMethodControl.html" title="interface in net.jini.core.constraint"><code>RemoteMethodControl</code></a>. This
bootstrap proxy either must be trusted by the client, or it must be a
dynamic proxy which is trusted by the client after removing remote codebase
information from the dynamic proxy class. In the common case of a smart
proxy wrapped around a standard dynamic proxy (for example, a dynamic proxy
for a remote object exported to use Jini extensible remote invocation
(Jini ERI)), the dynamic proxy usually can serve as the bootstrap proxy if
its invocation handler does not depend on any downloaded code, on the
assumption that the client will have configured in a trust verifier for local
dynamic proxies and their invocation handlers (for example,
<a href="../../../../net/jini/jeri/BasicJeriTrustVerifier.html" title="class in net.jini.jeri"><code>BasicJeriTrustVerifier</code></a>). However, there
is no requirement that normal communication with the server use the same
protocol used by the bootstrap proxy; the bootstrap proxy could be used
strictly for trust verification. The
<a href="../../../../net/jini/security/proxytrust/ProxyTrustExporter.html" title="class in net.jini.security.proxytrust"><code>ProxyTrustExporter</code></a>
is provided for this purpose.
<p>
Second, there is the question of how to reliably obtain a verifier from the
server. (The proxy is not sent to the server because an untrusted proxy
could use a <code>writeReplace</code> serialization method to replace
itself on the wire with a trusted proxy; the proxy needs to be checked in
the client.) Authentication of the server should be required during the
remote call through the bootstrap proxy to obtain the verifier from the
server, as should object integrity, so that the remote call and the
verifier object received from it can be trusted. To accomplish this,
the client is responsible for specifying
<a href="../../../../net/jini/core/constraint/ServerAuthentication.html#YES"><code>ServerAuthentication.YES</code></a>, an appropriate
<a href="../../../../net/jini/core/constraint/ServerMinPrincipal.html" title="class in net.jini.core.constraint"><code>ServerMinPrincipal</code></a> instance,
and <a href="../../../../net/jini/core/constraint/Integrity.html#YES"><code>Integrity.YES</code></a>
as requirements for the
<a href="../../../../net/jini/security/proxytrust/ProxyTrust.html#getProxyVerifier--"><code>ProxyTrust.getProxyVerifier</code></a> method in a
<a href="../../../../net/jini/core/constraint/MethodConstraints.html" title="interface in net.jini.core.constraint"><code>MethodConstraints</code></a> instance
included as an element of the context collection passed to
<code>Security.verifyObjectTrust</code>. Normally such constraints should be
obtained from a <a href="../../../../net/jini/config/Configuration.html" title="interface in net.jini.config"><code>Configuration</code></a> rather
than being explicitly constructed.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0</dd>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>3.0</dd>
</dl>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/jini/security/policy/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../net/jini/space/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/jini/security/proxytrust/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright 2007-2013, multiple authors.<br>Licensed under the <a href=http://www.apache.org/licenses/LICENSE-2.0 target=child >Apache License, Version 2.0</a>, see the <a href=../../../../doc-files/NOTICE target=child >NOTICE</a> file for attributions.</small></p>
</body>
</html>
