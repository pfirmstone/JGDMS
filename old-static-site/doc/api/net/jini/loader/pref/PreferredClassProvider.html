<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_60) on Mon Mar 28 17:57:32 AEST 2016 -->
<title>PreferredClassProvider (River-Internet vtrunk API Documentation)</title>
<meta name="date" content="2016-03-28">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PreferredClassProvider (River-Internet vtrunk API Documentation)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PreferredClassProvider.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/jini/loader/pref/PreferredClassLoader.html" title="class in net.jini.loader.pref"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../net/jini/loader/pref/RequireDlPermProvider.html" title="class in net.jini.loader.pref"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/jini/loader/pref/PreferredClassProvider.html" target="_top">Frames</a></li>
<li><a href="PreferredClassProvider.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.jini.loader.pref</div>
<h2 title="Class PreferredClassProvider" class="title">Class PreferredClassProvider</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/server/RMIClassLoaderSpi.html?is-external=true" title="class or interface in java.rmi.server">java.rmi.server.RMIClassLoaderSpi</a></li>
<li>
<ul class="inheritance">
<li>net.jini.loader.pref.PreferredClassProvider</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../net/jini/loader/pref/RequireDlPermProvider.html" title="class in net.jini.loader.pref">RequireDlPermProvider</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">PreferredClassProvider</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/server/RMIClassLoaderSpi.html?is-external=true" title="class or interface in java.rmi.server">RMIClassLoaderSpi</a></pre>
<div class="block">An <code>RMIClassLoader</code> provider that supports preferred
 classes.

 <p>See the <a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/server/RMIClassLoader.html?is-external=true" title="class or interface in java.rmi.server"><code>RMIClassLoader</code></a> specification and 
 <a href="../../../../net/jini/loader/ClassLoading.html" title="class in net.jini.loader"><code>ClassLoading</code></a> for information
 about how to install and configure the <code>RMIClassLoader</code>
 service provider.

 <p><code>PreferredClassProvider</code> uses instances of <a href="../../../../net/jini/loader/pref/PreferredClassLoader.html" title="class in net.jini.loader.pref"><code>PreferredClassLoader</code></a> to load classes from codebase URI paths
 supplied to <code>RMIClassLoader.loadClass</code> methods.  In 
 previous releases only codebase URL paths were permitted.

 <p><code>PreferredClassProvider</code> does not enforce <a href="../../../../net/jini/loader/DownloadPermission.html" title="class in net.jini.loader"><code>DownloadPermission</code></a> by default, but a subclass can configure it to
 do so by passing <code>true</code> as the argument to the
 <code>protected</code> constructor.

 <p>By overriding the <a href="../../../../net/jini/loader/pref/PreferredClassProvider.html#getClassAnnotation-java.lang.ClassLoader-"><code>getClassAnnotation(ClassLoader)</code></a> method, a subclass can also
 configure the class annotations to be used for classes defined by
 the system class loader, its ancestor class loaders, and any class
 loader that is not an instance of <a href="../../../../net/jini/loader/ClassAnnotation.html" title="interface in net.jini.loader"><code>ClassAnnotation</code></a> or <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URLClassLoader.html?is-external=true" title="class or interface in java.net"><code>URLClassLoader</code></a>.

 <h3>Common Terms and Behaviours</h3>

 The following section defines terms and describes behaviours common
 to how <code>PreferredClassProvider</code> implements the abstract
 methods of <code>RMIClassLoaderSpi</code>.  Where applicable, these
 definitions and descriptions are relative to the instance of
 <code>PreferredClassProvider</code> on which a method is invoked
 and the context in which it is invoked.

 <p>The <i>annotation string</i> for a class loader is determined by
 the following procedure:

 <ul>

 <li>If the loader is the system class loader or an ancestor of the
 system class loader (including the bootstrap class loader), the
 annotation string is the result of invoking <a href="../../../../net/jini/loader/pref/PreferredClassProvider.html#getClassAnnotation-java.lang.ClassLoader-"><code>getClassAnnotation(ClassLoader)</code></a>
 with the loader.

 <li>Otherwise, if the loader is an instance of <a href="../../../../net/jini/loader/ClassAnnotation.html" title="interface in net.jini.loader"><code>ClassAnnotation</code></a>, the annotation string is the result of invoking
 <a href="../../../../net/jini/loader/ClassAnnotation.html#getClassAnnotation--"><code>getClassAnnotation</code></a> on
 the loader.

 <li>Otherwise, if the loader is an instance of <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URLClassLoader.html?is-external=true" title="class or interface in java.net"><code>URLClassLoader</code></a>, the annotation string is a space-separated list of
 the URLs returned by an invocation of <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URLClassLoader.html?is-external=true#getURLs--" title="class or interface in java.net"><code>getURLs</code></a> on the loader.

 <li>Otherwise, the annotation string is the result of invoking
 <a href="../../../../net/jini/loader/pref/PreferredClassProvider.html#getClassAnnotation-java.lang.ClassLoader-"><code>getClassAnnotation(ClassLoader)</code></a> with the loader.

 </ul>

 The <i>annotation URL path</i> for a class loader is the path of
 URLs obtained by parsing the annotation string for the loader as a
 list of URLs separated by spaces, where each URL is parsed as with
 the <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URL.html?is-external=true#URL-java.lang.String-" title="class or interface in java.net"><code>URL(String)</code></a> constructor; if such
 parsing would result in a <a href="http://docs.oracle.com/javase/8/docs/api/java/net/MalformedURLException.html?is-external=true" title="class or interface in java.net"><code>MalformedURLException</code></a>, then the
 annotation URL path for the loader is only defined to the extent
 that it is not equal to any other path of URLs.

 <p>A <code>PreferredClassProvider</code> maintains an internal
 table of class loader instances indexed by keys that comprise a
 path of URIs and a parent class loader.  In previous releases keys utilised 
 <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net"><code>URL</code></a>, but now utilise <a href="../../../../org/apache/river/api/net/Uri.html" title="class in org.apache.river.api.net"><code>Uri</code></a> by default.  The following property 
 <code>-Dnet.jini.loader.codebaseAnnotation=URL</code> 
 may be set from the command line to revert to <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net"><code>URL</code></a>.  The table does not
 strongly reference the class loader instances, in order to allow
 them (and the classes they have defined) to be garbage collected
 when they are not otherwise reachable.
 
 <p>The behavioural difference between <a href="../../../../org/apache/river/api/net/Uri.html" title="class in org.apache.river.api.net"><code>Uri</code></a> and <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net"><code>URL</code></a> when used
 in ClassLoader index keys is subtle, <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net"><code>URL</code></a> remote links rely on DNS to resolve
 domain names to IP addresses, for this reason, when using strict <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net"><code>URL</code></a>
 codebase annotations, the IP address of each codebase at the time they're resolved
 is part of the codebase annotations identity.  <a href="../../../../org/apache/river/api/net/Uri.html" title="class in org.apache.river.api.net"><code>Uri</code></a> identity on the other hand is 
 determined by RFC3986 normalization and is more flexible the codebase server 
 to change its IP address or be replicated by other codebase servers 
 different IP addresses, provided they can be reached by their domain name
 address.

 <p>The methods <a href="../../../../net/jini/loader/pref/PreferredClassProvider.html#loadClass-java.lang.String-java.lang.String-java.lang.ClassLoader-"><code>loadClass</code></a>, <a href="../../../../net/jini/loader/pref/PreferredClassProvider.html#loadProxyClass-java.lang.String-java.lang.String:A-java.lang.ClassLoader-"><code>loadProxyClass</code></a>, and <a href="../../../../net/jini/loader/pref/PreferredClassProvider.html#getClassLoader-java.lang.String-"><code>getClassLoader</code></a>, which
 each have a <code>String</code> parameter named
 <code>codebase</code>, have the following behaviors in common:

 <ul>

 <li><code>codebase</code> may be <code>null</code>.  If it is not
 <code>null</code>, it is interpreted as a path of URLs by parsing
 it as a list of URLs separated by spaces.  It is recommended that
 URLs be compliant with RFC3986 Syntax.  Prior to parsing, any file path 
 separators converted to '/' and any illegal characters are percentage escaped,
 <a href="../../../../org/apache/river/api/net/Uri.html" title="class in org.apache.river.api.net"><code>Uri</code></a> is used to parse each URL
 in compliance with RFC3986, in addition file URL paths are
 converted to upper case for case insensitive file systems. The array of 
 RFC3986 normalised Uris along with the current threads context ClassLoader
 is used to locate the correct ClassLoader.  After normalisation is complete,
 each URL is parsed with the <code>URL(String)</code> constructor; this could 
 result in a <a href="http://docs.oracle.com/javase/8/docs/api/java/net/MalformedURLException.html?is-external=true" title="class or interface in java.net"><code>MalformedURLException</code></a>.  This path of URLs is the
 <i>codebase URL path</i> for the invocation.

 <li>A class loader known as the <i>codebase loader</i> is chosen
 based on <code>codebase</code> and the current thread's context
 class loader as follows.  If <code>codebase</code> is
 <code>null</code>, then the codebase loader is the current thread's
 context class loader.  Otherwise, for each non-<code>null</code>
 loader starting with the current thread's context class loader and
 continuing with each successive parent class loader, if the
 codebase Uri RFC3986 normalised path is equal to the loader's annotation
 Uri RFC3986 normalised path, then the codebase loader is that loader.  
 If no such matching loader is found, then the codebase loader is the loader 
 in this <code>PreferredClassProvider</code>'s internal table with the
 codebase Uri RFC3986 normalised path as the key's path of URLs and the current
 thread's context class loader as the key's parent class loader.  If
 no such entry exists in the table, then one is created by invoking
 <a href="../../../../net/jini/loader/pref/PreferredClassProvider.html#createClassLoader-java.net.URL:A-java.lang.ClassLoader-boolean-"><code>createClassLoader</code></a> with the codebase URL
 path, the current thread's context class loader, and the
 <code>boolean</code> <code>requireDlPerm</code> value that this
 <code>PreferredClassProvider</code> was constructed with; the
 created loader is added to the table, and it is chosen as the
 codebase loader.

 <li>The current security context has <i>permission to access the
 codebase loader</i> if it has the appropriate permission for each
 of the URLs in the codebase loader's annotation URL path, where the
 appropriate permission for a URL is defined as follows.  If the
 result of invoking <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URL.html?is-external=true#openConnection--" title="class or interface in java.net"><code>openConnection()</code></a>.<a href="http://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html?is-external=true#getPermission--" title="class or interface in java.net"><code>getPermission()</code></a> on the <code>URL</code> object is not a <a href="http://docs.oracle.com/javase/8/docs/api/java/io/FilePermission.html?is-external=true" title="class or interface in java.io"><code>FilePermission</code></a> or if it is a <code>FilePermission</code> whose
 name does not contain a directory separator, then that permission
 is the appropriate permission.  If it is a
 <code>FilePermission</code> whose name contains a directory
 separator, then the appropriate permission is a
 <code>FilePermission</code> with action <code>"read"</code> and the
 same name except with the last path segment replaced with
 <code>"-"</code> (that is, permission to read all files in the same
 directory and all subdirectories).

 </ul>

 <p>When <code>PreferredClassProvider</code> attempts to load a
 class (or interface) named <code><i>N</i></code> using class loader
 <code><i>L</i></code>, it does so in a manner equivalent to
 evaluating the following expression:

 <pre>
        Class.forName(<code><i>N</i></code>, false, <code><i>L</i></code>)
 </pre>

 In particular, the case of <code><i>N</i></code> being the binary
 name of an array class is supported.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.0</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Sun Microsystems, Inc.</dd>
<dt><span class="simpleTagLabel">Implementation Specifics:</span></dt>
<dd><p>This implementation uses the <a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Logger.html?is-external=true" title="class or interface in java.util.logging"><code>Logger</code></a> named
 <code>net.jini.loader.pref.PreferredClassProvider</code> to log
 information at the following levels:

 <table summary="Describes what is logged by PreferredClassProvider
 at various logging levels" border=1 cellpadding=5>

 <tr> <th> Level <th> Description

 <tr> <td> <a href="../../../../org/apache/river/logging/Levels.html#FAILED"><code>FAILED</code></a> <td> class loading failures

 <tr> <td> <a href="../../../../org/apache/river/logging/Levels.html#HANDLED"><code>HANDLED</code></a> <td> exceptions caught
 during class loading operations

 <tr> <td> <a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Level.html?is-external=true#FINE" title="class or interface in java.util.logging"><code>FINE</code></a> <td> invocations of <a href="../../../../net/jini/loader/pref/PreferredClassProvider.html#loadClass-java.lang.String-java.lang.String-java.lang.ClassLoader-"><code>loadClass</code></a> and <a href="../../../../net/jini/loader/pref/PreferredClassProvider.html#loadProxyClass-java.lang.String-java.lang.String:A-java.lang.ClassLoader-"><code>loadProxyClass</code></a>

 <tr> <td> <a href="http://docs.oracle.com/javase/8/docs/api/java/util/logging/Level.html?is-external=true#FINEST" title="class or interface in java.util.logging"><code>FINEST</code></a> <td> detailed activity of
 <code>loadClass</code> and <code>loadProxyClass</code>
 implementations

 </table></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/jini/loader/pref/PreferredClassProvider.html#PreferredClassProvider--">PreferredClassProvider</a></span>()</code>
<div class="block">Creates a new <code>PreferredClassProvider</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/jini/loader/pref/PreferredClassProvider.html#PreferredClassProvider-boolean-">PreferredClassProvider</a></span>(boolean&nbsp;requireDlPerm)</code>
<div class="block">Creates a new <code>PreferredClassProvider</code>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html?is-external=true" title="class or interface in java.lang">ClassLoader</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/jini/loader/pref/PreferredClassProvider.html#createClassLoader-java.net.URL:A-java.lang.ClassLoader-boolean-">createClassLoader</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net">URL</a>[]&nbsp;urls,
                 <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html?is-external=true" title="class or interface in java.lang">ClassLoader</a>&nbsp;parent,
                 boolean&nbsp;requireDlPerm)</code>
<div class="block">Creates the class loader for this
 <code>PreferredClassProvider</code> to use to load classes from
 the specified path of URLs with the specified delegation
 parent.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/jini/loader/pref/PreferredClassProvider.html#getClassAnnotation-java.lang.Class-">getClassAnnotation</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&nbsp;cl)</code>
<div class="block">Provides the implementation for <a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/server/RMIClassLoaderSpi.html?is-external=true#getClassAnnotation-java.lang.Class-" title="class or interface in java.rmi.server"><code>RMIClassLoaderSpi.getClassAnnotation(Class)</code></a>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/jini/loader/pref/PreferredClassProvider.html#getClassAnnotation-java.lang.ClassLoader-">getClassAnnotation</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html?is-external=true" title="class or interface in java.lang">ClassLoader</a>&nbsp;loader)</code>
<div class="block">Returns the annotation string for the specified class loader.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html?is-external=true" title="class or interface in java.lang">ClassLoader</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/jini/loader/pref/PreferredClassProvider.html#getClassLoader-java.lang.String-">getClassLoader</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;codebase)</code>
<div class="block">Provides the implementation for <a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/server/RMIClassLoaderSpi.html?is-external=true#getClassLoader-java.lang.String-" title="class or interface in java.rmi.server"><code>RMIClassLoaderSpi.getClassLoader(String)</code></a>.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/jini/loader/pref/PreferredClassProvider.html#loadClass-java.lang.String-java.lang.String-java.lang.ClassLoader-">loadClass</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;codebase,
         <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
         <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html?is-external=true" title="class or interface in java.lang">ClassLoader</a>&nbsp;defaultLoader)</code>
<div class="block">Provides the implementation for <a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/server/RMIClassLoaderSpi.html?is-external=true#loadClass-java.lang.String-java.lang.String-java.lang.ClassLoader-" title="class or interface in java.rmi.server"><code>RMIClassLoaderSpi.loadClass(String,String,ClassLoader)</code></a>.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/jini/loader/pref/PreferredClassProvider.html#loadProxyClass-java.lang.String-java.lang.String:A-java.lang.ClassLoader-">loadProxyClass</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;codebase,
              <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;interfaceNames,
              <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html?is-external=true" title="class or interface in java.lang">ClassLoader</a>&nbsp;defaultLoader)</code>
<div class="block">Provides the implementation of <a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/server/RMIClassLoaderSpi.html?is-external=true#loadProxyClass-java.lang.String-java.lang.String:A-java.lang.ClassLoader-" title="class or interface in java.rmi.server"><code>RMIClassLoaderSpi.loadProxyClass(String,String[],ClassLoader)</code></a>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PreferredClassProvider--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PreferredClassProvider</h4>
<pre>public&nbsp;PreferredClassProvider()</pre>
<div class="block">Creates a new <code>PreferredClassProvider</code>.

 <p>This constructor is used by the <a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/server/RMIClassLoader.html?is-external=true" title="class or interface in java.rmi.server"><code>RMIClassLoader</code></a>
 service provider location mechanism when
 <code>PreferredClassProvider</code> is configured as the
 <code>RMIClassLoader</code> provider class.

 <p>If there is a security manager, its <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/SecurityManager.html?is-external=true#checkCreateClassLoader--" title="class or interface in java.lang"><code>checkCreateClassLoader</code></a>
 method is invoked; this could result in a
 <code>SecurityException</code>.

 <p><a href="../../../../net/jini/loader/DownloadPermission.html" title="class in net.jini.loader"><code>DownloadPermission</code></a> is not enforced by the created
 provider.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/SecurityException.html?is-external=true" title="class or interface in java.lang">SecurityException</a></code> - if there is a security manager and
 the invocation of its <code>checkCreateClassLoader</code>
 method fails</dd>
</dl>
</li>
</ul>
<a name="PreferredClassProvider-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PreferredClassProvider</h4>
<pre>protected&nbsp;PreferredClassProvider(boolean&nbsp;requireDlPerm)</pre>
<div class="block">Creates a new <code>PreferredClassProvider</code>.

 <p>This constructor is used by subclasses to control whether
 or not <a href="../../../../net/jini/loader/DownloadPermission.html" title="class in net.jini.loader"><code>DownloadPermission</code></a> is enforced.

 <p>If there is a security manager, its <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/SecurityManager.html?is-external=true#checkCreateClassLoader--" title="class or interface in java.lang"><code>checkCreateClassLoader</code></a>
 method is invoked; this could result in a
 <code>SecurityException</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>requireDlPerm</code> - if <code>true</code>, the class loaders
 created by the provider will only define classes with a <a href="http://docs.oracle.com/javase/8/docs/api/java/security/CodeSource.html?is-external=true" title="class or interface in java.security"><code>CodeSource</code></a> that is granted <a href="../../../../net/jini/loader/DownloadPermission.html" title="class in net.jini.loader"><code>DownloadPermission</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/SecurityException.html?is-external=true" title="class or interface in java.lang">SecurityException</a></code> - if there is a security manager and
 the invocation of its <code>checkCreateClassLoader</code>
 method fails</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="loadClass-java.lang.String-java.lang.String-java.lang.ClassLoader-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadClass</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&nbsp;loadClass(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;codebase,
                       <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                       <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html?is-external=true" title="class or interface in java.lang">ClassLoader</a>&nbsp;defaultLoader)
                throws <a href="http://docs.oracle.com/javase/8/docs/api/java/net/MalformedURLException.html?is-external=true" title="class or interface in java.net">MalformedURLException</a>,
                       <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassNotFoundException.html?is-external=true" title="class or interface in java.lang">ClassNotFoundException</a></pre>
<div class="block">Provides the implementation for <a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/server/RMIClassLoaderSpi.html?is-external=true#loadClass-java.lang.String-java.lang.String-java.lang.ClassLoader-" title="class or interface in java.rmi.server"><code>RMIClassLoaderSpi.loadClass(String,String,ClassLoader)</code></a>.

 <p><code>PreferredClassProvider</code> implements this method
 as follows:

 <p>If <code>name</code> is the binary name of an array class
 (of one or more dimensions) with a primitive element type, this
 method returns the <code>Class</code> for that array class.

 <p>Otherwise, if <code>defaultLoader</code> is not
 <code>null</code> and any of the following conditions are true:

 <ul>

 <li>There is no security manager.

 <li>The codebase loader is not the current thread's context
 class loader and the current security context does not have
 permission to access the codebase loader.

 <li><code>codebase</code> is <code>null</code>.

 <li>The specified codebase URL path is equal to the annotation
 URL path of <code>defaultLoader</code>.

 <li>The codebase loader is not an instance of <a href="../../../../net/jini/loader/pref/PreferredClassLoader.html" title="class in net.jini.loader.pref"><code>PreferredClassLoader</code></a>.

 <li>The codebase loader is an instance of
 <code>PreferredClassLoader</code> and an invocation of <a href="../../../../net/jini/loader/pref/PreferredClassLoader.html#isPreferredResource-java.lang.String-boolean-"><code>isPreferredResource</code></a>
 on the codebase loader with the class name described below as
 the first argument and <code>true</code> as the second argument
 returns <code>false</code>.  If <code>name</code> is the binary
 name of an array class (of one or more dimensions) with a
 element type that is a reference type, the class name passed to
 <code>isPreferredResource</code> is the binary name of that
 element type; otherwise, the class name passed to
 <code>isPreferredResource</code> is <code>name</code>.  This
 invocation is only done if none of the previous conditions are
 true.  If <code>isPreferredResource</code> throws an
 <code>IOException</code>, this method throws a
 <code>ClassNotFoundException</code>.

 </ul>

 then this method attempts to load the class with the specified
 name using <code>defaultLoader</code>.  If this attempt
 succeeds, this method returns the resulting <code>Class</code>;
 if it throws a <code>ClassNotFoundException</code>, this method
 proceeds as follows.

 <p>Otherwise, this method attempts to load the class with the
 specified name using the codebase loader, if there is a
 security manager and the current security context has
 permission to access the codebase loader, or using the current
 thread's context class loader otherwise.  If this attempt
 succeeds, this method returns the resulting <code>Class</code>;
 if it throws a <code>ClassNotFoundException</code>, this method
 throws a <code>ClassNotFoundException</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/server/RMIClassLoaderSpi.html?is-external=true#loadClass-java.lang.String-java.lang.String-java.lang.ClassLoader-" title="class or interface in java.rmi.server">loadClass</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/server/RMIClassLoaderSpi.html?is-external=true" title="class or interface in java.rmi.server">RMIClassLoaderSpi</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>codebase</code> - the codebase URL path as a space-separated list
 of URLs, or <code>null</code></dd>
<dd><code>name</code> - the binary name of the class to load</dd>
<dd><code>defaultLoader</code> - additional contextual class loader
 to use, or <code>null</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <code>Class</code> object representing the loaded class</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/net/MalformedURLException.html?is-external=true" title="class or interface in java.net">MalformedURLException</a></code> - if <code>codebase</code> is
 non-<code>null</code> and contains an invalid URL</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassNotFoundException.html?is-external=true" title="class or interface in java.lang">ClassNotFoundException</a></code> - if a definition for the class
 could not be loaded</dd>
</dl>
</li>
</ul>
<a name="getClassAnnotation-java.lang.Class-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClassAnnotation</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getClassAnnotation(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&nbsp;cl)</pre>
<div class="block">Provides the implementation for <a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/server/RMIClassLoaderSpi.html?is-external=true#getClassAnnotation-java.lang.Class-" title="class or interface in java.rmi.server"><code>RMIClassLoaderSpi.getClassAnnotation(Class)</code></a>.

 <p><code>PreferredClassProvider</code> implements this method
 as follows:

 <p>If <code>cl</code> is an array class (of one or more
 dimensions) with a primitive element type, this method returns
 <code>null</code>.

 <p>Otherwise, this method returns the annotation string for the
 defining class loader of <code>cl</code>, except that if the
 annotation string would be determined by an invocation of
 <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URLClassLoader.html?is-external=true#getURLs--" title="class or interface in java.net"><code>URLClassLoader.getURLs</code></a> on that
 loader and the current security context does not have the
 permissions necessary to connect to each URL returned by that
 invocation (where the permission to connect to a URL is
 determined by invoking <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URL.html?is-external=true#openConnection--" title="class or interface in java.net"><code>openConnection()</code></a>.<a href="http://docs.oracle.com/javase/8/docs/api/java/net/URLConnection.html?is-external=true#getPermission--" title="class or interface in java.net"><code>getPermission()</code></a> on the <code>URL</code> object), this method
 returns the result of invoking <a href="../../../../net/jini/loader/pref/PreferredClassProvider.html#getClassAnnotation-java.lang.ClassLoader-"><code>getClassAnnotation(ClassLoader)</code></a> with the loader instead.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/server/RMIClassLoaderSpi.html?is-external=true#getClassAnnotation-java.lang.Class-" title="class or interface in java.rmi.server">getClassAnnotation</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/server/RMIClassLoaderSpi.html?is-external=true" title="class or interface in java.rmi.server">RMIClassLoaderSpi</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cl</code> - the class to obtain the annotation string for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the annotation string for the class, or
 <code>null</code></dd>
</dl>
</li>
</ul>
<a name="getClassAnnotation-java.lang.ClassLoader-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClassAnnotation</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getClassAnnotation(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html?is-external=true" title="class or interface in java.lang">ClassLoader</a>&nbsp;loader)</pre>
<div class="block">Returns the annotation string for the specified class loader.

 <p>This method is invoked in order to determine the annotation
 string for the system class loader, an ancestor of the system
 class loader, any class loader that is not an instance of
 <a href="../../../../net/jini/loader/ClassAnnotation.html" title="interface in net.jini.loader"><code>ClassAnnotation</code></a> or <a href="http://docs.oracle.com/javase/8/docs/api/java/net/URLClassLoader.html?is-external=true" title="class or interface in java.net"><code>URLClassLoader</code></a>, or (for an
 invocation of <a href="../../../../net/jini/loader/pref/PreferredClassProvider.html#getClassAnnotation-java.lang.Class-"><code>getClassAnnotation(Class)</code></a>) a <code>URLClassLoader</code> for
 which the current security context does not have the
 permissions necessary to connect to all of its URLs.

 <p><code>PreferredClassProvider</code> implements this method
 as follows:

 <p>This method returns the value of the system property
 <code>"java.rmi.server.codebase"</code> (or possibly an earlier
 cached value).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>loader</code> - the class loader to obtain the annotation string
 for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the annotation string for the class loader, or
 <code>null</code></dd>
</dl>
</li>
</ul>
<a name="getClassLoader-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClassLoader</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html?is-external=true" title="class or interface in java.lang">ClassLoader</a>&nbsp;getClassLoader(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;codebase)
                           throws <a href="http://docs.oracle.com/javase/8/docs/api/java/net/MalformedURLException.html?is-external=true" title="class or interface in java.net">MalformedURLException</a></pre>
<div class="block">Provides the implementation for <a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/server/RMIClassLoaderSpi.html?is-external=true#getClassLoader-java.lang.String-" title="class or interface in java.rmi.server"><code>RMIClassLoaderSpi.getClassLoader(String)</code></a>.

 <p><code>PreferredClassProvider</code> implements this method
 as follows:

 <p>If there is a security manager, its
 <code>checkPermission</code> method is invoked with a
 <code>RuntimePermission("getClassLoader")</code> permission;
 this could result in a <code>SecurityException</code>.  Also,
 if there is a security manager, the codebase loader is not the
 current thread's context class loader, and the current security
 context does not have permission to access the codebase loader,
 this method throws a <code>SecurityException</code>.

 <p>This method returns the codebase loader if there is a
 security manager, or the current thread's context class loader
 otherwise.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/server/RMIClassLoaderSpi.html?is-external=true#getClassLoader-java.lang.String-" title="class or interface in java.rmi.server">getClassLoader</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/server/RMIClassLoaderSpi.html?is-external=true" title="class or interface in java.rmi.server">RMIClassLoaderSpi</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>codebase</code> - the codebase URL path as a space-separated list
 of URLs, or <code>null</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a class loader for the specified codebase URL path</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/net/MalformedURLException.html?is-external=true" title="class or interface in java.net">MalformedURLException</a></code> - if <code>codebase</code> is
 non-<code>null</code> and contains an invalid URL</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/SecurityException.html?is-external=true" title="class or interface in java.lang">SecurityException</a></code> - if there is a security manager and
 the invocation of its <code>checkPermission</code> method
 fails, or if the current security context does not have the
 permissions necessary to connect to all of the URLs in the
 codebase URL path</dd>
</dl>
</li>
</ul>
<a name="loadProxyClass-java.lang.String-java.lang.String:A-java.lang.ClassLoader-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadProxyClass</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&nbsp;loadProxyClass(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;codebase,
                            <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;interfaceNames,
                            <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html?is-external=true" title="class or interface in java.lang">ClassLoader</a>&nbsp;defaultLoader)
                     throws <a href="http://docs.oracle.com/javase/8/docs/api/java/net/MalformedURLException.html?is-external=true" title="class or interface in java.net">MalformedURLException</a>,
                            <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassNotFoundException.html?is-external=true" title="class or interface in java.lang">ClassNotFoundException</a></pre>
<div class="block">Provides the implementation of <a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/server/RMIClassLoaderSpi.html?is-external=true#loadProxyClass-java.lang.String-java.lang.String:A-java.lang.ClassLoader-" title="class or interface in java.rmi.server"><code>RMIClassLoaderSpi.loadProxyClass(String,String[],ClassLoader)</code></a>.

 <p><code>PreferredClassProvider</code> implements this method
 as follows:

 <p>If <code>defaultLoader</code> is not <code>null</code> and
 any of the following conditions are true:

 <ul>

 <li>There is no security manager.

 <li>The codebase loader is not the current thread's context
 class loader and the current security context does not have
 permission to access the codebase loader.

 <li><code>codebase</code> is <code>null</code>.

 <li>The specified codebase URL path is equal to the annotation
 URL path of <code>defaultLoader</code>.

 <li>The codebase loader is not an instance of <a href="../../../../net/jini/loader/pref/PreferredClassLoader.html" title="class in net.jini.loader.pref"><code>PreferredClassLoader</code></a>.

 <li>The codebase loader is an instance of
 <code>PreferredClassLoader</code> and an invocation of <a href="../../../../net/jini/loader/pref/PreferredClassLoader.html#isPreferredResource-java.lang.String-boolean-"><code>isPreferredResource</code></a>
 on the codebase loader for each element of
 <code>interfaces</code>, with the element as the first argument
 and <code>true</code> as the second argument, all return
 <code>false</code>.  These invocations are only done if none of
 the previous conditions are true.  If any invocation of
 <code>isPreferredResource</code> throws an
 <code>IOException</code>, this method throws a
 <code>ClassNotFoundException</code>.

 </ul>

 then this method attempts to load all of the interfaces named
 by the elements of <code>interfaces</code> using
 <code>defaultLoader</code>.  If all of the interfaces are
 loaded successfully, then

 <ul>

 <li>If all of the loaded interfaces are <code>public</code>: if
 there is a security manager, the codebase loader is the current
 thread's context class loader or the current security context
 has permission to access the codebase loader, and the
 annotation URL path for the codebase loader is not equal to the
 annotation URL path for <code>defaultLoader</code>, this method
 first attempts to get a dynamic proxy class (using <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Proxy.html?is-external=true#getProxyClass-java.lang.ClassLoader-java.lang.Class...-" title="class or interface in java.lang.reflect"><code>Proxy.getProxyClass</code></a>) that is defined by
 the codebase loader and that implements all of the interfaces,
 and if this attempt succeeds, this method returns the resulting
 <code>Class</code>.  Otherwise, this method attempts to get a
 dynamic proxy class that is defined by
 <code>defaultLoader</code> and that implements all of the
 interfaces.  If that attempt succeeds, this method returns the
 resulting <code>Class</code>; if it throws an
 <code>IllegalArgumentException</code>, this method throws a
 <code>ClassNotFoundException</code>.

 <li>If all of the non-<code>public</code> interfaces are
 defined by the same class loader: this method attempts to get a
 dynamic proxy class that is defined by that loader and that
 implements all of the interfaces.  If this attempt succeeds,
 this method returns the resulting <code>Class</code>; if it
 throws an <code>IllegalArgumentException</code>, this method
 throws a <code>ClassNotFoundException</code>.

 <li>Otherwise (if there are two or more non-<code>public</code>
 interfaces defined by different class loaders): this method
 throws a <code>LinkageError</code>.

 </ul>

 If any of the attempts to load one of the interfaces throws a
 <code>ClassNotFoundException</code>, this method proceeds as
 follows.

 <p>Otherwise, this method attempts to load all of the
 interfaces named by the elements of <code>interfaces</code>
 using the codebase loader, if there is a security manager and
 the current security context has permission to access the
 codebase loader, or using the current thread's context class
 loader otherwise.  If all of the interfaces are loaded
 successfully, then

 <ul>

 <li>If all of the loaded interfaces are <code>public</code>:
 this method attempts to get a dynamic proxy class that is
 defined by the loader used to load the interfaces and that
 implements all of the interfaces.  If this attempt succeeds,
 this method returns the resulting <code>Class</code>; if it
 throws an <code>IllegalArgumentException</code>, this method
 throws a <code>ClassNotFoundException</code>.

 <li>If all of the non-<code>public</code> interfaces are
 defined by the same class loader: this method attempts to get a
 dynamic proxy class that is defined by that loader and that
 implements all of the interfaces.  If this attempt succeeds,
 this method returns the resulting <code>Class</code>; if it
 throws an <code>IllegalArgumentException</code>, this method
 throws a <code>ClassNotFoundException</code>.

 <li>Otherwise (if there are two or more non-<code>public</code>
 interfaces defined by different class loaders): this method
 throws a <code>LinkageError</code>.

 </ul>

 If any of the attempts to load one of the interfaces throws a
 <code>ClassNotFoundException</code>, this method throws a
 <code>ClassNotFoundException</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/server/RMIClassLoaderSpi.html?is-external=true#loadProxyClass-java.lang.String-java.lang.String:A-java.lang.ClassLoader-" title="class or interface in java.rmi.server">loadProxyClass</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/8/docs/api/java/rmi/server/RMIClassLoaderSpi.html?is-external=true" title="class or interface in java.rmi.server">RMIClassLoaderSpi</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>codebase</code> - the codebase URL path as a space-separated list
 of URLs, or <code>null</code></dd>
<dd><code>interfaceNames</code> - the binary names of the interfaces for
 the proxy class to implement</dd>
<dd><code>defaultLoader</code> - additional contextual class loader to use,
 or <code>null</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a dynamic proxy class that implements the named
 interfaces</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/net/MalformedURLException.html?is-external=true" title="class or interface in java.net">MalformedURLException</a></code> - if <code>codebase</code> is
 non-<code>null</code> and contains an invalid URL</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassNotFoundException.html?is-external=true" title="class or interface in java.lang">ClassNotFoundException</a></code> - if a definition for one of the
 named interfaces could not be loaded, or if creation of the
 dynamic proxy class failed (such as if
 <code>Proxy.getProxyClass</code> would throw an
 <code>IllegalArgumentException</code> for the given interface
 list)</dd>
</dl>
</li>
</ul>
<a name="createClassLoader-java.net.URL:A-java.lang.ClassLoader-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>createClassLoader</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html?is-external=true" title="class or interface in java.lang">ClassLoader</a>&nbsp;createClassLoader(<a href="http://docs.oracle.com/javase/8/docs/api/java/net/URL.html?is-external=true" title="class or interface in java.net">URL</a>[]&nbsp;urls,
                                        <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html?is-external=true" title="class or interface in java.lang">ClassLoader</a>&nbsp;parent,
                                        boolean&nbsp;requireDlPerm)</pre>
<div class="block">Creates the class loader for this
 <code>PreferredClassProvider</code> to use to load classes from
 the specified path of URLs with the specified delegation
 parent.

 <p><code>PreferredClassProvider</code> implements this method
 as follows:

 <p>This method creates a new instance of <a href="../../../../net/jini/loader/pref/PreferredClassLoader.html" title="class in net.jini.loader.pref"><code>PreferredClassLoader</code></a> that loads classes and resources from
 <code>urls</code>, delegates to <code>parent</code>, and
 enforces <a href="../../../../net/jini/loader/DownloadPermission.html" title="class in net.jini.loader"><code>DownloadPermission</code></a> if
 <code>requireDlPerm</code> is <code>true</code>.  The created
 loader uses a restricted security context to ensure that the
 URL retrieval operations undertaken by the loader cannot
 exercise a permission that is not implied by the permissions
 necessary to access the loader as a codebase loader for the
 specified path of URLs.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>urls</code> - the path of URLs to load classes and resources from</dd>
<dd><code>parent</code> - the parent class loader for delegation</dd>
<dd><code>requireDlPerm</code> - if <code>true</code>, the loader must only
 define classes with a <a href="http://docs.oracle.com/javase/8/docs/api/java/security/CodeSource.html?is-external=true" title="class or interface in java.security"><code>CodeSource</code></a> that is granted
 <code>DownloadPermission</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the created class loader</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.1</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PreferredClassProvider.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/jini/loader/pref/PreferredClassLoader.html" title="class in net.jini.loader.pref"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../net/jini/loader/pref/RequireDlPermProvider.html" title="class in net.jini.loader.pref"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/jini/loader/pref/PreferredClassProvider.html" target="_top">Frames</a></li>
<li><a href="PreferredClassProvider.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright 2007-2013, multiple authors.<br>Licensed under the <a href=http://www.apache.org/licenses/LICENSE-2.0 target=child >Apache License, Version 2.0</a>, see the <a href=../../../../doc-files/NOTICE target=child >NOTICE</a> file for attributions.</small></p>
</body>
</html>
