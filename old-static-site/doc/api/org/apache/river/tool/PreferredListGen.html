<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_60) on Mon Mar 28 17:57:40 AEST 2016 -->
<title>PreferredListGen (River-Internet vtrunk API Documentation)</title>
<meta name="date" content="2016-03-28">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PreferredListGen (River-Internet vtrunk API Documentation)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":9,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PreferredListGen.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/river/tool/JarWrapper.html" title="class in org.apache.river.tool"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/river/tool/ProfilingSecurityManager.html" title="class in org.apache.river.tool"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/river/tool/PreferredListGen.html" target="_top">Frames</a></li>
<li><a href="PreferredListGen.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.river.tool</div>
<h2 title="Class PreferredListGen" class="title">Class PreferredListGen</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.river.tool.PreferredListGen</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">PreferredListGen</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Tool used to generate the preferred class information for downloadable JAR
 files in the form of a META-INF/PREFERRED.LIST required for use by the <a href="../../../../net/jini/loader/pref/PreferredClassLoader.html" title="class in net.jini.loader.pref"><code>PreferredClassLoader</code></a>. The list is generated by
 examining the dependencies of classes contained within a target JAR file and
 zero or more additional supporting JAR files.  Through various command-line
 options, a set of "root" classes are identified as belonging to a public API.
 These root classes provide the starting point for recursively computing a
 dependency graph, finding all of the classes referenced in the public API of
 the root classes, finding all of the classes referenced in turn by the public
 API of those classes, and so on, until no new classes are found.  The results
 of the dependency analysis are combined with the preferred list information
 in the additional supporting JAR files to compute a preferred list having the
 smallest number of entries that describes the preferred state of the classes
 and resources contained in all of the JAR files. The output of the tool is a
 new version of the target JAR file containing the generated preferred list,
 and/or a copy of the list printed to <code>System.out</code>.
 <p>
 This tool implements the first guideline described in <a href="../../../../net/jini/loader/pref/package-summary.html"><code>net.jini.loader.pref</code></a>.  In many cases it is sufficient to specify
 the roots via the <code>-proxy</code> option. The <code>-api</code> and 
 <code>-impl</code> options are used to generate lists for JAR files
 in which the roots are not completely defined by the
 proxy classes, or for non-service JAR files. Since there is no definitive 
 set of rules for determining whether a class should be preferred, 
 the developer should verify the correctness of the generated list.
 <p>
 The following items are discussed below:
 <ul>
 <li><a href="#running">Running the Tool</a>
 <li><a href="#processing">Processing Options</a>
 <li><a href="#examples">Examples</a>
 </ul>

 <a name="running"></a>
 <h3>Running the Tool</h3>

 To run the tool on UNIX platforms:
 <blockquote><pre>
 java -jar <var><b>install_dir</b></var>/lib/preferredlistgen.jar <var><b>processing_options</b></var>
 </pre></blockquote>
 To run the tool on Microsoft Windows platforms:
 <blockquote><pre>
 java -jar <var><b>install_dir</b></var>\lib\preferredlistgen.jar <var><b>processing_options</b></var>
 </pre></blockquote>
 <p>
 Note that the options for this tool can be specified in any order, and
 can be intermixed.

 <a name="processing"></a>
 <h3>Processing Options</h3>
 <p>
 <dl>
 <dt><b><code>-cp</code> <var>input_classpath</var></b>
 <dd>Identifies the classpath for all of the classes that might need to be
 included in the dependency analysis. Typically this will include all of your
 application classes, classes from the River-Internet release, and any other classes on
 which your classes might depend. It is safe to include more classes than are
 actually necessary because the tool limits the scope of the preferred list to
 those classes actually included in the JAR files being analyzed.  It is not
 necessary to include the JAR files being analyzed in the classpath as they
 will be appended automatically. It is also unnecessary to include any classes
 that are part of the Java(TM) 2 SDK.  The class path should be in the form of a
 list of directories or JAR files, delimited by a colon (":") on UNIX
 platforms and a semi-colon (";") on Microsoft Windows platforms. The order of
 locations in the path does not matter.
 </dd>
 <p>
 <dl>
 <dt><b><code>-jar</code> <var>file</var></b>
 <dd>Identifies a JAR file containing the classes to analyze. If the JAR
 manifest includes a <code>Class-Path</code> attribute, then these JAR files
 will also be processed recursively. The default behavior is to replace the
 original JAR file with a new file containing the generated preferred list. If
 the original target JAR file contained a preferred list, that list is ignored
 and is replaced by the newly generated list. This option may be specified
 zero or more times. If multiple <code>-jar</code> options are specified, the
 first file specified is considered the target JAR file.
 </dd>
 <p>
 <dt><b><code>-proxy</code> <var>classname</var></b>
 <dd>Identifies the class name of a proxy in the target JAR file. All of the
 public interfaces implemented by the proxy, and all of the public super
 interfaces of any non-public interfaces implemented by the proxy, are
 included in the set of roots for performing dependency analysis. This option
 may be specified zero or more times.
 </dd>
 <p>
 <dt><b><code>-api</code> <var>name-expression</var></b>
 <dd>
 This option identifies a class or a JAR entry, package, or namespace that is
 to be considered public and therefore <b>not</b> preferred. If
 <var>name-expression</var> ends with ".class", it represents a class whose
 name is <var>name-expression</var> without the ".class" suffix and with each
 '/' character replaced with a '.'. Otherwise, if <var>name-expression</var>
 ends with "/" or "/*", it represents a directory wildcard matching all
 entries in the named directory. Otherwise, if <var>name-expression</var> ends
 with "/-", it represents a namespace wildcard that matches all entries in the
 named directory and all of its subdirectories. Otherwise
 <var>name-expression</var> represents a non-class resource in the JAR
 file. Alternatively, <var>name-expression</var> may be expressed directly as
 a class name. A nested (including inner) class must be expressed as a binary
 class name; if <code>Bar</code> is a nested class of <code>Foo,</code> then
 <code>Bar</code> would be expressed as <code>Foo$Bar</code>. The most
 specific <var>name-expression</var> is used to match an entry. By default,
 any public class in the JAR file that matches <var>name-expression</var> will
 be included in the set of roots for dependency analysis. If
 <var>name-expression</var> is a class name, then that class will be included
 in the set of roots irregardless of its access modifier. If the
 <code>-nonpublic</code> option is also present, then matching non-public
 classes will also be included in the set of roots. The <code>-api</code>
 option may be specified zero or more times.
 <p>
 As an example, presuming the class <code>org.apache.river.example.Foo</code>
 was included in the target JAR file, then the following would all cause
 that class to be included in the public API:
 <blockquote><pre>
    -api org/apache/river/example/Foo.class
    -api org.apache.river.example.Foo
    -api org/apache/river/example/*
    -api org/apache/river/example/-
 </pre></blockquote>
 and the last example would also apply to, for instance,
 <code>org.apache.river.example.gui.FooPanel</code>.
 </dd>
 <p>
 <dt><b><code>-impl</code> <var>name-expression</var></b>
 <dd>This option identifies a class or a JAR entry, package, or namespace that
 is to be considered private and therefore preferred.
 <var>name-expression</var> is interpreted as described for the
 <code>-api</code> option. If <var>name-expression</var> is a class name or a
 class JAR entry name, that class will be considered preferred and will not be
 selected by or included in the dependency analysis even if it was included in
 the set of roots as a result of processing the <code>-proxy</code> and
 <code>-api</code> options. This option may be specified zero or more times.
 </dd>
 <p>
 <dt><b><code>-nonpublic</code></b>
 <dd>This option forces any non-public classes matched by the
 <code>-api</code> <var>name-expression</var>s to be included in the set of
 roots for dependency analysis.
 </dd>
 <p>
 <dt><b><code>-nomerge</code></b>
 <dd>Causes the classes in JAR files which do not contain preferred
 lists to be considered not preferred. If this option is not specified, all classes in 
 JAR files which do not contain preferred lists are merged with the classes supplied by 
 the target JAR file for purposes of dependency
 analysis; the additional classes are not included in the generated target JAR file.
 The <code>-impl</code> and <code>-api</code> options may be used to initialize
 the preferred state of the merged classes. 
 </dd>
 <p>
 <dt><b><code>-default</code> <var>false|true</var></b>
 <dd>Specifies the default preferred value to use when generating the
 preferred list and forces the generation of an explicit default preferred
 entry in the preferred list.  If this option is not provided, the default
 that produces a list with the fewest entries is used; an explicit entry for
 the default <code>false</code> case will not be generated (except when no
 single entry is found, in which case a default preferred value of
 <code>false</code> is written). In the event of optimization ties, a default
 value of <var>false</var> is used.
 </dd>
 <p>
 <dt><b><code>-noreplace</code></b>
 <dd>
 Inhibits the replacement of the original JAR file with a new updated JAR
 file. If this option is specified, the preferred list is printed on
 <code>System.out</code>.
 </dd>
 <p>
 <dt><b><code>-print</code></b>
 <dd>
 Causes the preferred list to be printed to <code>System.out</code>, even if
 the list is also placed in an updated JAR file.
 </dd>
 <p>
 <dt><b><code>-tell</code> <var>classname</var></b>
 <dd>Specifies the fully qualified name of a class for which dependency
 information is desired. This option causes the tool to display information
 about every class in the dependency graph that references the specified
 class. If no class references the specified class, it will be identified as a
 root class. This information is sent to the error stream of the tool, not to
 the normal output stream.  This option can be specified zero or more
 times. If this option is used, all other output options are ignored, and the
 normal class output is not produced. This option is useful for debugging.
 </dd>
 </dl>
 <p>
 Using values from the <code>-api</code> and <code>-impl</code> options, a
 graph is constructed that defines initial preferred values to be inherited by
 the target JAR entries as they are loaded into the graph. If there were no
 such options specified, all entries from the target JAR file loaded into the
 graph initially will be marked as preferred.  The classes and resources
 identified by the first <code>-jar</code> option (the target JAR file) are
 then loaded into this graph and are assigned their initial preferred
 values. The remaining JAR files that include preferred lists are loaded into
 the graph and the entries assigned preferred values based on the preferred
 list contained in the JAR file being loaded. If a non-target JAR file does
 not contain a preferred list, the default behavior is to merge the classes
 and resources in the file with those of the target JAR file (for purposes of
 dependency analysis only), making them subject to the <code>-api</code> and
 <code>-impl</code> options.  The <code>-nomerge</code> option can be used to
 override the default behavior, causing all such classes to be assigned a
 value of not preferred.  The set of root classes is constructed by finding
 all of the classes from the target JAR file that are marked as not preferred
 in the graph, and by adding all of the public interfaces, or any public
 superinterfaces of non-public interfaces implemented by the proxy classes
 specified via the <code>-proxy</code> option. Starting with the root classes,
 dependent classes are identified by examining the compiled class file for the
 class, finding all of the public and protected fields, methods, constructors,
 interfaces, and super classes it references, and then in turn examining those
 classes. Any dependent classes found that also exist in the graph will be
 marked not preferred, unless that class was explicitly named by a
 <code>-impl</code> option. Any root class or dependent class named by a
 <code>-impl</code> option retains its original preferred value and no further
 dependency analysis is performed for the class.  The range of the dependency
 analysis is restricted to the set of classes included in the graph.
 <p> 
 The tool then processes the graph to find the smallest number of preferred
 list entries that describes the preferred state of all classes and resources
 in the graph.  The resulting preferred list may be printed or included in a
 JAR file that replaces the original (first) JAR file.
 <p>
 <a name="examples"></a>
 <h3>Examples</h3>

 The following example generates the preferred list for the codebase JAR file
 for reggie, replacing the original reggie-dl.jar with a new file containing
 the preferred list. The reggie implementation includes four proxy classes,
 however <code>org.apache.river.reggie.RegistrarProxy</code> and
 <code>org.apache.river.reggie.AdminProxy</code> are not identified on the command
 line because they are parent classes of
 <code>org.apache.river.reggie.ConstrainableRegistrarProxy</code> and
 <code>org.apache.river.reggie.ConstrainableAdminProxy</code>.
 <p>
 <blockquote><pre>
 java -jar <var><b>install_dir</b></var>/lib/preferredlistgen.jar \
      -cp <var><b>install_dir</b></var>/lib/jsk-platform.jar \
      -jar <var><b>install_dir</b></var>/lib-dl/reggie-dl.jar \
      -jar <var><b>install_dir</b></var>/lib-dl/jsk-dl.jar \
      -proxy org.apache.river.reggie.ConstrainableRegistrarProxy \
      -proxy org.apache.river.reggie.ConstrainableAdminProxy 
 </pre></blockquote>
 <p></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Sun Microsystems, Inc.</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/river/tool/PreferredListGen.html#PreferredListGen--">PreferredListGen</a></span>()</code>
<div class="block">Constructor for programmatic access.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/tool/PreferredListGen.html#addApi-java.lang.String-">addApi</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;apiName)</code>
<div class="block">Initialize the dependency graph with a public API entry.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/tool/PreferredListGen.html#addImpl-java.lang.String-">addImpl</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;implName)</code>
<div class="block">Initialize the dependency graph with a private API entry.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/tool/PreferredListGen.html#addJar-java.lang.String-">addJar</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;jarName)</code>
<div class="block">Add <code>jarName</code> to the list of JAR files to process.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/tool/PreferredListGen.html#addProxy-java.lang.String-">addProxy</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;proxy)</code>
<div class="block">Add <code>proxy</code> to the set of proxies used to identify
 roots.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/tool/PreferredListGen.html#addTell-java.lang.String-">addTell</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tellName)</code>
<div class="block">Add <code>tellName</code> to the tell list.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/tool/PreferredListGen.html#compute--">compute</a></span>()</code>
<div class="block">Load JAR files, initialize the dependency graph, and perform the 
 dependency analysis.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/tool/PreferredListGen.html#generatePreferredList-java.io.PrintWriter-">generatePreferredList</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/io/PrintWriter.html?is-external=true" title="class or interface in java.io">PrintWriter</a>&nbsp;writer)</code>
<div class="block">Generate the preferred list from the dependency graph.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/tool/PreferredListGen.html#main-java.lang.String:A-">main</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;args)</code>
<div class="block">The command line interface to the tool.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/tool/PreferredListGen.html#setClasspath-java.lang.String-">setClasspath</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)</code>
<div class="block">Set the classpath of the classes to include in the analysis.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/tool/PreferredListGen.html#setDefault-boolean-">setDefault</a></span>(boolean&nbsp;def)</code>
<div class="block">Set the default value to use for the preferred list.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/tool/PreferredListGen.html#setKeepNonPublicRoots-boolean-">setKeepNonPublicRoots</a></span>(boolean&nbsp;keepNonPublicRoots)</code>
<div class="block">Set the flag controlling whether non-public classes should be retained
 in the set of roots used for performing dependency analysis.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/tool/PreferredListGen.html#setMerge-boolean-">setMerge</a></span>(boolean&nbsp;doMerge)</code>
<div class="block">Select the behavior for processing non-target JAR files which do not
 contain preferred lists.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/tool/PreferredListGen.html#setPrint-boolean-">setPrint</a></span>(boolean&nbsp;printResults)</code>
<div class="block">Set the flag controlling whether a preferred list is to be printed.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/river/tool/PreferredListGen.html#setReplaceJar-boolean-">setReplaceJar</a></span>(boolean&nbsp;replaceJar)</code>
<div class="block">Set the flag controlling whether a preferred list is to be placed
 in the target JAR file.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PreferredListGen--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PreferredListGen</h4>
<pre>public&nbsp;PreferredListGen()</pre>
<div class="block">Constructor for programmatic access. The public <code>set</code> and
 <code>add</code> methods must be called to supply the argument
 values. Then <code>compute</code> and <code>generatePreferredList</code>
 must be called to perform the dependency analysis and to generate the
 preferred list.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setPrint-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPrint</h4>
<pre>public final&nbsp;void&nbsp;setPrint(boolean&nbsp;printResults)</pre>
<div class="block">Set the flag controlling whether a preferred list is to be printed.
 This flag is ignored if the <code>PrintWriter</code> supplied in
 the call to <code>generatePreferredList</code> is non-<code>null</code>.
 The default value is <code>false</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>printResults</code> - if <code>true</code>, print the preferred list</dd>
</dl>
</li>
</ul>
<a name="setKeepNonPublicRoots-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setKeepNonPublicRoots</h4>
<pre>public final&nbsp;void&nbsp;setKeepNonPublicRoots(boolean&nbsp;keepNonPublicRoots)</pre>
<div class="block">Set the flag controlling whether non-public classes should be retained
 in the set of roots used for performing dependency analysis. By default,
 non-public classes are discarded.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keepNonPublicRoots</code> - if <code>true</code>, non-public root classes
        are retained</dd>
</dl>
</li>
</ul>
<a name="setMerge-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMerge</h4>
<pre>public final&nbsp;void&nbsp;setMerge(boolean&nbsp;doMerge)</pre>
<div class="block">Select the behavior for processing non-target JAR files which do not
 contain preferred lists. If <code>doMerge</code> is <code>true</code>, the
 classes contained in these JAR files are merged with the target JAR
 file for purposes of dependency analysis. The <code>-impl</code> and
 <code>-api</code> options may be used to initialize the preferred state
 of the merged classes. If <code>doMerge</code> is <code>false</code>,
 the classes in non-target JAR files which do not contain preferred lists are
 initialized with a preferred state of 'not preferred'. The default behavior
 corresponds to calling <code>setMerge(true)</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>doMerge</code> - if <code>true</code>, perform the merge</dd>
</dl>
</li>
</ul>
<a name="setReplaceJar-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setReplaceJar</h4>
<pre>public final&nbsp;void&nbsp;setReplaceJar(boolean&nbsp;replaceJar)</pre>
<div class="block">Set the flag controlling whether a preferred list is to be placed
 in the target JAR file. The default value is <code>true</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>replaceJar</code> - if <code>true</code>, update the target JAR file</dd>
</dl>
</li>
</ul>
<a name="addJar-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addJar</h4>
<pre>public final&nbsp;void&nbsp;addJar(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;jarName)</pre>
<div class="block">Add <code>jarName</code> to the list of JAR files to process.
 The first call identifies the target JAR file. This method must
 be called at least once.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>jarName</code> - the name of the JAR file to add to the set.</dd>
</dl>
</li>
</ul>
<a name="addTell-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addTell</h4>
<pre>public final&nbsp;void&nbsp;addTell(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;tellName)</pre>
<div class="block">Add <code>tellName</code> to the tell list. If a class is identified
 as not preferred through the dependency analysis, and if that class
 name is in the tell list, then the source dependency causing the class to
 be included is printed. This is for debugging purposes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tellName</code> - the name of the JAR file to add to the tell set.</dd>
</dl>
</li>
</ul>
<a name="addImpl-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addImpl</h4>
<pre>public final&nbsp;void&nbsp;addImpl(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;implName)</pre>
<div class="block">Initialize the dependency graph with a private API entry.
 <code>implName</code> identifies a class or a JAR entry, package, or
 namespace that is to be considered private and therefore preferred. If
 <code>implName</code> ends with ".class", it represents a class whose
 name is <code>implName</code> without the ".class" suffix and with each
 '/' character replaced with a '.'. Otherwise, if <code>implName</code>
 ends with "/" or "/*", it represents a directory wildcard matching all
 entries in the named directory. Otherwise, if <code>implName</code> ends
 with "/-", it represents a namespace wildcard that matches all entries in
 the named directory and all of its subdirectories. Otherwise
 <code>implName</code> represents a non-class resource in the JAR
 file. Alternatively, <code>implName</code> may be expressed directly as a
 class name. The most specific <code>implName</code> is used to match an
 entry found in the JAR files being analyzed. If <code>implName</code> is
 either of the class name forms, then that class is forced to be preferred
 and is not included in the public API even it is found by the dependency
 analysis.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>implName</code> - the identifier for the private API entry</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <code>implName</code> does not match
         any of the criteria above.</dd>
</dl>
</li>
</ul>
<a name="addApi-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addApi</h4>
<pre>public final&nbsp;void&nbsp;addApi(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;apiName)</pre>
<div class="block">Initialize the dependency graph with a public API entry.
 <code>apiName</code> identifies a class or a JAR entry, package, or
 namespace that is to be considered public and therefore <b>not</b>
 preferred. If <code>apiName</code> ends with ".class", it represents a
 class whose name is <code>apiName</code> without the ".class" suffix and
 with each '/' character replaced with a '.'. Otherwise, if
 <code>apiName</code> ends with "/" or "/*", it represents a directory
 wildcard matching all entries in the named directory. Otherwise, if
 <code>apiName</code> ends with "/-", it represents a namespace wildcard
 that matches all entries in the named directory and all of its
 subdirectories. Otherwise <code>apiName</code> represents a non-class
 resource in the JAR file. Alternatively, <code>apiName</code> may be
 expressed directly as a class name. The most specific
 <code>apiName</code> is used to match an entry found in the JAR files
 being analyzed. Any class in the JAR file that matches
 <code>apiName</code> will be included in the set of roots for dependency
 analysis. This method may be called zero or more times.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>apiName</code> - the identifier for the public API entry</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if <code>apiName</code> does not match
         any of the criteria above.</dd>
</dl>
</li>
</ul>
<a name="setDefault-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDefault</h4>
<pre>public final&nbsp;void&nbsp;setDefault(boolean&nbsp;def)</pre>
<div class="block">Set the default value to use for the preferred list. If this method
 is not called, the default will be chosen which results in a preferred
 list with the smallest number of entries. In the event of optimization
 ties, a default value of <code>false</code> is used.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>def</code> - the default value to use for the list</dd>
</dl>
</li>
</ul>
<a name="setClasspath-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setClasspath</h4>
<pre>public final&nbsp;void&nbsp;setClasspath(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;path)</pre>
<div class="block">Set the classpath of the classes to include in the analysis. It is
 not necessary to include the JAR files supplied via calls to the
 <code>addJar</code> method.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - the classpath for the classes to include in the analysis</dd>
</dl>
</li>
</ul>
<a name="addProxy-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addProxy</h4>
<pre>public final&nbsp;void&nbsp;addProxy(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;proxy)</pre>
<div class="block">Add <code>proxy</code> to the set of proxies used to identify
 roots. This method may be called zero or more times.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>proxy</code> - the name of the proxy class</dd>
</dl>
</li>
</ul>
<a name="compute--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compute</h4>
<pre>public&nbsp;void&nbsp;compute()
             throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Load JAR files, initialize the dependency graph, and perform the 
 dependency analysis.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an error occurs constructing the class loader
         or reading any of the JAR files.</dd>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - in the following cases:
         <ul>
         <li>if <code>addJar</code>  was never
             called or <code>addJar</code> was called with a file which
             does not exist or is a directory
         <li>if any proxies supplied via the <code>addProxy</code> 
             method could not be found 
         <li>if any component in the classpath does not exist 
         </ul></dd>
</dl>
</li>
</ul>
<a name="generatePreferredList-java.io.PrintWriter-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generatePreferredList</h4>
<pre>public&nbsp;void&nbsp;generatePreferredList(<a href="http://docs.oracle.com/javase/8/docs/api/java/io/PrintWriter.html?is-external=true" title="class or interface in java.io">PrintWriter</a>&nbsp;writer)
                           throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Generate the preferred list from the dependency graph. If a default value
 was specified, the optimal list using that default value is
 generated. Otherwise, the optimal list among the two possibilities
 (<code>false/true</code> in order of precedence for 'optimization ties')
 is generated. An explicit default entry is generated only for the
 default <code>true</code> case.
 <p>
 The preferred list is sorted such that more specific
 definitions precede less specific definitions; ties are broken with
 an alphabetic secondary sort.
 <p>
 The preferred list will be placed in the target JAR file unless
 <code>setReplaceJar(false)</code> was called. The preferred list will be
 written to <code>writer</code> if it is non-<code>null</code>.  If
 <code>writer</code> is <code>null</code> and <code>setPrint(true)</code>
 was called, the preferred list will be written to
 <code>System.out</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>writer</code> - the <code>PrintWriter</code> to write the preferred list 
               to.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if an error occurs updating the target JAR file.</dd>
</dl>
</li>
</ul>
<a name="main-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;args)</pre>
<div class="block">The command line interface to the tool. Parses the command line arguments,
 computes the dependency graph, and generates the preferred list.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>args</code> - the command line arguments</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PreferredListGen.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/river/tool/JarWrapper.html" title="class in org.apache.river.tool"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/river/tool/ProfilingSecurityManager.html" title="class in org.apache.river.tool"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/river/tool/PreferredListGen.html" target="_top">Frames</a></li>
<li><a href="PreferredListGen.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright 2007-2013, multiple authors.<br>Licensed under the <a href=http://www.apache.org/licenses/LICENSE-2.0 target=child >Apache License, Version 2.0</a>, see the <a href=../../../../doc-files/NOTICE target=child >NOTICE</a> file for attributions.</small></p>
</body>
</html>
