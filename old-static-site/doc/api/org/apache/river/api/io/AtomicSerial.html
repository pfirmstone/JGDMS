<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_60) on Mon Mar 28 17:57:34 AEST 2016 -->
<title>AtomicSerial (River-Internet vtrunk API Documentation)</title>
<meta name="date" content="2016-03-28">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AtomicSerial (River-Internet vtrunk API Documentation)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AtomicSerial.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/river/api/io/AtomicMarshalOutputStream.html" title="class in org.apache.river.api.io"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/river/api/io/AtomicSerial.Factory.html" title="class in org.apache.river.api.io"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/river/api/io/AtomicSerial.html" target="_top">Frames</a></li>
<li><a href="AtomicSerial.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li>Optional</li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Element</li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.river.api.io</div>
<h2 title="Annotation Type AtomicSerial" class="title">Annotation Type AtomicSerial</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/annotation.Retention.html?is-external=true" title="class or interface in java.lang">@Retention</a>(value=RUNTIME)
 <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/annotation.Target.html?is-external=true" title="class or interface in java.lang">@Target</a>(value=TYPE)
public @interface <span class="memberNameLabel">AtomicSerial</span></pre>
<div class="block">Traditional java de-serialization cannot be used over untrusted connections
 for the following reasons:
 <p>
 The serial stream can be manipulated to allow the attacker to instantiate
 any Serializable object available on the CLASSPATH or any object that
 has a default constructor, such as ClassLoader.
 <p>
 Failure to validate invariants during construction, or as a result of 
 an exception, objects can remain in an invalid state after construction. 
 During traditional de-serialization, an objects state is written after it's
 creation, thus an attacker can steal a reference to the object without
 any invariant check protection, by manipulating the stream.
 <p>
 In addition many java objects, including ObjectInputStream itself, read 
 integer length values from the stream and instantiate arrays without checking 
 the size first, so an attacker can easily cause an Error that brings
 down the JVM. 
 <p>
 A requirement of implementing this interface is to implement a constructor
 that accepts a single GetArg parameter.  This constructor may be
 public or have default visibility, even in this case, the constructor
 must be treated as a public constructor.
 <p>
 <code>
 public AtomicSerialImpl(GetArg arg) throws InvalidObjectException{<br>
        super(check(arg)); // If super also implements @AtomicSerial<br>
        // Set fields here<br>
 }<br>
 </code>
 In addition, before calling a superclass constructor, the class must
 also implement a static invariant check method, for example:
 <p>
 static GetArg check(GetArg) throws InvalidObjectException;
 <p>
 Atomic stands for atomic failure, if invariants cannot be satisfied an 
 instance cannot be created and hence a reference cannot be stolen.
 <p>
 The serial form of AtomicSerial is backward compatible with Serializable
 classes that do not define a writeObject method.  It is also compatible 
 with Serializable classes that define a writeObject method that calls
 defaultWriteObject.  AtomicSerial provides backward compatibility with 
 Serializable classes that implement writeObject and write other Objects
 or primitives to the stream when <a href="../../../../../org/apache/river/api/io/AtomicSerial.ReadObject.html" title="interface in org.apache.river.api.io"><code>AtomicSerial.ReadObject</code></a> and <a href="../../../../../org/apache/river/api/io/AtomicSerial.ReadInput.html" title="annotation in org.apache.river.api.io"><code>AtomicSerial.ReadInput</code></a>
 are implemented by the class.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>peter</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../org/apache/river/api/io/AtomicSerial.ReadObject.html" title="interface in org.apache.river.api.io"><code>AtomicSerial.ReadObject</code></a>, 
<a href="../../../../../org/apache/river/api/io/AtomicSerial.ReadInput.html" title="annotation in org.apache.river.api.io"><code>AtomicSerial.ReadInput</code></a>, 
<a href="../../../../../org/apache/river/api/io/AtomicSerial.GetArg.html" title="class in org.apache.river.api.io"><code>AtomicSerial.GetArg</code></a></dd>
</dl>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AtomicSerial.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/river/api/io/AtomicMarshalOutputStream.html" title="class in org.apache.river.api.io"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/river/api/io/AtomicSerial.Factory.html" title="class in org.apache.river.api.io"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/river/api/io/AtomicSerial.html" target="_top">Frames</a></li>
<li><a href="AtomicSerial.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li>Optional</li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Element</li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright 2007-2013, multiple authors.<br>Licensed under the <a href=http://www.apache.org/licenses/LICENSE-2.0 target=child >Apache License, Version 2.0</a>, see the <a href=../../../../../doc-files/NOTICE target=child >NOTICE</a> file for attributions.</small></p>
</body>
</html>
